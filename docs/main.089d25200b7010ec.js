"use strict";(self.webpackChunkangular_sign_up=self.webpackChunkangular_sign_up||[]).push([[179],{146:()=>{function Me(n){return"function"==typeof n}function Yc(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const rf=Yc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ya(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class dt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Me(r))try{r()}catch(s){e=s instanceof rf?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_x(s)}catch(o){e=e??[],o instanceof rf?e=[...e,...o.errors]:e.push(o)}}if(e)throw new rf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)_x(e);else{if(e instanceof dt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ya(t,e)}remove(e){const{_finalizers:t}=this;t&&Ya(t,e),e instanceof dt&&e._removeParent(this)}}dt.EMPTY=(()=>{const n=new dt;return n.closed=!0,n})();const mx=dt.EMPTY;function gx(n){return n instanceof dt||n&&"closed"in n&&Me(n.remove)&&Me(n.add)&&Me(n.unsubscribe)}function _x(n){Me(n)?n():n.unsubscribe()}const wo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},sf={setTimeout(n,e,...t){const{delegate:r}=sf;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=sf;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function yx(n){sf.setTimeout(()=>{const{onUnhandledError:e}=wo;if(!e)throw n;e(n)})}function af(){}const oW=Iy("C",void 0,void 0);function Iy(n,e,t){return{kind:n,value:e,error:t}}let Eo=null;function lf(n){if(wo.useDeprecatedSynchronousErrorHandling){const e=!Eo;if(e&&(Eo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Eo;if(Eo=null,t)throw r}}else n()}class Dy extends dt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gx(e)&&e.add(this)):this.destination=fW}static create(e,t,r){return new Qc(e,t,r)}next(e){this.isStopped?Sy(function lW(n){return Iy("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Sy(function aW(n){return Iy("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sy(oW,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const uW=Function.prototype.bind;function Ty(n,e){return uW.call(n,e)}class dW{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){cf(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){cf(r)}else cf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){cf(t)}}}class Qc extends Dy{constructor(e,t,r){let i;if(super(),Me(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&wo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ty(e.next,s),error:e.error&&Ty(e.error,s),complete:e.complete&&Ty(e.complete,s)}):i=e}this.destination=new dW(i)}}function cf(n){wo.useDeprecatedSynchronousErrorHandling?function cW(n){wo.useDeprecatedSynchronousErrorHandling&&Eo&&(Eo.errorThrown=!0,Eo.error=n)}(n):yx(n)}function Sy(n,e){const{onStoppedNotification:t}=wo;t&&sf.setTimeout(()=>t(n,e))}const fW={closed:!0,next:af,error:function hW(n){throw n},complete:af},Ay="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ms(n){return n}function My(...n){return vx(n)}function vx(n){return 0===n.length?Ms:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function mW(n){return n&&n instanceof Dy||function pW(n){return n&&Me(n.next)&&Me(n.error)&&Me(n.complete)}(n)&&gx(n)}(t)?t:new Qc(t,r,i);return lf(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=bx(r))((i,s)=>{const o=new Qc({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Ay](){return this}pipe(...t){return vx(t)(this)}toPromise(t){return new(t=bx(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function bx(n){var e;return null!==(e=n??wo.Promise)&&void 0!==e?e:Promise}const gW=Yc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ce=(()=>{class n extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new wx(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new gW}next(t){lf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){lf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){lf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?mx:(this.currentObservers=null,s.push(t),new dt(()=>{this.currentObservers=null,Ya(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Le;return t.source=this,t}}return n.create=(e,t)=>new wx(e,t),n})();class wx extends Ce{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:mx}}function Ex(n){return Me(n?.lift)}function ht(n){return e=>{if(Ex(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xe(n,e,t,r,i){return new _W(n,e,t,r,i)}class _W extends Dy{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ee(n,e){return ht((t,r)=>{let i=0;t.subscribe(Xe(r,s=>{r.next(n.call(e,s,i++))}))})}function Ix(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Dx(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function yW(n,e){return function(t,r){e(t,r,n)}}function vW(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}function Co(n){return this instanceof Co?(this.v=n,this):new Co(n)}function EW(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Co?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function CW(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Sx(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const ky=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ax(n){return Me(n?.then)}function Mx(n){return Me(n[Ay])}function xx(n){return Symbol.asyncIterator&&Me(n?.[Symbol.asyncIterator])}function kx(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Rx=function DW(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ox(n){return Me(n?.[Rx])}function Nx(n){return EW(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Co(t.read());if(i)return yield Co(void 0);yield yield Co(r)}}finally{t.releaseLock()}})}function Px(n){return Me(n?.getReader)}function vn(n){if(n instanceof Le)return n;if(null!=n){if(Mx(n))return function TW(n){return new Le(e=>{const t=n[Ay]();if(Me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ky(n))return function SW(n){return new Le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Ax(n))return function AW(n){return new Le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,yx)})}(n);if(xx(n))return Fx(n);if(Ox(n))return function MW(n){return new Le(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Px(n))return function xW(n){return Fx(Nx(n))}(n)}throw kx(n)}function Fx(n){return new Le(e=>{(function kW(n,e){var t,r,i,s;return function bW(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=CW(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Vi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function St(n,e,t=1/0){return Me(e)?St((r,i)=>ee((s,o)=>e(r,s,i,o))(vn(n(r,i))),t):("number"==typeof e&&(t=e),ht((r,i)=>function RW(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let _=!1;vn(t(m,u++)).subscribe(Xe(e,b=>{i?.(b),s?f(b):e.next(b)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const b=l.shift();o?Vi(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(Xe(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Qa(n=1/0){return St(Ms,n)}const qr=new Le(n=>n.complete());function Lx(n){return n&&Me(n.schedule)}function Ry(n){return n[n.length-1]}function Vx(n){return Me(Ry(n))?n.pop():void 0}function Xc(n){return Lx(Ry(n))?n.pop():void 0}function uf(n,e=0){return ht((t,r)=>{t.subscribe(Xe(r,i=>Vi(r,n,()=>r.next(i),e),()=>Vi(r,n,()=>r.complete(),e),i=>Vi(r,n,()=>r.error(i),e)))})}function df(n,e=0){return ht((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Bx(n,e){if(!n)throw new Error("Iterable cannot be null");return new Le(t=>{Vi(t,e,()=>{const r=n[Symbol.asyncIterator]();Vi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function qe(n,e){return e?function UW(n,e){if(null!=n){if(Mx(n))return function PW(n,e){return vn(n).pipe(df(e),uf(e))}(n,e);if(ky(n))return function LW(n,e){return new Le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Ax(n))return function FW(n,e){return vn(n).pipe(df(e),uf(e))}(n,e);if(xx(n))return Bx(n,e);if(Ox(n))return function VW(n,e){return new Le(t=>{let r;return Vi(t,e,()=>{r=n[Rx](),Vi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}(n,e);if(Px(n))return function BW(n,e){return Bx(Nx(n),e)}(n,e)}throw kx(n)}(n,e):vn(n)}function Xa(...n){const e=Xc(n),t=function NW(n,e){return"number"==typeof Ry(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?vn(r[0]):Qa(t)(qe(r,e)):qr}function Ux(n={}){const{connector:e=(()=>new Ce),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return ht((m,_)=>{c++,!d&&!u&&h();const b=l=l??e();_.add(()=>{c--,0===c&&!d&&!u&&(a=Oy(p,i))}),b.subscribe(_),!o&&c>0&&(o=new Qc({next:C=>b.next(C),error:C=>{d=!0,h(),a=Oy(f,t,C),b.error(C)},complete:()=>{u=!0,h(),a=Oy(f,r),b.complete()}}),vn(m).subscribe(o))})(s)}}function Oy(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Qc({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Ge(n){for(let e in n)if(n[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function Ny(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function We(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(We).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Py(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const jW=Ge({__forward_ref__:Ge});function Ze(n){return n.__forward_ref__=Ze,n.toString=function(){return We(this())},n}function re(n){return Fy(n)?n():n}function Fy(n){return"function"==typeof n&&n.hasOwnProperty(jW)&&n.__forward_ref__===Ze}class D extends Error{constructor(e,t){super(function hf(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function le(n){return"string"==typeof n?n:null==n?"":String(n)}function ff(n,e){throw new D(-201,!1)}function ur(n,e){null==n&&function Ve(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Re(n){return{providers:n.providers||[],imports:n.imports||[]}}function pf(n){return jx(n,mf)||jx(n,$x)}function jx(n,e){return n.hasOwnProperty(e)?n[e]:null}function Hx(n){return n&&(n.hasOwnProperty(Ly)||n.hasOwnProperty(QW))?n[Ly]:null}const mf=Ge({\u0275prov:Ge}),Ly=Ge({\u0275inj:Ge}),$x=Ge({ngInjectableDef:Ge}),QW=Ge({ngInjectorDef:Ge});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let Vy;function Rr(n){const e=Vy;return Vy=n,e}function zx(n,e,t){const r=pf(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&J.Optional?null:void 0!==e?e:void ff(We(n))}function xs(n){return{toString:n}.toString()}var Gr=(()=>((Gr=Gr||{})[Gr.OnPush=0]="OnPush",Gr[Gr.Default=1]="Default",Gr))(),Wr=(()=>{return(n=Wr||(Wr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Wr;var n})();const Ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Za={},Ne=[],gf=Ge({\u0275cmp:Ge}),By=Ge({\u0275dir:Ge}),_f=Ge({\u0275pipe:Ge}),qx=Ge({\u0275mod:Ge}),Ui=Ge({\u0275fac:Ge}),Zc=Ge({__NG_ELEMENT_ID__:Ge});let ZW=0;function nt(n){return xs(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Gr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ne,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Wr.Emulated,id:"c"+ZW++,styles:n.styles||Ne,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=Kx(n.inputs,r),i.outputs=Kx(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Gx).filter(Wx):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Pn).filter(Wx):null,i})}function Gx(n){return Ue(n)||Nn(n)}function Wx(n){return null!==n}function Pe(n){return xs(()=>({type:n.type,bootstrap:n.bootstrap||Ne,declarations:n.declarations||Ne,imports:n.imports||Ne,exports:n.exports||Ne,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Kx(n,e){if(null==n)return Za;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const K=nt;function Yn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ue(n){return n[gf]||null}function Nn(n){return n[By]||null}function Pn(n){return n[_f]||null}function dr(n,e){const t=n[qx]||null;if(!t&&!0===e)throw new Error(`Type ${We(n)} does not have '\u0275mod' property.`);return t}function Qn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Yr(n){return Array.isArray(n)&&!0===n[1]}function Hy(n){return 0!=(8&n.flags)}function wf(n){return 2==(2&n.flags)}function Ef(n){return 1==(1&n.flags)}function Qr(n){return null!==n.template}function i4(n){return 0!=(256&n[2])}function Ao(n,e){return n.hasOwnProperty(Ui)?n[Ui]:null}class a4{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Xn(){return Xx}function Xx(n){return n.type.prototype.ngOnChanges&&(n.setInput=c4),l4}function l4(){const n=Jx(this),e=n?.current;if(e){const t=n.previous;if(t===Za)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function c4(n,e,t,r){const i=Jx(n)||function u4(n,e){return n[Zx]=e}(n,{previous:Za,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new a4(l&&l.currentValue,e,o===Za),n[r]=e}Xn.ngInherit=!0;const Zx="__ngSimpleChanges__";function Jx(n){return n[Zx]||null}function Ft(n){for(;Array.isArray(n);)n=n[0];return n}function Cf(n,e){return Ft(e[n])}function fr(n,e){return Ft(e[n.index])}function Wy(n,e){return n.data[e]}function rl(n,e){return n[e]}function pr(n,e){const t=e[n];return Qn(t)?t:t[0]}function If(n){return 64==(64&n[2])}function ks(n,e){return null==e?null:n[e]}function ek(n){n[18]=0}function Ky(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const se={lFrame:uk(null),bindingsEnabled:!0};function nk(){return se.bindingsEnabled}function S(){return se.lFrame.lView}function De(){return se.lFrame.tView}function mr(n){return se.lFrame.contextLView=n,n[8]}function gr(n){return se.lFrame.contextLView=null,n}function $t(){let n=rk();for(;null!==n&&64===n.type;)n=n.parent;return n}function rk(){return se.lFrame.currentTNode}function ci(n,e){const t=se.lFrame;t.currentTNode=n,t.isParent=e}function Yy(){return se.lFrame.isParent}function Qy(){se.lFrame.isParent=!1}function Fn(){const n=se.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function il(){return se.lFrame.bindingIndex++}function D4(n,e){const t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,Xy(e)}function Xy(n){se.lFrame.currentDirectiveIndex=n}function ak(){return se.lFrame.currentQueryIndex}function Jy(n){se.lFrame.currentQueryIndex=n}function S4(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function lk(n,e,t){if(t&J.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&J.Host||(i=S4(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=se.lFrame=ck();return r.currentTNode=e,r.lView=n,!0}function ev(n){const e=ck(),t=n[1];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ck(){const n=se.lFrame,e=null===n?null:n.child;return null===e?uk(n):e}function uk(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function dk(){const n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const hk=dk;function tv(){const n=dk();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ln(){return se.lFrame.selectedIndex}function Rs(n){se.lFrame.selectedIndex=n}function ft(){const n=se.lFrame;return Wy(n.tView,n.selectedIndex)}function Df(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Tf(n,e,t){pk(n,e,3,t)}function Sf(n,e,t,r){(3&n[2])===t&&pk(n,e,t,r)}function nv(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function pk(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(P4(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function P4(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class iu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Af(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];gk(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function mk(n){return 3===n||4===n||6===n}function gk(n){return 64===n.charCodeAt(0)}function Mf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||_k(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function _k(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function yk(n){return-1!==n}function sl(n){return 32767&n}function ol(n,e){let t=function U4(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let iv=!0;function xf(n){const e=iv;return iv=n,e}let j4=0;const ui={};function ou(n,e){const t=ov(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,sv(r.data,n),sv(e,null),sv(r.blueprint,null));const i=kf(n,e),s=n.injectorIndex;if(yk(i)){const o=sl(i),a=ol(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function sv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ov(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function kf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Sk(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Rf(n,e,t){!function H4(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Zc)&&(r=t[Zc]),null==r&&(r=t[Zc]=j4++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function wk(n,e,t){if(t&J.Optional||void 0!==n)return n;ff()}function Ek(n,e,t,r){if(t&J.Optional&&void 0===r&&(r=null),0==(t&(J.Self|J.Host))){const i=n[9],s=Rr(void 0);try{return i?i.get(e,r,t&J.Optional):zx(e,r,t&J.Optional)}finally{Rr(s)}}return wk(r,0,t)}function Ck(n,e,t,r=J.Default,i){if(null!==n){if(1024&e[2]){const o=function W4(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=Ik(s,o,t,r|J.Self,ui);if(a!==ui)return a;let l=s.parent;if(!l){const c=o[21];if(c){const u=c.get(t,ui,r);if(u!==ui)return u}l=Sk(o),o=o[15]}s=l}return i}(n,e,t,r,ui);if(o!==ui)return o}const s=Ik(n,e,t,r,ui);if(s!==ui)return s}return Ek(e,t,r,i)}function Ik(n,e,t,r,i){const s=function q4(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Zc)?n[Zc]:void 0;return"number"==typeof e?e>=0?255&e:G4:e}(t);if("function"==typeof s){if(!lk(e,n,r))return r&J.Host?wk(i,0,r):Ek(e,t,r,i);try{const o=s(r);if(null!=o||r&J.Optional)return o;ff()}finally{hk()}}else if("number"==typeof s){let o=null,a=ov(n,e),l=-1,c=r&J.Host?e[16][6]:null;for((-1===a||r&J.SkipSelf)&&(l=-1===a?kf(n,e):e[a+8],-1!==l&&Tk(r,!1)?(o=e[1],a=sl(l),e=ol(l,e)):a=-1);-1!==a;){const u=e[1];if(Dk(s,a,u.data)){const d=z4(a,e,t,o,r,c);if(d!==ui)return d}l=e[a+8],-1!==l&&Tk(r,e[1].data[a+8]===c)&&Dk(s,a,e)?(o=u,a=sl(l),e=ol(l,e)):a=-1}}return i}function z4(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Of(a,o,t,null==r?wf(a)&&iv:r!=o&&0!=(3&a.type),i&J.Host&&s===a);return null!==u?au(e,o,u,a):ui}function Of(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&Qr(f)&&f.type===t)return l}return null}function au(n,e,t,r){let i=n[t];const s=e.data;if(function F4(n){return n instanceof iu}(i)){const o=i;o.resolving&&function HW(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Oe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():le(n)}(s[t]));const a=xf(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Rr(o.injectImpl):null;lk(n,r,J.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function N4(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Xx(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Rr(l),xf(a),o.resolving=!1,hk()}}return i}function Dk(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Tk(n,e){return!(n&J.Self||n&J.Host&&e)}class al{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Ck(this._tNode,this._lView,e,r,t)}}function G4(){return new al($t(),S())}function on(n){return xs(()=>{const e=n.prototype.constructor,t=e[Ui]||av(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ui]||av(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function av(n){return Fy(n)?()=>{const e=av(re(n));return e&&e()}:Ao(n)}function Sk(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Mo(n){return function $4(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(mk(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}($t(),n)}const cl="__parameters__";function dl(n,e,t){return xs(()=>{const r=function lv(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(cl)?l[cl]:Object.defineProperty(l,cl,{value:[]})[cl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class R{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _r(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),_r(r,e)):e!==n&&e.push(r)}return e}function $i(n,e){n.forEach(t=>Array.isArray(t)?$i(t,e):e(t))}function Mk(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Nf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function uu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function yr(n,e,t){let r=hl(n,e);return r>=0?n[1|r]=t:(r=~r,function X4(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function uv(n,e){const t=hl(n,e);if(t>=0)return n[1|t]}function hl(n,e){return function Rk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const du={},hv="__NG_DI_FLAG__",Ff="ngTempTokenPath",o5=/\n/gm,Ok="__source";let hu;function fl(n){const e=hu;return hu=n,e}function l5(n,e=J.Default){if(void 0===hu)throw new D(-203,!1);return null===hu?zx(n,void 0,e):hu.get(n,e&J.Optional?null:void 0,e)}function I(n,e=J.Default){return(function XW(){return Vy}()||l5)(re(n),e)}function rt(n,e=J.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),I(n,e)}function fv(n){const e=[];for(let t=0;t<n.length;t++){const r=re(n[t]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,s=J.Default;for(let o=0;o<r.length;o++){const a=r[o],l=c5(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(I(i,s))}else e.push(I(r))}return e}function fu(n,e){return n[hv]=e,n.prototype[hv]=e,n}function c5(n){return n[hv]}const lt=fu(dl("Optional"),8),pl=fu(dl("SkipSelf"),4);var Zn=(()=>((Zn=Zn||{})[Zn.Important=1]="Important",Zn[Zn.DashCase=2]="DashCase",Zn))();const yv=new Map;let S5=0;const bv="__ngContext__";function Cn(n,e){Qn(e)?(n[bv]=e[20],function M5(n){yv.set(n[20],n)}(e)):n[bv]=e}function Ev(n,e){return undefined(n,e)}function _u(n){const e=n[3];return Yr(e)?e[3]:e}function Cv(n){return eR(n[13])}function Iv(n){return eR(n[4])}function eR(n){for(;null!==n&&!Yr(n);)n=n[4];return n}function gl(n,e,t,r,i){if(null!=r){let s,o=!1;Yr(r)?s=r:Qn(r)&&(o=!0,r=r[0]);const a=Ft(r);0===n&&null!==t?null==i?oR(e,t,a):xo(e,t,a,i||null,!0):1===n&&null!==t?xo(e,t,a,i||null,!0):2===n?function kv(n,e,t){const r=Bf(n,e);r&&function X5(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function e8(n,e,t,r,i){const s=t[7];s!==Ft(t)&&gl(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];yu(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Tv(n,e,t){return n.createElement(e,t)}function nR(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Ky(i,-1)),t.splice(r,1)}function Sv(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&nR(i,r),e>0&&(n[t-1][4]=r[4]);const s=Nf(n,10+e);!function $5(n,e){yu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function rR(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&yu(n,e,t,3,null,null),function G5(n){let e=n[13];if(!e)return Av(n[1],n);for(;e;){let t=null;if(Qn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Qn(e)&&Av(e[1],e),e=e[3];null===e&&(e=n),Qn(e)&&Av(e[1],e),t=e&&e[4]}e=t}}(e)}}function Av(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function Q5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof iu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function Y5(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Ft(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Yr(e[3])){t!==e[3]&&nR(t,e);const r=e[19];null!==r&&r.detachView(n)}!function x5(n){yv.delete(n[20])}(e)}}function iR(n,e,t){return function sR(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Wr.None||i===Wr.Emulated)return null}return fr(r,t)}(n,e.parent,t)}function xo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function oR(n,e,t){n.appendChild(e,t)}function aR(n,e,t,r,i){null!==r?xo(n,e,t,r,i):oR(n,e,t)}function Bf(n,e){return n.parentNode(e)}function lR(n,e,t){return uR(n,e,t)}let Hf,Pv,$f,uR=function cR(n,e,t){return 40&n.type?fr(n,t):null};function Uf(n,e,t,r){const i=iR(n,r,e),s=e[11],a=lR(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)aR(s,i,t[l],a,!1);else aR(s,i,t,a,!1)}function jf(n,e){if(null!==e){const t=e.type;if(3&t)return fr(e,n);if(4&t)return xv(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return jf(n,r);{const i=n[e.index];return Yr(i)?xv(-1,i):Ft(i)}}if(32&t)return Ev(e,n)()||Ft(n[e.index]);{const r=hR(n,e);return null!==r?Array.isArray(r)?r[0]:jf(_u(n[16]),r):jf(n,e.next)}}return null}function hR(n,e){return null!==e?n[16][6].projection[e.projection]:null}function xv(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return jf(r,i)}return e[7]}function Rv(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Cn(Ft(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Rv(n,e,t.child,r,i,s,!1),gl(e,n,i,a,s);else if(32&l){const c=Ev(t,r);let u;for(;u=c();)gl(e,n,i,u,s);gl(e,n,i,a,s)}else 16&l?fR(n,e,r,t,i,s):gl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function yu(n,e,t,r,i,s){Rv(t,r,n.firstChild,e,i,s,!1)}function fR(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)gl(e,n,i,l[c],s);else Rv(n,e,l,o[3],i,s,!0)}function pR(n,e,t){n.setAttribute(e,"style",t)}function Ov(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ko(n){return function Nv(){if(void 0===Hf&&(Hf=null,Ke.trustedTypes))try{Hf=Ke.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Hf}()?.createHTML(n)||n}function gR(n){return function Fv(){if(void 0===$f&&($f=null,Ke.trustedTypes))try{$f=Ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $f}()?.createHTML(n)||n}class Ro{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class o8 extends Ro{getTypeName(){return"HTML"}}class a8 extends Ro{getTypeName(){return"Style"}}class l8 extends Ro{getTypeName(){return"Script"}}class c8 extends Ro{getTypeName(){return"URL"}}class u8 extends Ro{getTypeName(){return"ResourceURL"}}function vr(n){return n instanceof Ro?n.changingThisBreaksApplicationSecurity:n}function di(n,e){const t=function d8(n){return n instanceof Ro&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class _8{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ko(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class y8{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ko(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=ko(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const b8=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function zf(n){return(n=String(n)).match(b8)?n:"unsafe:"+n}function zi(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function vu(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const bR=zi("area,br,col,hr,img,wbr"),wR=zi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ER=zi("rp,rt"),Lv=vu(bR,vu(wR,zi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vu(ER,zi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vu(ER,wR)),Vv=zi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),CR=vu(Vv,zi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),w8=zi("script,style,template");class E8{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Lv.hasOwnProperty(t))return this.sanitizedSomething=!0,!w8.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!CR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Vv[a]&&(l=zf(l)),this.buf.push(" ",o,'="',IR(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Lv.hasOwnProperty(t)&&!bR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(IR(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const C8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I8=/([^\#-~ |!])/g;function IR(n){return n.replace(/&/g,"&amp;").replace(C8,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(I8,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qf;function DR(n,e){let t=null;try{qf=qf||function vR(n){const e=new y8(n);return function v8(){try{return!!(new window.DOMParser).parseFromString(ko(""),"text/html")}catch{return!1}}()?new _8(e):e}(n);let r=e?String(e):"";t=qf.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=qf.getInertBodyElement(r)}while(r!==s);return ko((new E8).sanitizeChildren(Bv(t)||t))}finally{if(t){const r=Bv(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Bv(n){return"content"in n&&function D8(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fe=(()=>((Fe=Fe||{})[Fe.NONE=0]="NONE",Fe[Fe.HTML=1]="HTML",Fe[Fe.STYLE=2]="STYLE",Fe[Fe.SCRIPT=3]="SCRIPT",Fe[Fe.URL=4]="URL",Fe[Fe.RESOURCE_URL=5]="RESOURCE_URL",Fe))();function TR(n){const e=wu();return e?gR(e.sanitize(Fe.HTML,n)||""):di(n,"HTML")?gR(vr(n)):DR(function mR(){return void 0!==Pv?Pv:typeof document<"u"?document:void 0}(),le(n))}function bu(n){const e=wu();return e?e.sanitize(Fe.URL,n)||"":di(n,"URL")?vr(n):zf(le(n))}function wu(){const n=S();return n&&n[12]}const Uv=new R("ENVIRONMENT_INITIALIZER"),AR=new R("INJECTOR",-1),MR=new R("INJECTOR_DEF_TYPES");class xR{get(e,t=du){if(t===du){const r=new Error(`NullInjectorError: No provider for ${We(e)}!`);throw r.name="NullInjectorError",r}return t}}function R8(...n){return{\u0275providers:kR(0,n)}}function kR(n,...e){const t=[],r=new Set;let i;return $i(e,s=>{const o=s;jv(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&RR(i,t),t}function RR(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];$i(i,s=>{e.push(s)})}}function jv(n,e,t,r){if(!(n=re(n)))return!1;let i=null,s=Hx(n);const o=!s&&Ue(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=Hx(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)jv(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{$i(s.imports,u=>{jv(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&RR(c,e)}if(!a){const c=Ao(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ne},{provide:MR,useValue:i,multi:!0},{provide:Uv,useValue:()=>I(i),multi:!0})}const l=s.providers;null==l||a||$i(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}const O8=Ge({provide:String,useValue:Ge});function Hv(n){return null!==n&&"object"==typeof n&&O8 in n}function Oo(n){return"function"==typeof n}const $v=new R("Set Injector scope."),Gf={},P8={};let zv;function Wf(){return void 0===zv&&(zv=new xR),zv}class Ns{}class PR extends Ns{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gv(e,o=>this.processProvider(o)),this.records.set(AR,_l(void 0,this)),i.has("environment")&&this.records.set(Ns,_l(void 0,this));const s=this.records.get($v);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(MR.multi,Ne,J.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=fl(this),r=Rr(void 0);try{return e()}finally{fl(t),Rr(r)}}get(e,t=du,r=J.Default){this.assertNotDestroyed();const i=fl(this),s=Rr(void 0);try{if(!(r&J.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function U8(n){return"function"==typeof n||"object"==typeof n&&n instanceof R}(e)&&pf(e);a=l&&this.injectableDefInScope(l)?_l(qv(e),Gf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&J.Self?Wf():this.parent).get(e,t=r&J.Optional&&t===du?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ff]=o[Ff]||[]).unshift(We(e)),i)throw o;return function u5(n,e,t,r){const i=n[Ff];throw e[Ok]&&i.unshift(e[Ok]),n.message=function d5(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=We(e);if(Array.isArray(e))i=e.map(We).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):We(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(o5,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ff]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Rr(s),fl(i)}}resolveInjectorInitializers(){const e=fl(this),t=Rr(void 0);try{const r=this.get(Uv.multi,Ne,J.Self);for(const i of r)i()}finally{fl(e),Rr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(We(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let t=Oo(e=re(e))?e:re(e&&e.provide);const r=function L8(n){return Hv(n)?_l(void 0,n.useValue):_l(FR(n),Gf)}(e);if(Oo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=_l(void 0,Gf,!0),i.factory=()=>fv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Gf&&(t.value=P8,t.value=t.factory()),"object"==typeof t.value&&t.value&&function B8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=re(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function qv(n){const e=pf(n),t=null!==e?e.factory:Ao(n);if(null!==t)return t;if(n instanceof R)throw new D(204,!1);if(n instanceof Function)return function F8(n){const e=n.length;if(e>0)throw uu(e,"?"),new D(204,!1);const t=function KW(n){const e=n&&(n[mf]||n[$x]);if(e){const t=function YW(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new D(204,!1)}function FR(n,e,t){let r;if(Oo(n)){const i=re(n);return Ao(i)||qv(i)}if(Hv(n))r=()=>re(n.useValue);else if(function NR(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...fv(n.deps||[]));else if(function OR(n){return!(!n||!n.useExisting)}(n))r=()=>I(re(n.useExisting));else{const i=re(n&&(n.useClass||n.provide));if(!function V8(n){return!!n.deps}(n))return Ao(i)||qv(i);r=()=>new i(...fv(n.deps))}return r}function _l(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function j8(n){return!!n.\u0275providers}function Gv(n,e){for(const t of n)Array.isArray(t)?Gv(t,e):j8(t)?Gv(t.\u0275providers,e):e(t)}class LR{}class z8{resolveComponentFactory(e){throw function $8(n){const e=Error(`No component factory found for ${We(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let No=(()=>{class n{}return n.NULL=new z8,n})();function q8(){return yl($t(),S())}function yl(n,e){return new He(fr(n,e))}let He=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=q8,n})();function G8(n){return n instanceof He?n.nativeElement:n}class Eu{}let hi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function W8(){const n=S(),t=pr($t().index,n);return(Qn(t)?t:n)[11]}(),n})(),K8=(()=>{class n{}return n.\u0275prov=B({token:n,providedIn:"root",factory:()=>null}),n})();class qi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const BR=new qi("14.2.12"),Wv={};function Yv(n){return n.ngOriginalError}class Gi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Yv(e);for(;t&&Yv(t);)t=Yv(t);return t||null}}function Wi(n){return n instanceof Function?n():n}function jR(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const HR="ng-template";function sK(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==jR(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function $R(n){return 4===n.type&&n.value!==HR}function oK(n,e,t){return e===(4!==n.type||t?n.value:HR)}function aK(n,e,t){let r=4;const i=n.attrs||[],s=function uK(n){for(let e=0;e<n.length;e++)if(mk(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!oK(n,l,t)||""===l&&1===e.length){if(Xr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!sK(n.attrs,c,t)){if(Xr(r))return!1;o=!0}continue}const d=lK(8&r?"class":l,i,$R(n),t);if(-1===d){if(Xr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==jR(f,c,0)||2&r&&c!==h){if(Xr(r))return!1;o=!0}}}}else{if(!o&&!Xr(r)&&!Xr(l))return!1;if(o&&Xr(l))continue;o=!1,r=l|1&r}}return Xr(r)||o}function Xr(n){return 0==(1&n)}function lK(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function dK(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function zR(n,e,t=!1){for(let r=0;r<e.length;r++)if(aK(n,e[r],t))return!0;return!1}function hK(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function qR(n,e){return n?":not("+e.trim()+")":e}function fK(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Xr(o)&&(e+=qR(s,i),i=""),r=o,s=s||!Xr(r);t++}return""!==i&&(e+=qR(s,i)),e}const ce={};function G(n){GR(De(),S(),Ln()+n,!1)}function GR(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Tf(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Sf(e,s,0,t)}Rs(t)}function QR(n,e=null,t=null,r){const i=XR(n,e,t,r);return i.resolveInjectorInitializers(),i}function XR(n,e=null,t=null,r,i=new Set){const s=[t||Ne,R8(n)];return r=r||("object"==typeof n?void 0:We(n)),new PR(s,e||Wf(),r||null,i)}let At=(()=>{class n{static create(t,r){if(Array.isArray(t))return QR({name:""},r,t,"");{const i=t.name??"";return QR({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=du,n.NULL=new xR,n.\u0275prov=B({token:n,providedIn:"any",factory:()=>I(AR)}),n.__NG_ELEMENT_ID__=-1,n})();function v(n,e=J.Default){const t=S();return null===t?I(n,e):Ck($t(),t,re(n),e)}function eb(){throw new Error("invalid")}function Yf(n,e){return n<<17|e<<2}function Zr(n){return n>>17&32767}function tb(n){return 2|n}function Ki(n){return(131068&n)>>2}function nb(n,e){return-131069&n|e<<2}function rb(n){return 1|n}function pO(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Jy(i),o.contentQueries(2,e[s],s)}}}function Zf(n,e,t,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),ek(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function A5(){return S5++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function wl(n,e,t,r,i){let s=n.data[e];if(null===s)s=function db(n,e,t,r,i){const s=rk(),o=Yy(),l=n.data[e]=function YK(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function I4(){return se.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function ru(){const n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ci(s,!0),s}function El(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function hb(n,e,t){ev(e);try{const r=n.viewQuery;null!==r&&bb(1,r,t);const i=n.template;null!==i&&mO(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&pO(n,e),n.staticViewQueries&&bb(2,n.viewQuery,t);const s=n.components;null!==s&&function GK(n,e){for(let t=0;t<e.length;t++)d6(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,tv()}}function Jf(n,e,t,r){const i=e[2];if(128!=(128&i)){ev(e);try{ek(e),function sk(n){return se.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&mO(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Tf(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Sf(e,c,0,null),nv(e,0)}if(function c6(n){for(let e=Cv(n);null!==e;e=Iv(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&Ky(s,1),i[2]|=512}}}(e),function l6(n){for(let e=Cv(n);null!==e;e=Iv(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];If(r)&&Jf(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&pO(n,e),o){const c=n.contentCheckHooks;null!==c&&Tf(e,c)}else{const c=n.contentHooks;null!==c&&Sf(e,c,1),nv(e,1)}!function zK(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Rs(~i);else{const s=i,o=t[++r],a=t[++r];D4(o,s),a(2,e[s])}}}finally{Rs(-1)}}(n,e);const a=n.components;null!==a&&function qK(n,e){for(let t=0;t<e.length;t++)u6(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&bb(2,l,r),o){const c=n.viewCheckHooks;null!==c&&Tf(e,c)}else{const c=n.viewHooks;null!==c&&Sf(e,c,2),nv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Ky(e[3],-1))}finally{tv()}}}function mO(n,e,t,r,i){const s=Ln(),o=2&r;try{Rs(-1),o&&e.length>22&&GR(n,e,22,!1),t(r,i)}finally{Rs(s)}}function gO(n,e,t){if(Hy(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function fb(n,e,t){!nk()||(function e6(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||ou(t,e),Cn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=Qr(l);c&&s6(e,t,l);const u=au(e,n,a,t);Cn(u,e),null!==o&&o6(0,a-i,u,l,0,o),c&&(pr(t.index,e)[8]=u)}}(n,e,t,fr(t,e)),128==(128&t.flags)&&function t6(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function T4(){return se.lFrame.currentDirectiveIndex}();try{Rs(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];Xy(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&CO(l,c)}}finally{Rs(-1),Xy(o)}}(n,e,t))}function pb(n,e,t=fr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function _O(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=mb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function mb(n,e,t,r,i,s,o,a,l,c){const u=22+r,d=u+i,h=function WK(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ce);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function yO(n,e,t,r){const i=AO(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&MO(n).push(r,i.length-1))}function vO(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function bO(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||$R(e)?null:a6(d,s);o.push(h),a=vO(d,c,a),l=vO(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}function br(n,e,t,r,i,s,o,a){const l=fr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(wb(n,t,u,r,i),wf(e)&&wO(t,e.index)):3&e.type&&(r=function QK(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}function wO(n,e){const t=pr(e,n);16&t[2]||(t[2]|=32)}function gb(n,e,t,r){let i=!1;if(nk()){const s=function n6(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];zR(t,o.selectors,!1)&&(i||(i=[]),Rf(ou(t,e),n,o.type),Qr(o)?(IO(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,DO(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=El(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=Mf(t.mergedAttrs,d.hostAttrs),TO(n,t,e,c,d),i6(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}bO(n,t)}o&&function r6(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new D(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Mf(t.mergedAttrs,t.attrs),i}function EO(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function JK(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function CO(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function IO(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function i6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Qr(e)&&(t[""]=n)}}function DO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function TO(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ao(i.type)),o=new iu(s,Qr(i),v);n.blueprint[r]=o,t[r]=o,EO(n,e,0,r,El(n,t,i.hostVars,ce),i)}function s6(n,e,t){const r=fr(e,n),i=_O(t),s=n[10],o=ep(n,Zf(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function fi(n,e,t,r,i,s){const o=fr(n,e);!function _b(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?le(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function o6(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function a6(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function SO(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function u6(n,e){const t=pr(e,n);if(If(t)){const r=t[1];48&t[2]?Jf(r,t,r.template,t[8]):t[5]>0&&yb(t)}}function yb(n){for(let r=Cv(n);null!==r;r=Iv(r))for(let i=10;i<r.length;i++){const s=r[i];if(If(s))if(512&s[2]){const o=s[1];Jf(o,s,o.template,s[8])}else s[5]>0&&yb(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=pr(t[r],n);If(i)&&i[5]>0&&yb(i)}}function d6(n,e){const t=pr(e,n),r=t[1];(function h6(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),hb(r,t,t[8])}function ep(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function vb(n){for(;n;){n[2]|=32;const e=_u(n);if(i4(n)&&!e)return n;n=e}return null}function tp(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{Jf(n,e,n.template,t)}catch(o){throw r&&kO(e,o),o}finally{i.end&&i.end()}}function bb(n,e,t){Jy(0),e(n,t)}function AO(n){return n[7]||(n[7]=[])}function MO(n){return n.cleanup||(n.cleanup=[])}function kO(n,e){const t=n[9],r=t?t.get(Gi,null):null;r&&r.handleError(e)}function wb(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function np(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Py(i,a):2==s&&(r=Py(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function rp(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Ft(s)),Yr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&rp(l[1],l,c,r)}const o=t.type;if(8&o)rp(n,e,t.child,r);else if(32&o){const a=Ev(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=hR(e,t);if(Array.isArray(a))r.push(...a);else{const l=_u(e[16]);rp(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Cu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return rp(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Yr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Sv(e,r),Nf(t,r))}this._attachedToViewContainer=!1}rR(this._lView[1],this._lView)}onDestroy(e){yO(this._lView[1],this._lView,null,e)}markForCheck(){vb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){tp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function q5(n,e){yu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class f6 extends Cu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;tp(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Eb extends No{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ue(e);return new Iu(t,this.ngModule)}}function RO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class m6{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,Wv,r);return i!==Wv||t===Wv?i:this.parentInjector.get(e,t,r)}}class Iu extends LR{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function pK(n){return n.map(fK).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return RO(this.componentDef.inputs)}get outputs(){return RO(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Ns?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new m6(e,s):e,a=o.get(Eu,null);if(null===a)throw new D(407,!1);const l=o.get(K8,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function KK(n,e,t){return n.selectRootElement(e,t===Wr.ShadowDom)}(c,r,this.componentDef.encapsulation):Tv(c,u,function p6(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=mb(0,null,null,1,0,null,null,null,null,null),p=Zf(null,f,null,h,null,null,a,c,l,o,null);let m,_;ev(p);try{const b=function y6(n,e,t,r,i,s){const o=t[1];t[22]=n;const l=wl(o,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(np(l,c,!0),null!==n&&(Af(i,n,c),null!==l.classes&&Ov(i,n,l.classes),null!==l.styles&&pR(i,n,l.styles)));const u=r.createRenderer(n,e),d=Zf(t,_O(e),null,e.onPush?32:16,t[22],l,r,u,s||null,null,null);return o.firstCreatePass&&(Rf(ou(l,t),o,e.type),IO(o,l),DO(l,t.length,1)),ep(t,d),t[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)Af(c,d,["ng-version",BR.full]);else{const{attrs:C,classes:y}=function mK(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Xr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);C&&Af(c,d,C),y&&y.length>0&&Ov(c,d,y.join(" "))}if(_=Wy(f,22),void 0!==t){const C=_.projection=[];for(let y=0;y<this.ngContentSelectors.length;y++){const T=t[y];C.push(null!=T?Array.from(T):null)}}m=function v6(n,e,t,r){const i=t[1],s=function ZK(n,e,t){const r=$t();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),TO(n,r,e,El(n,e,1,null),t),bO(n,r));const i=au(e,n,r.directiveStart,r);Cn(i,e);const s=fr(r,e);return s&&Cn(s,e),i}(i,t,e);if(n[8]=t[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=$t();e.contentQueries(1,s,a.directiveStart)}const o=$t();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Rs(o.index),EO(t[1],o,0,o.directiveStart,o.directiveEnd,e),CO(e,s)),s}(b,this.componentDef,p,[b6]),hb(f,p,null)}finally{tv()}return new _6(this.componentType,m,yl(_,p),p,_)}}class _6 extends class H8{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new f6(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;wb(s[1],s,i,e,t),wO(s,this._tNode.index)}}get injector(){return new al(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function b6(){const n=$t();Df(S()[1],n)}function ye(n){let e=function OO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Qr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Cb(n.inputs),o.declaredInputs=Cb(n.declaredInputs),o.outputs=Cb(n.outputs);const a=i.hostBindings;a&&I6(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&E6(n,l),c&&C6(n,c),Ny(n.inputs,i.inputs),Ny(n.declaredInputs,i.declaredInputs),Ny(n.outputs,i.outputs),Qr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ye&&(t=!1)}}e=Object.getPrototypeOf(e)}!function w6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mf(i.hostAttrs,t=Mf(t,i.hostAttrs))}}(r)}function Cb(n){return n===Za?{}:n===Ne?[]:n}function E6(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function C6(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function I6(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let ip=null;function Po(){if(!ip){const n=Ke.Symbol;if(n&&n.iterator)ip=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ip=r)}}}return ip}function Du(n){return!!Ib(n)&&(Array.isArray(n)||!(n instanceof Map)&&Po()in n)}function Ib(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function pi(n,e,t){return n[e]=t}function In(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Lt(n,e,t,r){const i=S();return In(i,il(),e)&&(De(),fi(ft(),i,n,e,t,r)),Lt}function pe(n,e,t,r,i,s,o,a){const l=S(),c=De(),u=n+22,d=c.firstCreatePass?function R6(n,e,t,r,i,s,o,a,l){const c=e.consts,u=wl(e,n,4,o||null,ks(c,a));gb(e,t,u,ks(c,l)),Df(e,u);const d=u.tViews=mb(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];ci(d,!1);const h=l[11].createComment("");Uf(c,l,h,d),Cn(h,l),ep(l,l[u]=SO(h,l,h,d)),Ef(d)&&fb(c,l,d),null!=o&&pb(l,d,a)}function Rl(n){return rl(function C4(){return se.lFrame.contextLView}(),22+n)}function H(n,e,t){const r=S();return In(r,il(),e)&&br(De(),ft(),r,n,e,r[11],t,!1),H}function Db(n,e,t,r,i){const o=i?"class":"style";wb(n,t,e.inputs[o],o,r)}function k(n,e,t,r){const i=S(),s=De(),o=22+n,a=i[11],l=i[o]=Tv(a,e,function O4(){return se.lFrame.currentNamespace}()),c=s.firstCreatePass?function N6(n,e,t,r,i,s,o){const a=e.consts,c=wl(e,n,2,i,ks(a,s));return gb(e,t,c,ks(a,o)),null!==c.attrs&&np(c,c.attrs,!1),null!==c.mergedAttrs&&np(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];ci(c,!0);const u=c.mergedAttrs;null!==u&&Af(a,l,u);const d=c.classes;null!==d&&Ov(a,l,d);const h=c.styles;return null!==h&&pR(a,l,h),64!=(64&c.flags)&&Uf(s,i,l,c),0===function y4(){return se.lFrame.elementDepthCount}()&&Cn(l,i),function v4(){se.lFrame.elementDepthCount++}(),Ef(c)&&(fb(s,i,c),gO(s,c,i)),null!==r&&pb(i,c),k}function O(){let n=$t();Yy()?Qy():(n=n.parent,ci(n,!1));const e=n;!function b4(){se.lFrame.elementDepthCount--}();const t=De();return t.firstCreatePass&&(Df(t,n),Hy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function V4(n){return 0!=(16&n.flags)}(e)&&Db(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function B4(n){return 0!=(32&n.flags)}(e)&&Db(t,e,S(),e.stylesWithoutHost,!1),O}function we(n,e,t,r){return k(n,e,t,r),O(),we}function Ls(n,e,t){const r=S(),i=De(),s=n+22,o=i.firstCreatePass?function P6(n,e,t,r,i){const s=e.consts,o=ks(s,r),a=wl(e,n,8,"ng-container",o);return null!==o&&np(a,o,!0),gb(e,t,a,ks(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];ci(o,!0);const a=r[s]=r[11].createComment("");return Uf(i,r,a,o),Cn(a,r),Ef(o)&&(fb(i,r,o),gO(i,o,r)),null!=t&&pb(r,o),Ls}function Vs(){let n=$t();const e=De();return Yy()?Qy():(n=n.parent,ci(n,!1)),e.firstCreatePass&&(Df(e,n),Hy(n)&&e.queries.elementEnd(n)),Vs}function op(n,e,t){return Ls(n,e,t),Vs(),op}function Ol(){return S()}function Su(n){return!!n&&"function"==typeof n.then}function $O(n){return!!n&&"function"==typeof n.subscribe}const Tb=$O;function Ye(n,e,t,r){const i=S(),s=De(),o=$t();return function qO(n,e,t,r,i,s,o,a){const l=Ef(r),u=n.firstCreatePass&&MO(n),d=e[8],h=AO(e);let f=!0;if(3&r.type||a){const _=fr(r,e),b=a?a(_):_,C=h.length,y=a?P=>a(Ft(P[r.index])):r.index;let T=null;if(!a&&l&&(T=function F6(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,f=!1;else{s=WO(r,e,d,s,!1);const P=t.listen(b,i,s);h.push(s,P),u&&u.push(i,y,C,C+1)}}else s=WO(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let b=0;b<_;b+=2){const V=e[m[b]][m[b+1]].subscribe(s),ie=h.length;h.push(s,V),u&&u.push(i,r.index,ie,-(ie+1))}}}(s,i,i[11],o,n,e,0,r),Ye}function GO(n,e,t,r){try{return!1!==t(r)}catch(i){return kO(n,i),!1}}function WO(n,e,t,r,i){return function s(o){if(o===Function)return r;vb(2&n.flags?pr(n.index,e):e);let l=GO(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=GO(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function xe(n=1){return function A4(n){return(se.lFrame.contextLView=function M4(n,e){for(;n>0;)e=e[15],n--;return e}(n,se.lFrame.contextLView))[8]}(n)}function L6(n,e){let t=null;const r=function cK(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?zR(n,s,!0):hK(r,s))return i}else t=i}return t}function Bs(n){const e=S()[16][6];if(!e.projection){const r=e.projection=uu(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?L6(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function Dn(n,e=0,t){const r=S(),i=De(),s=wl(i,22+n,16,null,t||null);null===s.projection&&(s.projection=e),Qy(),64!=(64&s.flags)&&function J5(n,e,t){fR(e[11],0,e,t,iR(n,t,e),lR(t.parent||e[6],t,e))}(i,r,s)}function r1(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Zr(s):Ki(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];U6(n[a],e)&&(l=!0,n[a+1]=r?rb(u):tb(u)),a=r?Zr(u):Ki(u)}l&&(n[t+1]=r?tb(s):rb(s))}function U6(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&hl(n,e)>=0}function Us(n,e,t){return Jr(n,e,t,!1),Us}function Jn(n,e){return Jr(n,e,null,!0),Jn}function Jr(n,e,t,r){const i=S(),s=De(),o=function Hi(n){const e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function h1(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Ln()],o=function d1(n,e){return e>=n.expandoStartIndex}(n,t);(function g1(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function Y6(n,e,t,r){const i=function Zy(n){const e=se.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Au(t=Ab(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Ab(i,n,e,t,r),null===s){let l=function Q6(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ki(r))return n[Zr(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Ab(null,n,e,l[1],r),l=Au(l,e.attrs,r),function X6(n,e,t,r){n[Zr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function Z6(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Au(r,n[s].hostAttrs,t);return Au(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function V6(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Zr(o),l=Ki(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||hl(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=Zr(n[a+1]);n[r+1]=Yf(h,a),0!==h&&(n[h+1]=nb(n[h+1],r)),n[a+1]=function NK(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Yf(a,0),0!==a&&(n[a+1]=nb(n[a+1],r)),a=r;else n[r+1]=Yf(l,0),0===a?a=r:n[l+1]=nb(n[l+1],r),l=r;c&&(n[r+1]=tb(n[r+1])),r1(n,u,r,!0),r1(n,u,r,!1),function B6(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&hl(s,e)>=0&&(t[r+1]=rb(t[r+1]))}(e,u,n,r,s),o=Yf(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ce&&In(i,o,e)&&function p1(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];ap(function oO(n){return 1==(1&n)}(c)?m1(l,e,t,i,Ki(c),o):void 0)||(ap(s)||function sO(n){return 2==(2&n)}(c)&&(s=m1(l,null,t,i,a,o)),function t8(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Zn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Zn.Important),n.setStyle(t,r,i,s))}}(r,o,Cf(Ln(),t),i,s))}(s,s.data[Ln()],i,i[11],n,i[o+1]=function t7(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=We(vr(n)))),n}(e,t),r,o)}function Ab(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Au(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Au(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yr(n,o,!!t||e[++s]))}return void 0===n?null:n}function m1(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===ce&&(h=d?Ne:void 0);let f=d?uv(h,r):u===r?h:void 0;if(c&&!ap(f)&&(f=uv(l,r)),ap(f)&&(a=f,o))return a;const p=n[i+1];i=o?Zr(p):Ki(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=uv(l,r))}return a}function ap(n){return void 0!==n}function x(n,e=""){const t=S(),r=De(),i=n+22,s=r.firstCreatePass?wl(r,i,1,e,null):r.data[i],o=t[i]=function Dv(n,e){return n.createText(e)}(t[11],e);Uf(r,t,o,s),ci(s,!1)}function Mu(n){return _i("",n,""),Mu}function _i(n,e,t){const r=S(),i=function Il(n,e,t,r){return In(n,il(),t)?e+le(t)+r:ce}(r,n,e,t);return i!==ce&&function Yi(n,e,t){const r=Cf(e,n);!function tR(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,Ln(),i),_i}function Mb(n,e,t){const r=S();return In(r,il(),e)&&br(De(),ft(),r,n,e,r[11],t,!0),Mb}const Fl="en-US";let L1=Fl;function Rb(n,e,t,r,i){if(n=re(n),Array.isArray(n))for(let s=0;s<n.length;s++)Rb(n[s],e,t,r,i);else{const s=De(),o=S();let a=Oo(n)?n:re(n.provide),l=FR(n);const c=$t(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Oo(n)||!n.multi){const f=new iu(l,i,v),p=Nb(a,e,i?u:u+h,d);-1===p?(Rf(ou(c,o),s,a),Ob(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Nb(a,e,u+h,d),p=Nb(a,e,u,u+h),m=f>=0&&t[f],_=p>=0&&t[p];if(i&&!_||!i&&!m){Rf(ou(c,o),s,a);const b=function vY(n,e,t,r,i){const s=new iu(n,t,v);return s.multi=[],s.index=e,s.componentProviders=0,lN(s,i,r&&!t),s}(i?yY:_Y,t.length,i,r,l);!i&&_&&(t[p].providerFactory=b),Ob(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(b),o.push(b)}else Ob(s,n,f>-1?f:p,lN(t[i?p:f],l,!i&&r));!i&&r&&_&&t[p].componentProviders++}}}function Ob(n,e,t,r){const i=Oo(e),s=function N8(n){return!!n.useClass}(e);if(i||s){const l=(s?re(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function lN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Nb(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function _Y(n,e,t,r){return Pb(this.multi,[])}function yY(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=au(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),Pb(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Pb(i,s);return s}function Pb(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function $e(n,e=[]){return t=>{t.providersResolver=(r,i)=>function gY(n,e,t){const r=De();if(r.firstCreatePass){const i=Qr(n);Rb(t,r.data,r.blueprint,i,!0),Rb(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Vo{}class cN{}class uN extends Vo{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Eb(this);const r=dr(e);this._bootstrapComponents=Wi(r.bootstrap),this._r3Injector=XR(e,t,[{provide:Vo,useValue:this},{provide:No,useValue:this.componentFactoryResolver}],We(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Fb extends cN{constructor(e){super(),this.moduleType=e}create(e){return new uN(this.moduleType,e)}}class wY extends Vo{constructor(e,t,r){super(),this.componentFactoryResolver=new Eb(this),this.instance=null;const i=new PR([...e,{provide:Vo,useValue:this},{provide:No,useValue:this.componentFactoryResolver}],t||Wf(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function hp(n,e,t=null){return new wY(n,e,t).injector}let EY=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=kR(0,t.type),i=r.length>0?hp([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(I(Ns))}),n})();function dN(n){n.getStandaloneInjector=e=>e.get(EY).getOrCreateStandaloneInjector(n)}function yN(n,e,t,r,i){return function bN(n,e,t,r,i,s,o){const a=e+t;return function Fo(n,e,t,r){const i=In(n,e,t);return In(n,e+1,r)||i}(n,a,i,s)?pi(n,a+2,o?r.call(o,i,s):r(i,s)):Pu(n,a+2)}(S(),Fn(),n,e,t,r,i)}function Pu(n,e){const t=n[e];return t===ce?void 0:t}function Fu(n,e){const t=De();let r;const i=n+22;t.firstCreatePass?(r=function UY(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Ao(r.type)),o=Rr(v);try{const a=xf(!1),l=s();return xf(a),function O6(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,S(),i,l),l}finally{Rr(o)}}function Lu(n,e,t){const r=n+22,i=S(),s=rl(i,r);return function Vu(n,e){return n[1].data[e].pure}(i,r)?function vN(n,e,t,r,i,s){const o=e+t;return In(n,o,i)?pi(n,o+1,s?r.call(s,i):r(i)):Pu(n,o+1)}(i,Fn(),e,s.transform,t,s):s.transform(t)}function Vb(n){return e=>{setTimeout(n,void 0,e)}}const Be=class qY extends Ce{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Vb(s),i&&(i=Vb(i)),o&&(o=Vb(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof dt&&e.add(a),a}};function GY(){return this._results[Po()]()}class Ll{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Po(),r=Ll.prototype;r[t]||(r[t]=GY)}get changes(){return this._changes||(this._changes=new Be)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=_r(e);(this._changesDetected=!function Y4(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Fr=(()=>{class n{}return n.__NG_ELEMENT_ID__=YY,n})();const WY=Fr,KY=class extends WY{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Zf(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),hb(r,i,e),new Cu(i)}};function YY(){return fp($t(),S())}function fp(n,e){return 4&n.type?new KY(e,n,yl(n,e)):null}let wr=(()=>{class n{}return n.__NG_ELEMENT_ID__=QY,n})();function QY(){return TN($t(),S())}const XY=wr,IN=class extends XY{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return yl(this._hostTNode,this._hostLView)}get injector(){return new al(this._hostTNode,this._hostLView)}get parentInjector(){const e=kf(this._hostTNode,this._hostLView);if(yk(e)){const t=ol(e,this._hostLView),r=sl(e);return new al(t[1].data[r+8],t)}return new al(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=DN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function cu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new Iu(Ue(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(Ns,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function _4(n){return Yr(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new IN(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function W5(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],Mk(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function K5(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=xv(s,o),l=r[11],c=Bf(l,o[7]);return null!==c&&function z5(n,e,t,r,i,s){r[0]=i,r[6]=e,yu(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),Mk(Bb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=DN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Sv(this._lContainer,t);r&&(Nf(Bb(this._lContainer),t),rR(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Sv(this._lContainer,t);return r&&null!=Nf(Bb(this._lContainer),t)?new Cu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function DN(n){return n[8]}function Bb(n){return n[8]||(n[8]=[])}function TN(n,e){let t;const r=e[n.index];if(Yr(r))t=r;else{let i;if(8&n.type)i=Ft(r);else{const s=e[11];i=s.createComment("");const o=fr(n,e);xo(s,Bf(s,o),i,function Z5(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=SO(r,e,i,n),ep(e,t)}return new IN(t,n,e)}class Ub{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ub(this.queryList)}setDirty(){this.queryList.setDirty()}}class jb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new jb(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==kN(e,t).matches&&this.queries[t].setDirty()}}class SN{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Hb{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Hb(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class $b{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new $b(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,e9(t,s)),this.matchTNodeWithReadOption(e,t,Of(t,e,s,!1,!1))}else r===Fr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Of(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===He||i===wr||i===Fr&&4&t.type)this.addMatch(t.index,-2);else{const s=Of(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function e9(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function n9(n,e,t,r){return-1===t?function t9(n,e){return 11&n.type?yl(n,e):4&n.type?fp(n,e):null}(e,n):-2===t?function r9(n,e,t){return t===He?yl(e,n):t===Fr?fp(e,n):t===wr?TN(e,n):void 0}(n,e,r):au(n,n[1],t,e)}function AN(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:n9(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function zb(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=AN(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&zb(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];zb(f[1],f,c,r)}}}}}return r}function pt(n){const e=S(),t=De(),r=ak();Jy(r+1);const i=kN(t,r);if(n.dirty&&function g4(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?zb(t,e,r,[]):AN(t,e,i,r);n.reset(s,G8),n.notifyOnChanges()}return!0}return!1}function js(n,e,t){const r=De();r.firstCreatePass&&(xN(r,new SN(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),MN(r,S(),e)}function Tn(n,e,t,r){const i=De();if(i.firstCreatePass){const s=$t();xN(i,new SN(e,t,r),s.index),function s9(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}MN(i,S(),t)}function mt(){return function i9(n,e){return n[19].queries[e].queryList}(S(),ak())}function MN(n,e,t){const r=new Ll(4==(4&t));yO(n,e,r,r.destroy),null===e[19]&&(e[19]=new jb),e[19].queries.push(new Ub(r))}function xN(n,e,t){null===n.queries&&(n.queries=new Hb),n.queries.track(new $b(e,t))}function kN(n,e){return n.queries.getByIndex(e)}function pp(n,e){return fp(n,e)}function gp(...n){}const _p=new R("Application Initializer");let yp=(()=>{class n{constructor(t){this.appInits=t,this.resolve=gp,this.reject=gp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Su(s))t.push(s);else if(Tb(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(I(_p,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uu=new R("AppId",{providedIn:"root",factory:function QN(){return`${Yb()}${Yb()}${Yb()}`}});function Yb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const XN=new R("Platform Initializer"),Ul=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ZN=new R("appBootstrapListener"),ju=new R("AnimationModuleType");let D9=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const yi=new R("LocaleId",{providedIn:"root",factory:()=>rt(yi,J.Optional|J.SkipSelf)||function T9(){return typeof $localize<"u"&&$localize.locale||Fl}()});class A9{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Qb=(()=>{class n{compileModuleSync(t){return new Fb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Wi(dr(t).declarations).reduce((o,a)=>{const l=Ue(a);return l&&o.push(new Iu(l)),o},[]);return new A9(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k9=(()=>Promise.resolve(0))();function Xb(n){typeof Zone>"u"?k9.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function R9(){let n=Ke.requestAnimationFrame,e=Ke.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function P9(n){const e=()=>{!function N9(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ke,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Jb(n),n.isCheckStableRunning=!0,Zb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Jb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return tP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),nP(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return tP(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),nP(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Jb(n),Zb(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!me.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(me.isInAngularZone())throw new D(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,O9,gp,gp);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const O9={};function Zb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Jb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function tP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function nP(n){n._nesting--,Zb(n)}class F9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const rP=new R(""),vp=new R("");let nw,ew=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nw||(function L9(n){nw=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{me.assertNotInAngularZone(),Xb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xb(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(I(me),I(tw),I(vp))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),tw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return nw?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Hs=null;const iP=new R("AllowMultipleToken"),rw=new R("PlatformDestroyListeners");class sP{constructor(e,t){this.name=e,this.token=t}}function aP(n,e,t=[]){const r=`Platform: ${e}`,i=new R(r);return(s=[])=>{let o=iw();if(!o||o.injector.get(iP,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function U9(n){if(Hs&&!Hs.get(iP,!1))throw new D(400,!1);Hs=n;const e=n.get(cP);(function oP(n){const e=n.get(XN,null);e&&e.forEach(t=>t())})(n)}(function lP(n=[],e){return At.create({name:e,providers:[{provide:$v,useValue:"platform"},{provide:rw,useValue:new Set([()=>Hs=null])},...n]})}(a,r))}return function H9(n){const e=iw();if(!e)throw new D(401,!1);return e}()}}function iw(){return Hs?.get(cP)??null}let cP=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function dP(n,e){let t;return t="noop"===n?new F9:("zone.js"===n?void 0:n)||new me(e),t}(r?.ngZone,function uP(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:me,useValue:i}];return i.run(()=>{const o=At.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Gi,null);if(!l)throw new D(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{bp(this._modules,a),c.unsubscribe()})}),function hP(n,e,t){try{const r=t();return Su(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(yp);return c.runInitializers(),c.donePromise.then(()=>(function V1(n){ur(n,"Expected localeId to be defined"),"string"==typeof n&&(L1=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(yi,Fl)||Fl),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=fP({},r);return function V9(n,e,t){const r=new Fb(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Bo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new D(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(rw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(I(At))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function fP(n,e){return Array.isArray(e)?e.reduce(fP,n):{...n,...e}}let Bo=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Le(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Le(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),Xb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Xa(s,o.pipe(Ux()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof LR;if(!this._injector.get(yp).done)throw!i&&function Ja(n){const e=Ue(n)||Nn(n)||Pn(n);return null!==e&&e.standalone}(t),new D(405,false);let o;o=i?t:this._injector.get(No).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function B9(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Vo),c=o.create(At.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(rP,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),bp(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;bp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ZN,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(I(me),I(Ns),I(Gi))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let mP=!0,gP=!1,Uo=(()=>{class n{}return n.__NG_ELEMENT_ID__=G9,n})();function G9(n){return function W9(n,e,t){if(wf(n)&&!t){const r=pr(n.index,e);return new Cu(r,r)}return 47&n.type?new Cu(e[16],e):null}($t(),S(),16==(16&n))}class bP{constructor(){}supports(e){return Du(e)}create(e){return new J9(e)}}const Z9=(n,e)=>e;class J9{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Z9}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<EP(r,i,s)?t:r,a=EP(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Du(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function M6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Po()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new eQ(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new wP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class eQ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tQ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class wP{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new tQ,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EP(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class CP{constructor(){}supports(e){return e instanceof Map||Ib(e)}create(){return new nQ}}class nQ{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ib(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new rQ(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class rQ{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IP(){return new Cp([new bP])}let Cp=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||IP()),deps:[[n,new pl,new lt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new D(901,!1)}}return n.\u0275prov=B({token:n,providedIn:"root",factory:IP}),n})();function DP(){return new Hu([new CP])}let Hu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||DP()),deps:[[n,new pl,new lt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new D(901,!1)}}return n.\u0275prov=B({token:n,providedIn:"root",factory:DP}),n})();const oQ=aP(null,"core",[]);let aQ=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(I(Bo))},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({}),n})();function Xi(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Ip=null;function vi(){return Ip}const ve=new R("DocumentToken");let cw=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return function dQ(){return I(TP)}()},providedIn:"platform"}),n})();const hQ=new R("Location Initialized");let TP=(()=>{class n extends cw{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vi().getBaseHref(this._doc)}onPopState(t){const r=vi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=vi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){SP()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){SP()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(I(ve))},n.\u0275prov=B({token:n,factory:function(){return function fQ(){return new TP(I(ve))}()},providedIn:"platform"}),n})();function SP(){return!!window.history.pushState}function uw(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function AP(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Zi(n){return n&&"?"!==n[0]?"?"+n:n}let Ho=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return rt(xP)},providedIn:"root"}),n})();const MP=new R("appBaseHref");let xP=(()=>{class n extends Ho{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??rt(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Zi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Zi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Zi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(I(cw),I(MP,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pQ=(()=>{class n extends Ho{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=uw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Zi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Zi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(I(cw),I(MP,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),Dp=(()=>{class n{constructor(t){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=AP(kP(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Zi(r))}normalize(t){return n.stripTrailingSlash(function gQ(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,kP(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Zi,n.joinWithSlash=uw,n.stripTrailingSlash=AP,n.\u0275fac=function(t){return new(t||n)(I(Ho))},n.\u0275prov=B({token:n,factory:function(){return function mQ(){return new Dp(I(Ho))}()},providedIn:"root"}),n})();function kP(n){return n.replace(/\/index.html$/,"")}let bw=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Du(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${We(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(v(Cp),v(Hu),v(He),v(hi))},n.\u0275dir=K({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class tX{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let HP=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new tX(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),$P(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{$P(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(v(wr),v(Fr),v(Cp))},n.\u0275dir=K({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $P(n,e){n.context.$implicit=e.item}let bi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new rX,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zP("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zP("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(v(wr),v(Fr))},n.\u0275dir=K({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class rX{constructor(){this.$implicit=null,this.ngIf=null}}function zP(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${We(e)}'.`)}class ww{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let qu=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Ew=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new ww(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(v(wr),v(Fr),v(qu,9))},n.\u0275dir=K({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Cw=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Zn.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(v(He),v(Hu),v(hi))},n.\u0275dir=K({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class aX{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class lX{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const cX=new lX,uX=new aX;let Pp=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Su(t))return cX;if($O(t))return uX;throw function ri(n,e){return new D(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(v(Uo,16))},n.\u0275pipe=Yn({name:"async",type:n,pure:!1,standalone:!0}),n})(),Tw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({}),n})();const WP="browser";let RX=(()=>{class n{}return n.\u0275prov=B({token:n,providedIn:"root",factory:()=>new OX(I(ve),window)}),n})();class OX{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function NX(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=KP(this.window.history)||KP(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function KP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Mw extends class JX extends class uQ{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function cQ(n){Ip||(Ip=n)}(new Mw)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function eZ(){return Wu=Wu||document.querySelector("base"),Wu?Wu.getAttribute("href"):null}();return null==t?null:function tZ(n){Lp=Lp||document.createElement("a"),Lp.setAttribute("href",n);const e=Lp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Wu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function JQ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Lp,Wu=null;const ZP=new R("TRANSITION_ID"),rZ=[{provide:_p,useFactory:function nZ(n,e,t){return()=>{t.get(yp).donePromise.then(()=>{const r=vi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[ZP,ve,At],multi:!0}];let sZ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const Vp=new R("EventManagerPlugins");let Bp=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(I(Vp),I(me))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class JP{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=vi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let eF=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),Ku=(()=>{class n extends eF{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(tF),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(tF))}}return n.\u0275fac=function(t){return new(t||n)(I(ve))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();function tF(n){vi().remove(n)}const xw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kw=/%COMP%/g;function Up(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Up(n,i,t):(i=i.replace(kw,n),t.push(i))}return t}function iF(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let jp=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Rw(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Wr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new dZ(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Wr.ShadowDom:return new hZ(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Up(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(I(Bp),I(Ku),I(Uu))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class Rw{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(xw[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(oF(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(oF(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=xw[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=xw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Zn.DashCase|Zn.Important)?e.style.setProperty(t,r,i&Zn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Zn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,iF(r)):this.eventManager.addEventListener(e,t,iF(r))}}function oF(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class dZ extends Rw{constructor(e,t,r,i){super(e),this.component=r;const s=Up(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function lZ(n){return"_ngcontent-%COMP%".replace(kw,n)}(i+"-"+r.id),this.hostAttr=function cZ(n){return"_nghost-%COMP%".replace(kw,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class hZ extends Rw{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Up(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fZ=(()=>{class n extends JP{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(I(ve))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const aF=["alt","control","meta","shift"],pZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mZ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let gZ=(()=>{class n extends JP{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),aF.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=pZ[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),aF.forEach(o=>{o!==i&&(0,mZ[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(I(ve))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const cF=[{provide:Ul,useValue:WP},{provide:XN,useValue:function _Z(){Mw.makeCurrent()},multi:!0},{provide:ve,useFactory:function vZ(){return function s8(n){Pv=n}(document),document},deps:[]}],bZ=aP(oQ,"browser",cF),uF=new R(""),dF=[{provide:vp,useClass:class iZ{addToWindow(e){Ke.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ke.getAllAngularRootElements=()=>e.getAllRootElements(),Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(r=>{const i=Ke.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?vi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:rP,useClass:ew,deps:[me,tw,vp]},{provide:ew,useClass:ew,deps:[me,tw,vp]}],hF=[{provide:$v,useValue:"root"},{provide:Gi,useFactory:function yZ(){return new Gi},deps:[]},{provide:Vp,useClass:fZ,multi:!0,deps:[ve,me,Ul]},{provide:Vp,useClass:gZ,multi:!0,deps:[ve]},{provide:jp,useClass:jp,deps:[Bp,Ku,Uu]},{provide:Eu,useExisting:jp},{provide:eF,useExisting:Ku},{provide:Ku,useClass:Ku,deps:[ve]},{provide:Bp,useClass:Bp,deps:[Vp,me]},{provide:class PX{},useClass:sZ,deps:[]},[]];let fF=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Uu,useValue:t.appId},{provide:ZP,useExisting:Uu},rZ]}}}return n.\u0275fac=function(t){return new(t||n)(I(uF,12))},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({providers:[...hF,...dF],imports:[Tw,aQ]}),n})(),pF=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(I(ve))},n.\u0275prov=B({token:n,factory:function(t){let r=null;return r=t?new t:function EZ(){return new pF(I(ve))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Pw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(t){let r=null;return r=t?new(t||n):I(_F),r},providedIn:"root"}),n})(),_F=(()=>{class n extends Pw{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Fe.NONE:return r;case Fe.HTML:return di(r,"HTML")?vr(r):DR(this._doc,String(r)).toString();case Fe.STYLE:return di(r,"Style")?vr(r):r;case Fe.SCRIPT:if(di(r,"Script"))return vr(r);throw new Error("unsafe value used in a script context");case Fe.URL:return di(r,"URL")?vr(r):zf(String(r));case Fe.RESOURCE_URL:if(di(r,"ResourceURL"))return vr(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function h8(n){return new o8(n)}(t)}bypassSecurityTrustStyle(t){return function f8(n){return new a8(n)}(t)}bypassSecurityTrustScript(t){return function p8(n){return new l8(n)}(t)}bypassSecurityTrustUrl(t){return function m8(n){return new c8(n)}(t)}bypassSecurityTrustResourceUrl(t){return function g8(n){return new u8(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(I(ve))},n.\u0275prov=B({token:n,factory:function(t){let r=null;return r=t?new t:function MZ(n){return new _F(n.get(ve))}(I(At)),r},providedIn:"root"}),n})();function q(...n){return qe(n,Xc(n))}class Br extends Ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Hp=Yc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:xZ}=Array,{getPrototypeOf:kZ,prototype:RZ,keys:OZ}=Object;function yF(n){if(1===n.length){const e=n[0];if(xZ(e))return{args:e,keys:null};if(function NZ(n){return n&&"object"==typeof n&&kZ(n)===RZ}(e)){const t=OZ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:PZ}=Array;function Fw(n){return ee(e=>function FZ(n,e){return PZ(e)?n(...e):n(e)}(n,e))}function vF(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function bF(...n){const e=Xc(n),t=Vx(n),{args:r,keys:i}=yF(n);if(0===r.length)return qe([],e);const s=new Le(function LZ(n,e,t=Ms){return r=>{wF(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)wF(e,()=>{const c=qe(n[l],e);let u=!1;c.subscribe(Xe(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>vF(i,o):Ms));return t?s.pipe(Fw(t)):s}function wF(n,e,t){n?Vi(t,n,e):e()}function $p(...n){return function VZ(){return Qa(1)}()(qe(n,Xc(n)))}function Lw(n){return new Le(e=>{vn(n()).subscribe(e)})}function jl(n,e){const t=Me(n)?n:()=>n,r=i=>i.error(t());return new Le(e?i=>e.schedule(r,0,i):r)}function Vw(){return ht((n,e)=>{let t=null;n._refCount++;const r=Xe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class EF extends Le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ex(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dt;const t=this.getSubject();e.add(this.source.subscribe(Xe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dt.EMPTY)}return e}refCount(){return Vw()(this)}}function Un(n,e){return ht((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Xe(r,l=>{i?.unsubscribe();let c=0;const u=s++;vn(n(l,u)).subscribe(i=Xe(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function tr(n){return n<=0?()=>qr:ht((e,t)=>{let r=0;e.subscribe(Xe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $o(...n){const e=Xc(n);return ht((t,r)=>{(e?$p(n,t,e):$p(n,t)).subscribe(r)})}function an(n,e){return ht((t,r)=>{let i=0;t.subscribe(Xe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function zp(n){return ht((e,t)=>{let r=!1;e.subscribe(Xe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function CF(n=BZ){return ht((e,t)=>{let r=!1;e.subscribe(Xe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function BZ(){return new Hp}function zs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?an((i,s)=>n(i,s,r)):Ms,tr(1),t?zp(e):CF(()=>new Hp))}function wi(n,e){return Me(e)?St(n,e,1):St(n,1)}function _t(n,e,t){const r=Me(n)||e||t?{next:n,error:e,complete:t}:n;return r?ht((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Xe(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ms}function es(n){return ht((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Xe(t,void 0,void 0,o=>{s=vn(n(o,es(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function UZ(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Xe(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function IF(n,e){return ht(UZ(n,e,arguments.length>=2,!0))}function Bw(n){return n<=0?()=>qr:ht((e,t)=>{let r=[];e.subscribe(Xe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function DF(n,e){const t=arguments.length>=2;return r=>r.pipe(n?an((i,s)=>n(i,s,r)):Ms,Bw(1),t?zp(e):CF(()=>new Hp))}function TF(n){return ee(()=>n)}function qp(n){return ht((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ge="primary",Yu=Symbol("RouteTitle");class HZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hl(n){return new HZ(n)}function $Z(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ei(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!SF(n[i],e[i]))return!1;return!0}function SF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function AF(n){return Array.prototype.concat.apply([],n)}function MF(n){return n.length>0?n[n.length-1]:null}function ln(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function qs(n){return Tb(n)?n:Su(n)?qe(Promise.resolve(n)):q(n)}const GZ={exact:function RF(n,e,t){if(!qo(n.segments,e.segments)||!Gp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!RF(n.children[r],e.children[r],t))return!1;return!0},subset:OF},xF={exact:function WZ(n,e){return Ei(n,e)},subset:function KZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>SF(n[t],e[t]))},ignored:()=>!0};function kF(n,e,t){return GZ[t.paths](n.root,e.root,t.matrixParams)&&xF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function OF(n,e,t){return NF(n,e,e.segments,t)}function NF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!qo(i,t)||e.hasChildren()||!Gp(i,t,r))}if(n.segments.length===t.length){if(!qo(n.segments,t)||!Gp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!OF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(qo(n.segments,i)&&Gp(n.segments,i,r)&&n.children[ge])&&NF(n.children[ge],e,s,r)}}function Gp(n,e,t){return e.every((r,i)=>xF[t](n[i].parameters,r.parameters))}class zo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hl(this.queryParams)),this._queryParamMap}toString(){return XZ.serialize(this)}}class _e{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ln(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wp(this)}}class Qu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hl(this.parameters)),this._parameterMap}toString(){return VF(this)}}function qo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let PF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return new jw},providedIn:"root"}),n})();class jw{parse(e){const t=new oJ(e);return new zo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Xu(e.root,!0)}`,r=function eJ(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Kp(t)}=${Kp(i)}`).join("&"):`${Kp(t)}=${Kp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ZZ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const XZ=new jw;function Wp(n){return n.segments.map(e=>VF(e)).join("/")}function Xu(n,e){if(!n.hasChildren())return Wp(n);if(e){const t=n.children[ge]?Xu(n.children[ge],!1):"",r=[];return ln(n.children,(i,s)=>{s!==ge&&r.push(`${s}:${Xu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function QZ(n,e){let t=[];return ln(n.children,(r,i)=>{i===ge&&(t=t.concat(e(r,i)))}),ln(n.children,(r,i)=>{i!==ge&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ge?[Xu(n.children[ge],!1)]:[`${i}:${Xu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ge]?`${Wp(n)}/${t[0]}`:`${Wp(n)}/(${t.join("//")})`}}function FF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kp(n){return FF(n).replace(/%3B/gi,";")}function Hw(n){return FF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yp(n){return decodeURIComponent(n)}function LF(n){return Yp(n.replace(/\+/g,"%20"))}function VF(n){return`${Hw(n.path)}${function JZ(n){return Object.keys(n).map(e=>`;${Hw(e)}=${Hw(n[e])}`).join("")}(n.parameters)}`}const tJ=/^[^\/()?;=#]+/;function Qp(n){const e=n.match(tJ);return e?e[0]:""}const nJ=/^[^=?&#]+/,iJ=/^[^&#]+/;class oJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ge]=new _e(e,t)),r}parseSegment(){const e=Qp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Qu(Yp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Qp(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Qp(this.remaining);i&&(r=i,this.capture(r))}e[Yp(t)]=Yp(r)}parseQueryParam(e){const t=function rJ(n){const e=n.match(nJ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function sJ(n){const e=n.match(iJ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=LF(t),s=LF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ge);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ge]:new _e([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function $w(n){return n.segments.length>0?new _e([],{[ge]:n}):n}function Xp(n){const e={};for(const r of Object.keys(n.children)){const s=Xp(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function aJ(n){if(1===n.numberOfChildren&&n.children[ge]){const e=n.children[ge];return new _e(n.segments.concat(e.segments),e.children)}return n}(new _e(n.segments,e))}function Go(n){return n instanceof zo}function uJ(n,e,t,r,i){if(0===t.length)return $l(e.root,e.root,e.root,r,i);const s=function jF(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new UF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return ln(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new UF(t,e,r)}(t);return s.toRoot()?$l(e.root,e.root,new _e([],{}),r,i):function o(l){const c=function hJ(n,e,t,r){if(n.isAbsolute)return new zl(e.root,!0,0);if(-1===r)return new zl(t,t===e.root,0);return function HF(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new zl(r,!1,i-s)}(t,r+(Zu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?ed(c.segmentGroup,c.index,s.commands):qw(c.segmentGroup,c.index,s.commands);return $l(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Zu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ju(n){return"object"==typeof n&&null!=n&&n.outlets}function $l(n,e,t,r,i){let o,s={};r&&ln(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:BF(n,e,t);const a=$w(Xp(o));return new zo(a,s,i)}function BF(n,e,t){const r={};return ln(n.children,(i,s)=>{r[s]=i===e?t:BF(i,e,t)}),new _e(n.segments,r)}class UF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Zu(r[0]))throw new D(4003,!1);const i=r.find(Ju);if(i&&i!==MF(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function qw(n,e,t){if(n||(n=new _e([],{})),0===n.segments.length&&n.hasChildren())return ed(n,e,t);const r=function pJ(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Ju(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!zF(l,c,o))return s;r+=2}else{if(!zF(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new _e(n.segments.slice(0,r.pathIndex),{});return s.children[ge]=new _e(n.segments.slice(r.pathIndex),n.children),ed(s,0,i)}return r.match&&0===i.length?new _e(n.segments,{}):r.match&&!n.hasChildren()?Gw(n,e,t):r.match?ed(n,0,i):Gw(n,e,t)}function ed(n,e,t){if(0===t.length)return new _e(n.segments,{});{const r=function fJ(n){return Ju(n[0])?n[0].outlets:{[ge]:n}}(t),i={};return ln(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=qw(n.children[o],e,s))}),ln(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new _e(n.segments,i)}}function Gw(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Ju(s)){const l=mJ(s.outlets);return new _e(r,l)}if(0===i&&Zu(t[0])){r.push(new Qu(n.segments[e].path,$F(t[0]))),i++;continue}const o=Ju(s)?s.outlets[ge]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Zu(a)?(r.push(new Qu(o,$F(a))),i+=2):(r.push(new Qu(o,{})),i++)}return new _e(r,{})}function mJ(n){const e={};return ln(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Gw(new _e([],{}),0,t))}),e}function $F(n){const e={};return ln(n,(t,r)=>e[r]=`${t}`),e}function zF(n,e,t){return n==t.path&&Ei(e,t.parameters)}class ts{constructor(e,t){this.id=e,this.url=t}}class Ww extends ts{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wo extends ts{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zp extends ts{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qF extends ts{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gJ extends ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _J extends ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yJ extends ts{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vJ extends ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bJ extends ts{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wJ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class EJ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class CJ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IJ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DJ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TJ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class WF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Kw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Kw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Yw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yw(e,this._root).map(t=>t.value)}}function Kw(n,e){if(n===e.value)return e;for(const t of e.children){const r=Kw(n,t);if(r)return r}return null}function Yw(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Yw(n,t);if(r.length)return r.unshift(e),r}return[]}class ns{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ql(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class KF extends WF{constructor(e,t){super(e),this.snapshot=t,Qw(this,e)}toString(){return this.snapshot.toString()}}function YF(n,e){const t=function AJ(n,e){const o=new Jp([],{},{},"",{},ge,e,null,n.root,-1,{});return new XF("",new ns(o,[]))}(n,e),r=new Br([new Qu("",{})]),i=new Br({}),s=new Br({}),o=new Br({}),a=new Br(""),l=new Ko(r,i,o,a,s,ge,e,t.root);return l.snapshot=t.root,new KF(new ns(l,[]),t)}class Ko{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ee(c=>c[Yu]))??q(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ee(e=>Hl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(e=>Hl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function QF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function MJ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Jp{constructor(e,t,r,i,s,o,a,l,c,u,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[Yu],this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XF extends WF{constructor(e,t){super(t),this.url=e,Qw(this,t)}toString(){return ZF(this._root)}}function Qw(n,e){e.value._routerState=n,e.children.forEach(t=>Qw(n,t))}function ZF(n){const e=n.children.length>0?` { ${n.children.map(ZF).join(", ")} } `:"";return`${n.value}${e}`}function Xw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ei(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ei(e.params,t.params)||n.params.next(t.params),function zZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ei(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ei(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zw(n,e){const t=Ei(n.params,e.params)&&function YZ(n,e){return qo(n,e)&&n.every((t,r)=>Ei(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zw(n.parent,e.parent))}function td(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function kJ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return td(n,r,i);return td(n,r)})}(n,e,t);return new ns(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>td(n,a)),o}}const r=function RJ(n){return new Ko(new Br(n.url),new Br(n.params),new Br(n.queryParams),new Br(n.fragment),new Br(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>td(n,s));return new ns(r,i)}}const Jw="ngNavigationCancelingError";function JF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Go(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eL(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function eL(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Jw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function tL(n){return nL(n)&&Go(n.url)}function nL(n){return n&&n[Jw]}class OJ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nd,this.attachRef=null}}let nd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new OJ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const em=!1;let eE=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.name=i||ge,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,em);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,em);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,em);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,em);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new NJ(t,a,i.injector);if(r&&function PJ(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(v(nd),v(wr),Mo("name"),v(Uo),v(Ns))},n.\u0275dir=K({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class NJ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ko?this.route:e===nd?this.childContexts:this.parent.get(e,t)}}let tE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["ng-component"]],standalone:!0,features:[dN],decls:1,vars:0,template:function(t,r){1&t&&we(0,"router-outlet")},dependencies:[eE],encapsulation:2}),n})();function rL(n,e){return n.providers&&!n._injector&&(n._injector=hp(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rE(n){const e=n.children&&n.children.map(rE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ge&&(t.component=tE),t}function Ur(n){return n.outlet||ge}function iL(n,e){const t=n.filter(r=>Ur(r)===e);return t.push(...n.filter(r=>Ur(r)!==e)),t}function rd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class UJ{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Xw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ql(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),ln(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ql(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ql(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ql(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new TJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new IJ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Xw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Xw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=rd(i.snapshot),l=a?.get(No)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class sL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tm{constructor(e,t){this.component=e,this.route=t}}function jJ(n,e,t){const r=n._root;return id(r,e?e._root:null,t,[r.value])}function Gl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function WW(n){return null!==pf(n)}(n)?e.get(n):n:r}function id(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ql(e);return n.children.forEach(o=>{(function $J(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function zJ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qo(n.url,e.url)||!Ei(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zw(n,e)||!Ei(n.queryParams,e.queryParams);default:return!Zw(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new sL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),id(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new tm(a.outlet.component,o))}else o&&sd(e,a,i),i.canActivateChecks.push(new sL(r)),id(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),ln(s,(o,a)=>sd(o,t.getContext(a),i)),i}function sd(n,e,t){const r=ql(n),i=n.value;ln(r,(s,o)=>{sd(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new tm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function od(n){return"function"==typeof n}function iE(n){return n instanceof Hp||"EmptyError"===n?.name}const nm=Symbol("INITIAL_VALUE");function Wl(){return Un(n=>bF(n.map(e=>e.pipe(tr(1),$o(nm)))).pipe(ee(e=>{for(const t of e)if(!0!==t){if(t===nm)return nm;if(!1===t||t instanceof zo)return t}return!0}),an(e=>e!==nm),tr(1)))}function oL(n){return My(_t(e=>{if(Go(e))throw JF(0,e)}),ee(e=>!0===e))}const sE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aL(n,e,t,r,i){const s=oE(n,e,t);return s.matched?function aee(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(o=>{const a=Gl(o,n);return qs(function QJ(n){return n&&od(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Wl(),oL()):q(!0)}(r=rL(e,r),e,t).pipe(ee(o=>!0===o?s:{...sE})):q(s)}function oE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...sE}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||$Z)(t,n,e);if(!i)return{...sE};const s={};ln(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function rm(n,e,t,r,i="corrected"){if(t.length>0&&function uee(n,e,t){return t.some(r=>im(n,e,r)&&Ur(r)!==ge)}(n,t,r)){const o=new _e(e,function cee(n,e,t,r){const i={};i[ge]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ur(s)!==ge){const o=new _e([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Ur(s)]=o}return i}(n,e,r,new _e(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function dee(n,e,t){return t.some(r=>im(n,e,r))}(n,t,r)){const o=new _e(n.segments,function lee(n,e,t,r,i,s){const o={};for(const a of r)if(im(n,t,a)&&!i[Ur(a)]){const l=new _e([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Ur(a)]=l}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new _e(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function im(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function lL(n,e,t,r){return!!(Ur(n)===r||r!==ge&&im(e,t,n))&&("**"===n.path||oE(e,n,t).matched)}function cL(n,e,t){return 0===e.length&&!n.children[t]}const sm=!1;class om{constructor(e){this.segmentGroup=e||null}}class uL{constructor(e){this.urlTree=e}}function ad(n){return jl(new om(n))}function dL(n){return jl(new uL(n))}class mee{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=rm(this.urlTree.root,[],[],this.config).segmentGroup,t=new _e(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ge).pipe(ee(s=>this.createUrlTree(Xp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(es(s=>{if(s instanceof uL)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof om?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ge).pipe(ee(i=>this.createUrlTree(Xp(i),e.queryParams,e.fragment))).pipe(es(i=>{throw i instanceof om?this.noMatchError(i):i}))}noMatchError(e){return new D(4002,sm)}createUrlTree(e,t,r){const i=$w(e);return new zo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ee(s=>new _e([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return qe(i).pipe(wi(s=>{const o=r.children[s],a=iL(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ee(l=>({segment:l,outlet:s})))}),IF((s,o)=>(s[o.outlet]=o.segment,s),{}),DF())}expandSegment(e,t,r,i,s,o){return qe(r).pipe(wi(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(es(c=>{if(c instanceof om)return q(null);throw c}))),zs(a=>!!a),es((a,l)=>{if(iE(a))return cL(t,i,s)?q(new _e([],{})):ad(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return lL(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):ad(t):ad(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dL(s):this.lineralizeSegments(r,s).pipe(St(o=>{const a=new _e(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=oE(t,i,s);if(!a)return ad(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?dL(d):this.lineralizeSegments(i,d).pipe(St(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=rL(r,e),r.loadChildren?(r._loadedRoutes?q({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ee(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new _e(i,{})))):q(new _e(i,{}))):aL(t,r,i,e).pipe(Un(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(St(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=rm(t,a,l,h),m=new _e(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(ee(y=>new _e(a,y)));if(0===h.length&&0===p.length)return q(new _e(a,{}));const _=Ur(r)===s;return this.expandSegment(d,m,h,p,_?ge:s,!0).pipe(ee(C=>new _e(a.concat(C.segments),C.children)))})):ad(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?q({routes:t._loadedRoutes,injector:t._loadedInjector}):function oee(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(o=>{const a=Gl(o,n);return qs(function GJ(n){return n&&od(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Wl(),oL())}(e,t,r).pipe(St(i=>i?this.configLoader.loadChildren(e,t).pipe(_t(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function fee(n){return jl(eL(sm,3))}())):q({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[ge])return jl(new D(4e3,sm));i=i.children[ge]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new zo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ln(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return ln(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new _e(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new D(4001,sm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class _ee{}class bee{constructor(e,t,r,i,s,o,a,l){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=rm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ge).pipe(ee(t=>{if(null===t)return null;const r=new Jp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ge,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ns(r,t),s=new XF(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=QF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return qe(Object.keys(r.children)).pipe(wi(i=>{const s=r.children[i],o=iL(t,i);return this.processSegmentGroup(e,o,s,i)}),IF((i,s)=>i&&s?(i.push(...s),i):null),function jZ(n,e=!1){return ht((t,r)=>{let i=0;t.subscribe(Xe(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),zp(null),DF(),ee(i=>{if(null===i)return null;const s=hL(i);return function wee(n){n.sort((e,t)=>e.value.outlet===ge?-1:t.value.outlet===ge?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return qe(t).pipe(wi(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),zs(o=>!!o),es(o=>{if(iE(o))return cL(r,i,s)?q([]):q(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!lL(t,r,i,s))return q(null);let o;if("**"===t.path){const a=i.length>0?MF(i).parameters:{},l=pL(r)+i.length;o=q({snapshot:new Jp(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gL(t),Ur(t),t.component??t._loadedComponent??null,t,fL(r),l,_L(t),l),consumedSegments:[],remainingSegments:[]})}else o=aL(r,t,i,e).pipe(ee(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=pL(r)+l.length;return{snapshot:new Jp(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gL(t),Ur(t),t.component??t._loadedComponent??null,t,fL(r),d,_L(t),d),consumedSegments:l,remainingSegments:c}}));return o.pipe(Un(a=>{if(null===a)return q(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function Eee(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=rm(r,c,u,h.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ee(_=>null===_?null:[new ns(l,_)]));if(0===h.length&&0===p.length)return q([new ns(l,[])]);const m=Ur(t)===s;return this.processSegment(d,h,f,p,m?ge:s).pipe(ee(_=>null===_?null:[new ns(l,_)]))}))}}function Cee(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hL(n){const e=[],t=new Set;for(const r of n){if(!Cee(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=hL(r.children);e.push(new ns(r.value,i))}return e.filter(r=>!t.has(r))}function fL(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pL(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function gL(n){return n.data||{}}function _L(n){return n.resolve||{}}function yL(n){return"string"==typeof n.title||null===n.title}function aE(n){return Un(e=>{const t=n(e);return t?qe(t).pipe(ee(()=>e)):q(e)})}let vL=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ge);return r}getResolvedTitleForRoute(t){return t.data[Yu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return rt(bL)},providedIn:"root"}),n})(),bL=(()=>{class n extends vL{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(I(pF))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kee{}class Oee extends class Ree{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const lm=new R("",{providedIn:"root",factory:()=>({})}),lE=new R("ROUTES");let cE=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=qs(t.loadComponent()).pipe(_t(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),qp(()=>{this.componentLoaders.delete(t)})),i=new EF(r,()=>new Ce).pipe(Vw());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ee(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=AF(l.get(lE,[],J.Self|J.Optional)));return{routes:c.map(rE),injector:l}}),qp(()=>{this.childrenLoaders.delete(r)})),o=new EF(s,()=>new Ce).pipe(Vw());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return qs(t()).pipe(St(r=>r instanceof cN||Array.isArray(r)?q(r):qe(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(I(At),I(Qb))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pee{}class Fee{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Lee(n){throw n}function Vee(n,e,t){return e.parse("/")}const Bee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Uee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function EL(){const n=rt(PF),e=rt(nd),t=rt(Dp),r=rt(At),i=rt(Qb),s=rt(lE,{optional:!0})??[],o=rt(lm,{optional:!0})??{},a=rt(bL),l=rt(vL,{optional:!0}),c=rt(Pee,{optional:!0}),u=rt(kee,{optional:!0}),d=new xt(null,n,e,t,r,i,AF(s));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function jee(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let xt=(()=>{class n{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ce,this.errorHandler=Lee,this.malformedUriErrorHandler=Vee,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>q(void 0),this.urlHandlingStrategy=new Fee,this.routeReuseStrategy=new Oee,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(cE),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new EJ(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new wJ(h)),this.ngModule=o.get(Vo),this.console=o.get(D9);const d=o.get(me);this.isNgZoneEnabled=d instanceof me&&me.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function qZ(){return new zo(new _e([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=YF(this.currentUrlTree,this.rootComponentType),this.transitions=new Br({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(an(i=>0!==i.id),ee(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Un(i=>{let s=!1,o=!1;return q(i).pipe(_t(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Un(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return CL(a.source)&&(this.browserUrlTree=a.extractedUrl),q(a).pipe(Un(d=>{const h=this.transitions.getValue();return r.next(new Ww(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?qr:Promise.resolve(d)}),function gee(n,e,t,r){return Un(i=>function pee(n,e,t,r,i){return new mee(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ee(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),_t(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function Dee(n,e,t,r,i,s){return St(o=>function vee(n,e,t,r,i,s,o="emptyOnly",a="legacy"){return new bee(n,e,t,r,i,o,a,s).recognize().pipe(Un(l=>null===l?function yee(n){return new Le(e=>e.error(n))}(new _ee):q(l)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(ee(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),_t(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new gJ(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,b=new Ww(h,this.serializeUrl(f),p,m);r.next(b);const C=YF(f,this.rootComponentType).snapshot;return q(i={...a,targetSnapshot:C,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),qr}),_t(a=>{const l=new _J(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ee(a=>i={...a,guards:jJ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function ZJ(n,e){return St(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?q({...t,guardsResult:!0}):function JJ(n,e,t,r){return qe(n).pipe(St(i=>function see(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?q(s.map(a=>{const l=rd(e)??i,c=Gl(a,l);return qs(function YJ(n){return n&&od(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(zs())})).pipe(Wl()):q(!0)}(i.component,i.route,t,e,r)),zs(i=>!0!==i,!0))}(o,r,i,n).pipe(St(a=>a&&function qJ(n){return"boolean"==typeof n}(a)?function eee(n,e,t,r){return qe(e).pipe(wi(i=>$p(function nee(n,e){return null!==n&&e&&e(new CJ(n)),q(!0)}(i.route.parent,r),function tee(n,e){return null!==n&&e&&e(new DJ(n)),q(!0)}(i.route,r),function iee(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function HJ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Lw(()=>q(o.guards.map(l=>{const c=rd(o.node)??t,u=Gl(l,c);return qs(function KJ(n){return n&&od(n.canActivateChild)}(u)?u.canActivateChild(r,n):c.runInContext(()=>u(r,n))).pipe(zs())})).pipe(Wl())));return q(s).pipe(Wl())}(n,i.path,t),function ree(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(s=>Lw(()=>{const o=rd(e)??t,a=Gl(s,o);return qs(function WJ(n){return n&&od(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(zs())}));return q(i).pipe(Wl())}(n,i.route,t))),zs(i=>!0!==i,!0))}(r,s,n,e):q(a)),ee(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),_t(a=>{if(i.guardsResult=a.guardsResult,Go(a.guardsResult))throw JF(0,a.guardsResult);const l=new yJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),an(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),aE(a=>{if(a.guards.canActivateChecks.length)return q(a).pipe(_t(l=>{const c=new vJ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Un(l=>{let c=!1;return q(l).pipe(function Tee(n,e){return St(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let s=0;return qe(i).pipe(wi(o=>function See(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!yL(i)&&(s[Yu]=i.title),function Aee(n,e,t,r){const i=function Mee(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return q({});const s={};return qe(i).pipe(St(o=>function xee(n,e,t,r){const i=rd(e)??r,s=Gl(n,i);return qs(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(zs(),_t(a=>{s[o]=a}))),Bw(1),TF(s),es(o=>iE(o)?qr:jl(o)))}(s,n,e,r).pipe(ee(o=>(n._resolvedData=o,n.data=QF(n,t).resolve,i&&yL(i)&&(n.data[Yu]=i.title),null)))}(o.route,r,n,e)),_t(()=>s++),Bw(1),St(o=>s===i.length?q(t):qr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),_t({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),_t(l=>{const c=new bJ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),aE(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(_t(d=>{c.component=d}),ee(()=>{})));for(const d of c.children)u.push(...l(d));return u};return bF(l(a.targetSnapshot.root)).pipe(zp(),tr(1))}),aE(()=>this.afterPreactivation()),ee(a=>{const l=function xJ(n,e,t){const r=td(n,e._root,t?t._root:void 0);return new KF(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),_t(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>ee(r=>(new UJ(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),_t({next(){s=!0},complete(){s=!0}}),qp(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),es(a=>{if(o=!0,nL(a)){tL(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new Zp(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),tL(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||CL(i.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new qF(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return qr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(rE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),uJ(c,this.currentUrlTree,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Go(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Hee(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new D(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Bee}:!1===r?{...Uee}:r,Go(t))return kF(this.currentUrlTree,t,i);const s=this.parseUrl(t);return kF(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Wo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new Zp(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){eb()},n.\u0275prov=B({token:n,factory:function(){return EL()},providedIn:"root"}),n})();function CL(n){return"imperative"!==n}let um=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ce,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Xi(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Xi(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Xi(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(v(xt),v(Ko),Mo("tabindex"),v(hi),v(He))},n.\u0275dir=K({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&Ye("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Xn]}),n})(),dm=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ce,this.subscription=t.events.subscribe(s=>{s instanceof Wo&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=Xi(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Xi(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Xi(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){return!!(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(v(xt),v(Ko),v(Ho))},n.\u0275dir=K({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&Ye("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Lt("target",r.target)("href",r.href,bu)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Xn]}),n})();class IL{}let qee=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(an(t=>t instanceof Wo),wi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=hp(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return qe(i).pipe(Qa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):q(null);const s=i.pipe(St(o=>null===o?q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?qe([s,this.loader.loadComponent(r)]).pipe(Qa()):s})}}return n.\u0275fac=function(t){return new(t||n)(I(xt),I(Qb),I(Ns),I(IL),I(cE))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uE=new R("");let DL=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ww?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof GF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new GF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){eb()},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();function Kl(n,e){return{\u0275kind:n,\u0275providers:e}}function dE(n){return[{provide:lE,multi:!0,useValue:n}]}function SL(){const n=rt(At);return e=>{const t=n.get(Bo);if(e!==t.components[0])return;const r=n.get(xt),i=n.get(AL);1===n.get(hE)&&r.initialNavigation(),n.get(ML,null,J.Optional)?.setUpPreloading(),n.get(uE,null,J.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const AL=new R("",{factory:()=>new Ce}),hE=new R("",{providedIn:"root",factory:()=>1});const ML=new R("");function Yee(n){return Kl(0,[{provide:ML,useExisting:qee},{provide:IL,useExisting:n}])}const xL=new R("ROUTER_FORROOT_GUARD"),Qee=[Dp,{provide:PF,useClass:jw},{provide:xt,useFactory:EL},nd,{provide:Ko,useFactory:function TL(n){return n.routerState.root},deps:[xt]},cE];function Xee(){return new sP("Router",xt)}let kL=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Qee,[],dE(t),{provide:xL,useFactory:tte,deps:[[xt,new lt,new pl]]},{provide:lm,useValue:r||{}},r?.useHash?{provide:Ho,useClass:pQ}:{provide:Ho,useClass:xP},{provide:uE,useFactory:()=>{const n=rt(xt),e=rt(RX),t=rt(lm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new DL(n,e,t)}},r?.preloadingStrategy?Yee(r.preloadingStrategy).\u0275providers:[],{provide:sP,multi:!0,useFactory:Xee},r?.initialNavigation?nte(r):[],[{provide:RL,useFactory:SL},{provide:ZN,multi:!0,useExisting:RL}]]}}static forChild(t){return{ngModule:n,providers:[dE(t)]}}}return n.\u0275fac=function(t){return new(t||n)(I(xL,8))},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[tE]}),n})();function tte(n){return"guarded"}function nte(n){return["disabled"===n.initialNavigation?Kl(3,[{provide:_p,multi:!0,useFactory:()=>{const e=rt(xt);return()=>{e.setUpLocationChangeListener()}}},{provide:hE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Kl(2,[{provide:hE,useValue:0},{provide:_p,multi:!0,deps:[At],useFactory:e=>{const t=e.get(hQ,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(xt),a=e.get(AL);(function i(s){e.get(xt).events.pipe(an(a=>a instanceof Wo||a instanceof Zp||a instanceof qF),ee(a=>a instanceof Wo||a instanceof Zp&&(0===a.code||1===a.code)&&null),an(a=>null!==a),tr(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?q(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const RL=new R("");function OL(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){OL(s,r,i,o,a,"next",l)}function a(l){OL(s,r,i,o,a,"throw",l)}o(void 0)})}}const NL=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(NL(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},pm=function(n){return function(n){const e=NL(n);return pE.encodeByteArray(e,!0)}(n).replace(/\./g,"")},mm=function(n){try{return pE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},gm=()=>{try{return function cte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mm(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},FL=n=>{var e,t;return null===(t=null===(e=gm())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},LL=n=>{const e=FL(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},VL=n=>{var e;return null===(e=gm())||void 0===e?void 0:e[`_${n}`]};class _m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function BL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pm(JSON.stringify({alg:"none",type:"JWT"})),pm(JSON.stringify(o)),""].join(".")}function Zt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function mE(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Yo(){try{return"object"==typeof indexedDB}catch{return!1}}function ld(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function gE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ci.prototype.create)}}class Ci{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function yte(n,e){return n.replace(vte,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Er(i,`${this.serviceName}: ${o} (${i}).`,r)}}const vte=/\{\$([^}]+)}/g;function vm(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(HL(s)&&HL(o)){if(!vm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function HL(n){return null!==n&&"object"==typeof n}function bm(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ud(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Ete{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Cte(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=_E),void 0===i.error&&(i.error=_E),void 0===i.complete&&(i.complete=_E);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _E(){}function vE(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function yt(n){return n&&n._delegate?n._delegate:n}class cn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qo="[DEFAULT]";class Mte{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new _m;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function kte(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Qo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mte(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const bE=[];var Te=(()=>{return(n=Te||(Te={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Te;var n})();const $L={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Ote=Te.INFO,Nte={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},Pte=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Nte[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Yl{constructor(e){this.name=e,this._logLevel=Ote,this._logHandler=Pte,this._userLogHandler=null,bE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?$L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}let zL,qL;const GL=new WeakMap,wE=new WeakMap,WL=new WeakMap,EE=new WeakMap,CE=new WeakMap;let IE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return wE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||WL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function $te(n){return"function"==typeof n?function Hte(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Vte(){return qL||(qL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(DE(this),e),rs(GL.get(this))}:function(...e){return rs(n.apply(DE(this),e))}:function(e,...t){const r=n.call(DE(this),e,...t);return WL.set(r,e.sort?e.sort():[e]),rs(r)}}(n):(n instanceof IDBTransaction&&function Ute(n){if(wE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});wE.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Lte(){return zL||(zL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,IE):n)}function rs(n){if(n instanceof IDBRequest)return function Bte(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(rs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&GL.set(t,n)}).catch(()=>{}),CE.set(e,n),e}(n);if(EE.has(n))return EE.get(n);const e=$te(n);return e!==n&&(EE.set(n,e),CE.set(e,n)),e}const DE=n=>CE.get(n);function wm(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=rs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(rs(o.result),l.oldVersion,l.newVersion,rs(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function TE(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),rs(t).then(()=>{})}const zte=["get","getKey","getAll","getAllKeys","count"],qte=["put","add","delete","clear"],SE=new Map;function KL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(SE.get(e))return SE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=qte.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!zte.includes(t))return;const s=function(){var o=g(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return SE.set(e,s),s}!function jte(n){IE=n(IE)}(n=>({...n,get:(e,t,r)=>KL(e,t)||n.get(e,t,r),has:(e,t)=>!!KL(e,t)||n.has(e,t)}));class Gte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Wte(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const AE="@firebase/app",Xo=new Yl("@firebase/app"),Em="[DEFAULT]",vne={[AE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zo=new Map,Cm=new Map;function bne(n,e){try{n.container.addComponent(e)}catch(t){Xo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function An(n){const e=n.name;if(Cm.has(e))return Xo.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,n);for(const t of Zo.values())bne(t,n);return!0}function Jo(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const is=new Ci("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ene{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const ea="9.17.1";function QL(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Em,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw is.create("bad-app-name",{appName:String(i)});if(t||(t=(()=>{var n;return null===(n=gm())||void 0===n?void 0:n.config})()),!t)throw is.create("no-options");const s=Zo.get(i);if(s){if(vm(t,s.options)&&vm(r,s.config))return s;throw is.create("duplicate-app",{appName:i})}const o=new Rte(i);for(const l of Cm.values())o.addComponent(l);const a=new Ene(t,r,o);return Zo.set(i,a),a}function Im(n=Em){const e=Zo.get(n);if(!e&&n===Em)return QL();if(!e)throw is.create("no-app",{appName:n});return e}function XL(){return Array.from(Zo.values())}function it(n,e,t){var r;let i=null!==(r=vne[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Xo.warn(a.join(" "))}An(new cn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const dd="firebase-heartbeat-store";let xE=null;function ZL(){return xE||(xE=wm("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(dd)}}).catch(n=>{throw is.create("idb-open",{originalErrorMessage:n.message})})),xE}function kE(){return(kE=g(function*(n){try{return(yield ZL()).transaction(dd).objectStore(dd).get(eV(n))}catch(e){if(e instanceof Er)Xo.warn(e.message);else{const t=is.create("idb-get",{originalErrorMessage:e?.message});Xo.warn(t.message)}}})).apply(this,arguments)}function JL(n,e){return RE.apply(this,arguments)}function RE(){return(RE=g(function*(n,e){try{const r=(yield ZL()).transaction(dd,"readwrite");return yield r.objectStore(dd).put(e,eV(n)),r.done}catch(t){if(t instanceof Er)Xo.warn(t.message);else{const r=is.create("idb-set",{originalErrorMessage:t?.message});Xo.warn(r.message)}}})).apply(this,arguments)}function eV(n){return`${n.name}!${n.options.appId}`}class Ane{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xne(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=tV();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=tV(),{heartbeatsToSend:r,unsentEntries:i}=function Mne(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),nV(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),nV(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=pm(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function tV(){return(new Date).toISOString().substring(0,10)}class xne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Yo()&&ld().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Dne(n){return kE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return JL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return JL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function nV(n){return pm(JSON.stringify({version:2,heartbeats:n})).length}!function kne(n){An(new cn("platform-logger",e=>new Gte(e),"PRIVATE")),An(new cn("heartbeat",e=>new Ane(e),"PRIVATE")),it(AE,"0.9.3",n),it(AE,"0.9.3","esm2017"),it("fire-js","")}(""),it("firebase","9.17.1","app");const rV="@firebase/installations",sV="w:0.6.3",oV="FIS_v2",ss=new Ci("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function aV(n){return n instanceof Er&&n.code.includes("request-failed")}function NE({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function lV(n){return{token:n.token,requestStatus:2,expiresIn:Bne(n.expiresIn),creationTime:Date.now()}}function PE(n,e){return FE.apply(this,arguments)}function FE(){return(FE=g(function*(n,e){const r=(yield e.json()).error;return ss.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function cV({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function uV(n,{refreshToken:e}){const t=cV(n);return t.append("Authorization",function Une(n){return`${oV} ${n}`}(e)),t}function LE(n){return VE.apply(this,arguments)}function VE(){return(VE=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Bne(n){return Number(n.replace("s","000"))}function jne(n,e){return BE.apply(this,arguments)}function BE(){return(BE=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=NE(n),i=cV(n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:oV,appId:n.appId,sdkVersion:sV})},l=yield LE(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:lV(c.authToken)}}throw yield PE("Create Installation",l)})).apply(this,arguments)}function dV(n){return new Promise(e=>{setTimeout(e,n)})}const $ne=/^[cdef][\w-]{21}$/;function zne(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function qne(n){return function Hne(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return $ne.test(t)?t:""}catch{return""}}function Ql(n){return`${n.appName}!${n.appId}`}const Xl=new Map;function hV(n,e){const t=Ql(n);fV(t,e),function Kne(n,e){const t=function pV(){return!ta&&"BroadcastChannel"in self&&(ta=new BroadcastChannel("[Firebase] FID Change"),ta.onmessage=n=>{fV(n.data.key,n.data.fid)}),ta}();t&&t.postMessage({key:n,fid:e}),function mV(){0===Xl.size&&ta&&(ta.close(),ta=null)}()}(t,e)}function fV(n,e){const t=Xl.get(n);if(t)for(const r of t)r(e)}let ta=null;const na="firebase-installations-store";let jE=null;function HE(){return jE||(jE=wm("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(na)}})),jE}function Dm(n,e){return $E.apply(this,arguments)}function $E(){return($E=g(function*(n,e){const t=Ql(n),i=(yield HE()).transaction(na,"readwrite"),s=i.objectStore(na),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&hV(n,e.fid),e})).apply(this,arguments)}function zE(n){return qE.apply(this,arguments)}function qE(){return(qE=g(function*(n){const e=Ql(n),r=(yield HE()).transaction(na,"readwrite");yield r.objectStore(na).delete(e),yield r.done})).apply(this,arguments)}function hd(n,e){return GE.apply(this,arguments)}function GE(){return(GE=g(function*(n,e){const t=Ql(n),i=(yield HE()).transaction(na,"readwrite"),s=i.objectStore(na),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&hV(n,a.fid),a})).apply(this,arguments)}function WE(n){return KE.apply(this,arguments)}function KE(){return(KE=g(function*(n){let e;const t=yield hd(n.appConfig,r=>{const i=Xne(r),s=Zne(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Xne(n){return _V(n||{fid:zne(),registrationStatus:0})}function Zne(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ss.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Jne(n,e){return YE.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ere(n)}:{installationEntry:e}}function YE(){return(YE=g(function*(n,e){try{const t=yield jne(n,e);return Dm(n.appConfig,t)}catch(t){throw aV(t)&&409===t.customData.serverCode?yield zE(n.appConfig):yield Dm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function ere(n){return QE.apply(this,arguments)}function QE(){return(QE=g(function*(n){let e=yield gV(n.appConfig);for(;1===e.registrationStatus;)yield dV(100),e=yield gV(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield WE(n);return r||t}return e})).apply(this,arguments)}function gV(n){return hd(n,e=>{if(!e)throw ss.create("installation-not-found");return _V(e)})}function _V(n){return function tre(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function nre(n,e){return XE.apply(this,arguments)}function XE(){return(XE=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=rre(n,t),i=uV(n,t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:sV,appId:n.appId}})},l=yield LE(()=>fetch(r,a));if(l.ok)return lV(yield l.json());throw yield PE("Generate Auth Token",l)})).apply(this,arguments)}function rre(n,{fid:e}){return`${NE(n)}/${e}/authTokens:generate`}function ZE(n){return JE.apply(this,arguments)}function JE(){return(JE=g(function*(n,e=!1){let t;const r=yield hd(n.appConfig,s=>{if(!vV(s))throw ss.create("not-registered");const o=s.authToken;if(!e&&ore(o))return s;if(1===o.requestStatus)return t=ire(n,e),s;{if(!navigator.onLine)throw ss.create("app-offline");const a=lre(s);return t=sre(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function ire(n,e){return eC.apply(this,arguments)}function eC(){return(eC=g(function*(n,e){let t=yield yV(n.appConfig);for(;1===t.authToken.requestStatus;)yield dV(100),t=yield yV(n.appConfig);const r=t.authToken;return 0===r.requestStatus?ZE(n,e):r})).apply(this,arguments)}function yV(n){return hd(n,e=>{if(!vV(e))throw ss.create("not-registered");return function cre(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function sre(n,e){return tC.apply(this,arguments)}function tC(){return(tC=g(function*(n,e){try{const t=yield nre(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Dm(n.appConfig,r),t}catch(t){if(!aV(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Dm(n.appConfig,r)}else yield zE(n.appConfig);throw t}})).apply(this,arguments)}function vV(n){return void 0!==n&&2===n.registrationStatus}function ore(n){return 2===n.requestStatus&&!function are(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function lre(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function nC(){return(nC=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield WE(e);return r?r.catch(console.error):ZE(e).catch(console.error),t.fid})).apply(this,arguments)}function rC(){return(rC=g(function*(n,e=!1){const t=n;return yield hre(t),(yield ZE(t,e)).token})).apply(this,arguments)}function hre(n){return iC.apply(this,arguments)}function iC(){return(iC=g(function*(n){const{registrationPromise:e}=yield WE(n);e&&(yield e)})).apply(this,arguments)}function aC(n){return ss.create("missing-app-config-values",{valueName:n})}const bV="installations",_re=n=>{const e=n.getProvider("app").getImmediate(),t=function mre(n){if(!n||!n.options)throw aC("App Configuration");if(!n.name)throw aC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw aC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Jo(e,"heartbeat"),_delete:()=>Promise.resolve()}},yre=n=>{const t=Jo(n.getProvider("app").getImmediate(),bV).getImmediate();return{getId:()=>function ure(n){return nC.apply(this,arguments)}(t),getToken:i=>function dre(n){return rC.apply(this,arguments)}(t,i)}};(function vre(){An(new cn(bV,_re,"PUBLIC")),An(new cn("installations-internal",yre,"PRIVATE"))})(),it(rV,"0.6.3"),it(rV,"0.6.3","esm2017");const lC="@firebase/remote-config",nr=new Ci("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xre{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function kre(n=navigator){return n.languages&&n.languages[0]||n.language}class Rre{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:kre()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((b,C)=>{e.signal.addEventListener(()=>{const y=new Error("The operation was aborted.");y.name="AbortError",C(y)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(b){let C="fetch-client-network";throw"AbortError"===b?.name&&(C="fetch-timeout"),nr.create(C,{originalErrorMessage:b?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let b;try{b=yield h.json()}catch(C){throw nr.create("fetch-client-parse",{originalErrorMessage:C?.message})}m=b.entries,_=b.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw nr.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Pre{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return g(function*(){yield function Ore(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Nre(n){if(!(n instanceof Er&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+vE(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Vre{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Sm(n,e){const t=n.target.error||void 0;return nr.create(e,{originalErrorMessage:t&&t?.message})}const ra="app_namespace_store";class Hre{constructor(e,t,r,i=function jre(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Sm(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ra,{keyPath:"compositeKey"})}}catch(t){e(nr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ra],"readonly").objectStore(ra),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(Sm(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(nr.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([ra],"readwrite").objectStore(ra),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(Sm(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(nr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ra],"readwrite").objectStore(ra),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(Sm(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(nr.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class $re{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function qre(){return fC.apply(this,arguments)}function fC(){return(fC=g(function*(){if(!Yo())return!1;try{return yield ld()}catch{return!1}})).apply(this,arguments)}!function zre(){An(new cn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw nr.create("registration-window");if(!Yo())throw nr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw nr.create("registration-project-id");if(!o)throw nr.create("registration-api-key");if(!a)throw nr.create("registration-app-id");const l=new Hre(a,r.name,t=t||"firebase"),c=new $re(l),u=new Yl(lC);u.logLevel=Te.ERROR;const d=new Rre(i,ea,t,s,o,a),h=new Pre(d,l),f=new xre(h,l,c,u),p=new Vre(r,f,c,l,u);return function Sre(n){const e=yt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),it(lC,"0.4.3"),it(lC,"0.4.3","esm2017")}();const Gre="/firebase-messaging-sw.js",Wre="/firebase-cloud-messaging-push-scope",IV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",DV="google.c.a.c_id",Yre="google.c.a.c_l",Qre="google.c.a.ts",Xre="google.c.a.e";var Zl=(()=>{return(n=Zl||(Zl={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Zl;var n})();function os(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zre(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const pC="fcm_token_details_db",TV="fcm_token_object_Store";function eie(n){return mC.apply(this,arguments)}function mC(){return mC=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(pC))return null;let e=null;return(yield wm(pC,5,{upgrade:(r=g(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(TV))return;const c=a.objectStore(TV),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:os(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:os(d.auth),p256dh:os(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:os(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:os(d.auth),p256dh:os(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:os(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield TE(pC),yield TE("fcm_vapid_details_db"),yield TE("undefined"),tie(e)?e:null;var r}),mC.apply(this,arguments)}function tie(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ia="firebase-messaging-store";let gC=null;function _C(){return gC||(gC=wm("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ia)}})),gC}function SV(n){return yC.apply(this,arguments)}function yC(){return(yC=g(function*(n){const e=EC(n),r=yield(yield _C()).transaction(ia).objectStore(ia).get(e);if(r)return r;{const i=yield eie(n.appConfig.senderId);if(i)return yield vC(n,i),i}})).apply(this,arguments)}function vC(n,e){return bC.apply(this,arguments)}function bC(){return(bC=g(function*(n,e){const t=EC(n),i=(yield _C()).transaction(ia,"readwrite");return yield i.objectStore(ia).put(e,t),yield i.done,e})).apply(this,arguments)}function iie(n){return wC.apply(this,arguments)}function wC(){return(wC=g(function*(n){const e=EC(n),r=(yield _C()).transaction(ia,"readwrite");yield r.objectStore(ia).delete(e),yield r.done})).apply(this,arguments)}function EC({appConfig:n}){return n.appId}const un=new Ci("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function oie(n,e){return CC.apply(this,arguments)}function CC(){return(CC=g(function*(n,e){const t=yield SC(n),r=MV(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(TC(n.appConfig),i)).json()}catch(o){throw un.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw un.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw un.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function aie(n,e){return IC.apply(this,arguments)}function IC(){return(IC=g(function*(n,e){const t=yield SC(n),r=MV(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${TC(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw un.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw un.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw un.create("token-update-no-token");return s.token})).apply(this,arguments)}function AV(n,e){return DC.apply(this,arguments)}function DC(){return(DC=g(function*(n,e){const r={method:"DELETE",headers:yield SC(n)};try{const s=yield(yield fetch(`${TC(n.appConfig)}/${e}`,r)).json();if(s.error)throw un.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw un.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function TC({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function SC(n){return AC.apply(this,arguments)}function AC(){return(AC=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function MV({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==IV&&(i.web.applicationPubKey=r),i}function cie(n){return MC.apply(this,arguments)}function MC(){return(MC=g(function*(n){const e=yield die(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:os(e.getKey("auth")),p256dh:os(e.getKey("p256dh"))},r=yield SV(n.firebaseDependencies);if(r){if(hie(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?uie(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield AV(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return kV(n.firebaseDependencies,t)}return kV(n.firebaseDependencies,t)})).apply(this,arguments)}function xV(n){return xC.apply(this,arguments)}function xC(){return(xC=g(function*(n){const e=yield SV(n.firebaseDependencies);e&&(yield AV(n.firebaseDependencies,e.token),yield iie(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function uie(n,e){return kC.apply(this,arguments)}function kC(){return(kC=g(function*(n,e){try{const t=yield aie(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield vC(n.firebaseDependencies,r),t}catch(t){throw yield xV(n),t}})).apply(this,arguments)}function kV(n,e){return RC.apply(this,arguments)}function RC(){return(RC=g(function*(n,e){const r={token:yield oie(n,e),createTime:Date.now(),subscriptionOptions:e};return yield vC(n,r),r.token})).apply(this,arguments)}function die(n,e){return OC.apply(this,arguments)}function OC(){return(OC=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zre(e)})})).apply(this,arguments)}function hie(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function RV(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function fie(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function pie(n,e){!e.data||(n.data=e.data)}(e,n),function mie(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function gie(n){return"object"==typeof n&&!!n&&DV in n}function OV(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function NC(n){return un.create("missing-app-config-values",{valueName:n})}OV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),OV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yie{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function _ie(n){if(!n||!n.options)throw NC("App Configuration Object");if(!n.name)throw NC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw NC(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function NV(n){return PC.apply(this,arguments)}function PC(){return(PC=g(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Gre,{scope:Wre}),n.swRegistration.update().catch(()=>{})}catch(e){throw un.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function vie(n,e){return FC.apply(this,arguments)}function FC(){return(FC=g(function*(n,e){if(!e&&!n.swRegistration&&(yield NV(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function bie(n,e){return LC.apply(this,arguments)}function LC(){return(LC=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=IV)})).apply(this,arguments)}function VC(){return(VC=g(function*(n,e){if(!navigator)throw un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw un.create("permission-blocked");return yield bie(n,e?.vapidKey),yield vie(n,e?.serviceWorkerRegistration),cie(n)})).apply(this,arguments)}function wie(n,e,t){return BC.apply(this,arguments)}function BC(){return(BC=g(function*(n,e,t){const r=Eie(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[DV],message_name:t[Yre],message_time:t[Qre],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Eie(n){switch(n){case Zl.NOTIFICATION_CLICKED:return"notification_open";case Zl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function UC(){return(UC=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Zl.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(RV(t)):n.onMessageHandler.next(RV(t)));const r=t.data;gie(r)&&"1"===r[Xre]&&(yield wie(n,t.messageType,r))})).apply(this,arguments)}const FV="@firebase/messaging",Iie=n=>{const e=new yie(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Cie(n,e){return UC.apply(this,arguments)}(e,t)),e},Die=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function PV(n,e){return VC.apply(this,arguments)}(e,r)}};function VV(){return jC.apply(this,arguments)}function jC(){return(jC=g(function*(){try{yield ld()}catch{return!1}return typeof window<"u"&&Yo()&&gE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Tie(){An(new cn("messaging",Iie,"PUBLIC")),An(new cn("messaging-internal",Die,"PRIVATE")),it(FV,"0.12.3"),it(FV,"0.12.3","esm2017")}();const Am="analytics",Mie="firebase_id",Rie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",BV="https://www.googletagmanager.com/gtag/js",dn=new Yl("@firebase/analytics");function UV(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Oie(n,e){const t=document.createElement("script");t.src=`${BV}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Pie(n,e,t,r,i,s){return zC.apply(this,arguments)}function zC(){return(zC=g(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield UV(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){dn.error(a)}n("config",i,s)})).apply(this,arguments)}function Fie(n,e,t,r,i){return qC.apply(this,arguments)}function qC(){return(qC=g(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield UV(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){dn.error(s)}})).apply(this,arguments)}function Bie(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(BV)&&t.src.includes(n))return t;return null}const Cr=new Ci("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),jV=new class $ie{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function zie(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function qie(n){return GC.apply(this,arguments)}function GC(){return(GC=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:zie(r)},s=Rie.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Cr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Gie(n){return WC.apply(this,arguments)}function WC(){return(WC=g(function*(n,e=jV,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Cr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Cr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Yie;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),HV({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function HV(n,e,t){return KC.apply(this,arguments)}function KC(){return(KC=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=jV){var s;const{appId:o,measurementId:a}=n;try{yield Wie(r,e)}catch(l){if(a)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield qie(n);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!Kie(c)){if(i.deleteThrottleMetadata(o),a)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?vE(t,i.intervalMillis,30):vE(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(o,d),dn.debug(`Calling attemptFetch again in ${u} millis`),HV(n,d,r,i)}})).apply(this,arguments)}function Wie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Cr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Kie(n){if(!(n instanceof Er&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Yie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let YC,t0;function QC(){return(QC=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function $V(n){t0=n}function zV(n){YC=n}function tse(){return n0.apply(this,arguments)}function n0(){return(n0=g(function*(){if(!Yo())return dn.warn(Cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ld()}catch(n){return dn.warn(Cr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function r0(){return(r0=g(function*(n,e,t,r,i,s,o){var a;const l=Gie(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>dn.error(f)),e.push(l);const c=tse().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);Bie(s)||Oie(s,u.measurementId),t0&&(i("consent","default",t0),$V(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Mie]=d),i("config",u.measurementId,h),YC&&(i("set",YC),zV(void 0)),u.measurementId})).apply(this,arguments)}class rse{constructor(e){this.app=e}_delete(){return delete as[this.app.options.appId],Promise.resolve()}}let as={},qV=[];const GV={};let KV,ls,Mm="dataLayer",s0=!1;function sse(n,e,t){!function ise(){const n=[];if(mE()&&n.push("This is a browser extension environment."),gE()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Cr.create("invalid-analytics-context",{errorInfo:e});dn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Cr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Cr.create("no-api-key");dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=as[r])throw Cr.create("already-exists",{id:r});if(!s0){!function Nie(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Mm);const{wrappedGtag:s,gtagCore:o}=function Vie(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Lie(n,e,t,r){function s(){return(s=g(function*(o,a,l){try{"event"===o?yield Fie(n,e,t,a,l):"config"===o?yield Pie(n,e,t,r,a,l):"consent"===o?n("consent","update",l):n("set",a)}catch(c){dn.error(c)}})).apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(as,qV,GV,Mm,"gtag");ls=s,KV=o,s0=!0}return as[r]=function nse(n,e,t,r,i,s,o){return r0.apply(this,arguments)}(n,qV,GV,e,KV,Mm,t),new rse(n)}function ase(){return o0.apply(this,arguments)}function o0(){return(o0=g(function*(){if(mE()||!gE()||!Yo())return!1;try{return yield ld()}catch{return!1}})).apply(this,arguments)}const YV="@firebase/analytics";!function cse(){An(new cn(Am,(e,{options:t})=>sse(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),An(new cn("analytics-internal",function n(e){try{const t=e.getProvider(Am).getImmediate();return{logEvent:(r,i,s)=>function lse(n,e,t,r){n=yt(n),function Qie(n,e,t,r,i){return QC.apply(this,arguments)}(ls,as[n.app.options.appId],e,t,r).catch(i=>dn.error(i))}(t,r,i,s)}}catch(t){throw Cr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),it(YV,"0.9.3"),it(YV,"0.9.3","esm2017")}();class use extends dt{constructor(e,t){super()}schedule(e,t=0){return this}}const xm={setInterval(n,e,...t){const{delegate:r}=xm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=xm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class km extends use{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return xm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&xm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ya(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const XV={now:()=>(XV.delegate||Date).now(),delegate:void 0};class fd{constructor(e,t=fd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}fd.now=XV.now;class Rm extends fd{constructor(e,t=fd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const fse=new class hse extends Rm{}(class dse extends km{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),pd=new Rm(km),pse=pd,md=new qi("7.5.0"),a0="__angularfire_symbol__analyticsIsSupportedValue",l0="__angularfire_symbol__analyticsIsSupported",c0="__angularfire_symbol__remoteConfigIsSupportedValue",u0="__angularfire_symbol__remoteConfigIsSupported",d0="__angularfire_symbol__messagingIsSupportedValue",h0="__angularfire_symbol__messagingIsSupported";function Om(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[l0]||(globalThis[l0]=ase().then(n=>globalThis[a0]=n).catch(()=>globalThis[a0]=!1)),globalThis[h0]||(globalThis[h0]=VV().then(n=>globalThis[d0]=n).catch(()=>globalThis[d0]=!1)),globalThis[u0]||(globalThis[u0]=qre().then(n=>globalThis[c0]=n).catch(()=>globalThis[c0]=!1));const Nm=(n,e)=>{const t=e?[e]:XL(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Jl(){}class ZV{constructor(e,t=fse){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class mse{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jl,{},Jl,Jl)),t.pipe(_t({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pm=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ZV(Zone.current)),this.insideAngular=t.run(()=>new ZV(Zone.current,pd)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(I(me))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sa(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function gse(n){return sa().ngZone.runOutsideAngular(()=>n())}function oa(n){return sa().ngZone.run(()=>n())}function _se(n){return sa(),function yse(n){return function(t){return(t=t.lift(new mse(n.ngZone))).pipe(df(n.outsideAngular),uf(n.insideAngular))}}(sa())(n)}const vse=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),oa(()=>n.apply(void 0,r))},Mn=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=oa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jl,{},Jl,Jl)))),r[s]=vse(r[s],t));const i=gse(()=>n.apply(this,r));if(!e){if(i instanceof Le){const s=sa();return i.pipe(df(s.outsideAngular),uf(s.insideAngular))}return oa(()=>i)}return i instanceof Le?i.pipe(_se):i instanceof Promise?oa(()=>new Promise((s,o)=>i.then(a=>oa(()=>s(a)),a=>oa(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:oa(()=>i)};class aa{constructor(e){return e}}class Fm{constructor(){return XL()}}const p0=new R("angularfire2._apps"),wse={provide:aa,useFactory:function bse(n){return n&&1===n.length?n[0]:new aa(Im())},deps:[[new lt,p0]]},Ese={provide:Fm,deps:[[new lt,p0]]};function Cse(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new aa(r)}}let Ise=(()=>{class n{constructor(t){it("angularfire",md.full,"core"),it("angularfire",md.full,"app"),it("angular",BR.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(I(Ul))},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({providers:[wse,Ese]}),n})();function Dse(n,...e){return{ngModule:Ise,providers:[{provide:p0,useFactory:Cse(n),multi:!0,deps:[me,At,Pm,...e]}]}}const Tse=Mn(QL,!0),m0=new Map,JV={activated:!1,tokenObservers:[]},Sse={initialized:!1,enabled:!1};function hn(n){return m0.get(n)||Object.assign({},JV)}function Lm(){return Sse}class Ose{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new _m,yield function Nse(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _m,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const jn=new Ci("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tB(n){if(!hn(n).activated)throw jn.create("use-before-activation",{appName:n.name})}function y0(n,e){return v0.apply(this,arguments)}function v0(){return(v0=g(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw jn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw jn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw jn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw jn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function Vse(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const gd="firebase-app-check-store";let Um=null;function rB(){return Um||(Um=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(jn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(gd,{keyPath:"compositeKey"})}}catch(t){e(jn.create("storage-open",{originalErrorMessage:t?.message}))}}),Um)}function b0(){return(b0=g(function*(n,e){const r=(yield rB()).transaction(gd,"readwrite"),s=r.objectStore(gd).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(jn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const _d=new Yl("@firebase/app-check");function C0(n,e){return Yo()?function Hse(n,e){return function iB(n,e){return b0.apply(this,arguments)}(function oB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{_d.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function aB(){return Lm().enabled}function lB(){return D0.apply(this,arguments)}function D0(){return(D0=g(function*(){const n=Lm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Kse={error:"UNKNOWN_ERROR"};function Yse(n){return pE.encodeString(JSON.stringify(n),!1)}function jm(n){return T0.apply(this,arguments)}function T0(){return(T0=g(function*(n,e=!1){const t=n.app;tB(t);const r=hn(t);let s,i=r.token;if(i&&!ec(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(ec(l)?i=l:yield C0(t,void 0))}if(!e&&i&&ec(i))return{token:i.token};let a,o=!1;if(aB()){r.exchangeTokenPromise||(r.exchangeTokenPromise=y0(Vse(t,yield lB()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield C0(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield hn(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?_d.warn(l.message):_d.error(l),s=l}return i?s?a=ec(i)?{token:i.token,internalError:s}:dB(s):(a={token:i.token},r.token=i,yield C0(t,i)):a=dB(s),o&&uB(t,a),a})).apply(this,arguments)}function A0(n,e){const t=hn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function cB(n){const{app:e}=n,t=hn(e);let r=t.tokenRefresher;r||(r=function Qse(n){const{app:e}=n;return new Ose(g(function*(){let r;if(r=hn(e).token?yield jm(n,!0):yield jm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=hn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function uB(n,e){const t=hn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ec(n){return n.expireTimeMillis-Date.now()>0}function dB(n){return{token:Yse(Kse),error:n}}class Xse{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hn(this.app);for(const t of e)A0(this.app,t.next);return Promise.resolve()}}const vB="app-check-internal";!function doe(){An(new cn("app-check",n=>function Zse(n,e){return new Xse(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(vB).initialize()})),An(new cn(vB,n=>function Jse(n){return{getToken:e=>jm(n,e),addTokenListener:e=>function S0(n,e,t,r){const{app:i}=n,s=hn(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&ec(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),cB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>cB(n))}(n,"INTERNAL",e),removeTokenListener:e=>A0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),it("@firebase/app-check","0.6.3")}();class $m{constructor(){return Nm("app-check")}}typeof window<"u"&&window;const goe=function wB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},EB=new Ci("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),CB=new Yl("@firebase/auth");function zm(n,...e){CB.logLevel<=Te.ERROR&&CB.error(`Auth (${ea}): ${n}`,...e)}function rr(n,...e){throw O0(n,...e)}function Ii(n,...e){return O0(n,...e)}function IB(n,e,t){const r=Object.assign(Object.assign({},goe()),{[e]:t});return new Ci("auth","Firebase",r).create(e,{appName:n.name})}function O0(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return EB.create(n,...e)}function N(n,e,...t){if(!n)throw O0(e,...t)}function Di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zm(e),new Error(e)}function Gs(n,e){n||Di(e)}const DB=new Map;function cs(n){Gs(n instanceof Function,"Expected a class definition");let e=DB.get(n);return e?(Gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,DB.set(n,e),e)}function yd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function TB(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class vd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gs(t>e,"Short delay should be less than long delay!"),this.isMobile=function pte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}()||function mte(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function voe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function N0(){return"http:"===TB()||"https:"===TB()}()||mE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function P0(n,e){Gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class SB{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const woe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Eoe=new vd(3e4,6e4);function Wt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Jt(n,e,t,r){return F0.apply(this,arguments)}function F0(){return(F0=g(function*(n,e,t,r,i={}){return AB(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=bm(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),SB.fetch()(MB(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function AB(n,e,t){return L0.apply(this,arguments)}function L0(){return(L0=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},woe),e);try{const i=new Coe(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw bd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw bd(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw bd(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw bd(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw IB(n,u,c);rr(n,u)}}catch(i){if(i instanceof Er)throw i;rr(n,"network-request-failed")}})).apply(this,arguments)}function us(n,e,t,r){return V0.apply(this,arguments)}function V0(){return(V0=g(function*(n,e,t,r,i={}){const s=yield Jt(n,e,t,r,i);return"mfaPendingCredential"in s&&rr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function MB(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?P0(n.config,i):`${n.config.apiScheme}://${i}`}class Coe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),Eoe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ii(n,e,r);return i.customData._tokenResponse=t,i}function B0(){return(B0=g(function*(n,e){return Jt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Toe(n,e){return j0.apply(this,arguments)}function j0(){return(j0=g(function*(n,e){return Jt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function wd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function H0(){return(H0=g(function*(n,e=!1){const t=yt(n),r=yield t.getIdToken(e),i=qm(r);N(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wd($0(i.auth_time)),issuedAtTime:wd($0(i.iat)),expirationTime:wd($0(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function $0(n){return 1e3*Number(n)}function qm(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return zm("JWT malformed, contained fewer than 3 sections"),null;try{const i=mm(t);return i?JSON.parse(i):(zm("Failed to decode base64 JWT payload"),null)}catch(i){return zm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ds(n,e){return z0.apply(this,arguments)}function z0(){return(z0=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Er&&Moe(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function Moe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class xoe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class xB{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wd(this.lastLoginAt),this.creationTime=wd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ed(n){return q0.apply(this,arguments)}function q0(){return(q0=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ds(n,Toe(t,{idToken:r}));N(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Ooe(s.providerUserInfo):[],a=Roe(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xB(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function G0(){return(G0=g(function*(n){const e=yt(n);yield Ed(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Roe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ooe(n){return n.map(e=>{var{providerId:t}=e,r=Ix(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function W0(){return(W0=g(function*(n,e){const t=yield AB(n,{},g(function*(){const r=bm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=MB(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",SB.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Aoe(n){const e=qm(n);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Noe(n,e){return W0.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Cd;return r&&(N("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(N("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cd,this.toJSON())}_performRefresh(){return Di("not implemented")}}function Ws(n,e){N("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class la{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ix(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xoe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xB(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield ds(t,t.stsTokenManager.getToken(t.auth,e));return N(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Soe(n){return H0.apply(this,arguments)}(this,e)}reload(){return function koe(n){return G0.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new la(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ed(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield ds(e,function Ioe(n,e){return B0.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:T,isAnonymous:P,providerData:V,stsTokenManager:ie}=t;N(y&&ie,e,"internal-error");const Qe=Cd.fromJSON(this.name,ie);N("string"==typeof y,e,"internal-error"),Ws(d,e.name),Ws(h,e.name),N("boolean"==typeof T,e,"internal-error"),N("boolean"==typeof P,e,"internal-error"),Ws(f,e.name),Ws(p,e.name),Ws(m,e.name),Ws(_,e.name),Ws(b,e.name),Ws(C,e.name);const Pt=new la({uid:y,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:P,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Qe,createdAt:b,lastLoginAt:C});return V&&Array.isArray(V)&&(Pt.providerData=V.map(Kn=>Object.assign({},Kn))),_&&(Pt._redirectEventId=_),Pt}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Cd;i.updateFromServerResponse(t);const s=new la({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ed(s),s})()}}const kB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Gm(n,e,t){return`firebase:${n}:${e}:${t}`}class nc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?la._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new nc(cs(kB),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||cs(kB);const o=Gm(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=la._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new nc(s,e,r)):new nc(s,e,r)})()}}function RB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LB(e))return"Blackberry";if(VB(e))return"Webos";if(K0(e))return"Safari";if((e.includes("chrome/")||NB(e))&&!e.includes("edge/"))return"Chrome";if(FB(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function OB(n=Zt()){return/firefox\//i.test(n)}function K0(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NB(n=Zt()){return/crios\//i.test(n)}function PB(n=Zt()){return/iemobile/i.test(n)}function FB(n=Zt()){return/android/i.test(n)}function LB(n=Zt()){return/blackberry/i.test(n)}function VB(n=Zt()){return/webos/i.test(n)}function Wm(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BB(n=Zt()){return Wm(n)||FB(n)||VB(n)||LB(n)||/windows phone/i.test(n)||PB(n)}function UB(n,e=[]){let t;switch(n){case"Browser":t=RB(Zt());break;case"Worker":t=`${RB(Zt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ea}/${r}`}class Voe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Boe{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jB(this),this.idTokenSubscription=new jB(this),this.beforeStateQueue=new Voe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EB,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=cs(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield nc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return N(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield Ed(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function boe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?yt(e):null;return r&&N(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&N(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(cs(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ci("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&cs(e)||t._popupRedirectResolver;N(r,t,"argument-error"),t.redirectPersistenceManager=yield nc.create(t,[cs(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function ir(n){return yt(n)}class jB{constructor(e){this.auth=e,this.observer=null,this.addObserver=function wte(n,e){const t=new Ete(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function HB(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $B(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class zB{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}function Q0(){return(Q0=g(function*(n,e){return Jt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Z0(){return(Z0=g(function*(n,e){return us(n,"POST","/v1/accounts:signInWithPassword",Wt(n,e))})).apply(this,arguments)}function iI(){return(iI=g(function*(n,e){return us(n,"POST","/v1/accounts:signInWithEmailLink",Wt(n,e))})).apply(this,arguments)}function sI(){return(sI=g(function*(n,e){return us(n,"POST","/v1/accounts:signInWithEmailLink",Wt(n,e))})).apply(this,arguments)}class Id extends zB{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Id(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Id(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return g(function*(){switch(t.signInMethod){case"password":return function zoe(n,e){return Z0.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function Yoe(n,e){return iI.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:rr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function GB(n,e){return Q0.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Qoe(n,e){return sI.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:rr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function hs(n,e){return oI.apply(this,arguments)}function oI(){return(oI=g(function*(n,e){return us(n,"POST","/v1/accounts:signInWithIdp",Wt(n,e))})).apply(this,arguments)}class Sd{constructor(e){var t,r,i,s,o,a;const l=cd(ud(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function rae(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);N(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function iae(n){const e=cd(ud(n)).link,t=e?cd(ud(e)).deep_link_id:null,r=cd(ud(n)).deep_link_id;return(r?cd(ud(r)).link:null)||r||t||e||n}(e);try{return new Sd(t)}catch{return null}}}let WB=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Id._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Sd.parseLink(r);return N(i,"argument-error"),Id._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ks{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sae extends Ks{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function KB(n,e){return hI.apply(this,arguments)}function hI(){return(hI=g(function*(n,e){return us(n,"POST","/v1/accounts:signUp",Wt(n,e))})).apply(this,arguments)}class jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield la._fromIdTokenResponse(e,r,i),o=YB(r);return new jr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=YB(r);return new jr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function YB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Qm extends Er{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qm.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Qm(e,t,r,i)}}function QB(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Qm._fromErrorAndOperation(n,s,e,r):s})}function mI(n,e){return gI.apply(this,arguments)}function gI(){return(gI=g(function*(n,e,t=!1){const r=yield ds(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return jr._forOperation(n,"link",r)})).apply(this,arguments)}function yI(){return(yI=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield ds(n,QB(r,i,e,n),t);N(s.idToken,r,"internal-error");const o=qm(s.idToken);N(o,r,"internal-error");const{sub:a}=o;return N(n.uid===a,r,"user-mismatch"),jr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&rr(r,"user-mismatch"),s}})).apply(this,arguments)}function JB(n,e){return vI.apply(this,arguments)}function vI(){return(vI=g(function*(n,e,t=!1){const r="signIn",i=yield QB(n,r,e),s=yield jr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function wI(){return(wI=g(function*(n,e){return JB(ir(n),e)})).apply(this,arguments)}function hae(n,e,t){return OI.apply(this,arguments)}function OI(){return(OI=g(function*(n,e,t){const r=ir(n),i=yield KB(r,{returnSecureToken:!0,email:e,password:t}),s=yield jr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function fae(n,e,t){return function bI(n,e){return wI.apply(this,arguments)}(yt(n),WB.credential(e,t))}function mae(n,e){return UI.apply(this,arguments)}function UI(){return(UI=g(function*(n,e){return Jt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function gae(n,e){return jI.apply(this,arguments)}function jI(){return(jI=g(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=yt(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield ds(r,mae(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function tU(n,e,t,r){return yt(n).onIdTokenChanged(e,t,r)}const Jm="__sak";class nU{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jm,"1"),this.storage.removeItem(Jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xae=(()=>{class n extends nU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Sae(){const n=Zt();return K0(n)||Wm(n)}()&&function Loe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=BB(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Foe(){return function gte(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),rU=(()=>{class n extends nU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Rae=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function kae(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function KI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Oae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=KI("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Kt(){return window}function YI(){return typeof Kt().WorkerGlobalScope<"u"&&"function"==typeof Kt().importScripts}function QI(){return(QI=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const iU="firebaseLocalStorageDb",eg="firebaseLocalStorage",sU="fbase_key";class Md{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tg(n,e){return n.transaction([eg],e?"readwrite":"readonly").objectStore(eg)}function XI(){const n=indexedDB.open(iU,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(eg,{keyPath:sU})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(eg)?e(r):(r.close(),yield function Bae(){const n=indexedDB.deleteDatabase(iU);return new Md(n).toPromise()}(),e(yield XI()))}))})}function oU(n,e,t){return ZI.apply(this,arguments)}function ZI(){return(ZI=g(function*(n,e,t){const r=tg(n,!0).put({[sU]:e,value:t});return new Md(r).toPromise()})).apply(this,arguments)}function JI(){return(JI=g(function*(n,e){const t=tg(n,!1).get(e),r=yield new Md(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function aU(n,e){const t=tg(n,!0).delete(e);return new Md(t).toPromise()}const $ae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield XI()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return YI()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=Rae._getInstance(function Lae(){return YI()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function Pae(){return QI.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Oae(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Fae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield XI();return yield oU(t,Jm,"1"),yield aU(t,Jm),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>oU(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Uae(n,e){return JI.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>aU(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=tg(o,!1).getAll();return new Md(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function cU(n){return`__${n}${Math.floor(1e6*Math.random())}`}function ua(n,e){return e?cs(e):(N(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}cU("rcb"),new vd(3e4,6e4);class cD extends zB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ole(n){return JB(n.auth,new cD(n),n.bypassAuthState)}function ale(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),function ZB(n,e){return yI.apply(this,arguments)}(t,new cD(n),n.bypassAuthState)}function lle(n){return uD.apply(this,arguments)}function uD(){return(uD=g(function*(n){const{auth:e,user:t}=n;return N(t,e,"internal-error"),mI(t,new cD(n),n.bypassAuthState)})).apply(this,arguments)}new vd(2e3,1e4);const xd=new Map;class dle extends class cle{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ole;case"linkViaPopup":case"linkViaRedirect":return lle;case"reauthViaPopup":case"reauthViaRedirect":return ale;default:rr(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=xd.get(t.auth._key());if(!r){try{const s=(yield function hle(n,e){return mD.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}xd.set(t.auth._key(),r)}return t.bypassAuthState||xd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function mD(){return(mD=g(function*(n,e){const t=hU(e),r=dU(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function fle(n,e){xd.set(n._key(),e)}function dU(n){return cs(n._redirectPersistence)}function hU(n){return Gm("pendingRedirect",n.config.apiKey,n.name)}function fU(n,e){return ED.apply(this,arguments)}function ED(){return(ED=g(function*(n,e,t=!1){const r=ir(n),i=ua(r,e),o=yield new dle(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class yle{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function vle(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gU(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gU(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ii(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mU(e))}saveEventToCache(e){this.cachedEventUids.add(mU(e)),this.lastProcessedEventTime=Date.now()}}function mU(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gU({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function ble(n){return ID.apply(this,arguments)}function ID(){return(ID=g(function*(n,e={}){return Jt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const wle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ele=/^https?/;function DD(){return(DD=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield ble(n);for(const t of e)try{if(Ile(t))return}catch{}rr(n,"unauthorized-domain")})).apply(this,arguments)}function Ile(n){const e=yd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!Ele.test(t))return!1;if(wle.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Dle=new vd(3e4,6e4);function _U(){const n=Kt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let rg=null;function Sle(n){return rg=rg||function Tle(n){return new Promise((e,t)=>{var r,i,s;function o(){_U(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_U(),t(Ii(n,"network-request-failed"))},timeout:Dle.get()})}if(null!==(i=null===(r=Kt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Kt().gapi)||void 0===s||!s.load){const a=cU("iframefcb");return Kt()[a]=()=>{gapi.load?o():t(Ii(n,"network-request-failed"))},function lU(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ii("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Wae(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw rg=null,e})}(n),rg}const Ale=new vd(5e3,15e3),kle={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ole(n){const e=n.config;N(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?P0(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:ea},i=Rle.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${bm(r).slice(1)}`}function TD(){return TD=g(function*(n){const e=yield Sle(n),t=Kt().gapi;return N(t,n,"internal-error"),e.open({where:document.body,url:Ole(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kle,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ii(n,"network-request-failed"),l=Kt().setTimeout(()=>{o(a)},Ale.get());function c(){Kt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),TD.apply(this,arguments)}const Ple={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vU(n,e,t,r,i,s){N(n.config.authDomain,n,"auth-domain-config-required"),N(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ea,eventId:i};if(e instanceof Ks){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function bte(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof sae){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function zle({config:n}){return n.emulator?P0(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${bm(a).slice(1)}`}const SD="webStorageSupport",Gle=class qle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rU,this._completeRedirectFn=fU,this._overrideRedirectResult=fle}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;Gs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=vU(e,t,r,yd(),i);return function Ule(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ple),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Zt().toLowerCase();t&&(a=NB(c)?"_blank":t),OB(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Poe(n=Zt()){var e;return Wm(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function jle(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new yU(null);const d=window.open(e||"",a,u);N(d,n,"popup-blocked");try{d.focus()}catch{}return new yU(d)}(e,a,KI())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function Nae(n){Kt().location.href=n}(vU(e,t,r,yd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Gs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function Nle(n){return TD.apply(this,arguments)}(e),i=new yle(e);return r.register("authEvent",s=>(N(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(SD,{type:SD},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[SD];void 0!==o&&t(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Cle(n){return DD.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BB()||K0()||Wm()}};var wU="@firebase/auth";class Wle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xle=VL("authIdTokenMaxAge")||300;let CU=null;const Zle=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Xle)return;const s=r?.token;CU!==s&&(CU=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Jle(n=Im()){const e=Jo(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function _oe(n,e){const t=Jo(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(vm(t.getOptions(),e??{}))return i;rr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Gle,persistence:[$ae,xae,rU]}),r=VL("authTokenSyncURL");if(r){const s=Zle(r);(function Eae(n,e,t){yt(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),tU(t,o=>s(o))}const i=FL("auth");return i&&function Uoe(n,e,t){const r=ir(n);N(r._canInitEmulator,r,"emulator-config-failed"),N(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=HB(e),{host:o,port:a}=function joe(n){const e=HB(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$B(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:$B(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Hoe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function ece(n){return new Le(function(e){var t=function Cae(n,e,t,r){return yt(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function IU(n){return new Le(function(e){return{unsubscribe:tU(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function Yle(n){An(new cn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{N(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),N(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UB(n)},u=new Boe(a,l,c);return function yoe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(cs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),An(new cn("auth-internal",e=>{const t=ir(e.getProvider("auth").getImmediate());return new Wle(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),it(wU,"0.21.3",function Kle(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),it(wU,"0.21.3","esm2017")}("Browser");class kd{constructor(e){return e}}class AD{constructor(){return Nm("auth")}}const MD=new R("angularfire2.auth-instances");function nce(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new kd(r)}}const rce={provide:AD,deps:[[new lt,MD]]},ice={provide:kd,useFactory:function tce(n,e){const t=Om("auth",n,e);return t&&new kd(t)},deps:[[new lt,MD],aa]};let sce=(()=>{class n{constructor(){it("angularfire",md.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({providers:[ice,rce]}),n})();function oce(n,...e){return{ngModule:sce,providers:[{provide:MD,useFactory:nce(n),multi:!0,deps:[me,At,Pm,Fm,[new lt,$m],...e]}]}}const ace=Mn(ece,!0),lce=Mn(IU,!0),cce=Mn(hae,!0),uce=Mn(Jle,!0),dce=Mn(fae,!0),hce=Mn(gae,!0);var Y,fce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fs={},xD=xD||{},oe=fce||self;function ig(){}function sg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var kD="closure_uid_"+(1e9*Math.random()>>>0),mce=0;function gce(n,e,t){return n.call.apply(n.bind,arguments)}function _ce(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function xn(n,e,t){return(xn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gce:_ce).apply(null,arguments)}function og(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function fn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ys(){this.s=this.s,this.o=this.o}Ys.prototype.s=!1,Ys.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function pce(n){Object.prototype.hasOwnProperty.call(n,kD)&&n[kD]||(n[kD]=++mce)}(this)},Ys.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const TU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function RD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function SU(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(sg(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function kn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}kn.prototype.h=function(){this.defaultPrevented=!0};var vce=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{oe.addEventListener("test",ig,e),oe.removeEventListener("test",ig,e)}catch{}return n}();function ag(n){return/^[\s\xa0]*$/.test(n)}var AU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function OD(n,e){return n<e?-1:n>e?1:0}function lg(){var n=oe.navigator;return n&&(n=n.userAgent)?n:""}function Ti(n){return-1!=lg().indexOf(n)}function ND(n){return ND[" "](n),n}ND[" "]=ig;var cg,n,wce=Ti("Opera"),rc=Ti("Trident")||Ti("MSIE"),MU=Ti("Edge"),PD=MU||rc,xU=Ti("Gecko")&&!(-1!=lg().toLowerCase().indexOf("webkit")&&!Ti("Edge"))&&!(Ti("Trident")||Ti("MSIE"))&&!Ti("Edge"),Ece=-1!=lg().toLowerCase().indexOf("webkit")&&!Ti("Edge");function kU(){var n=oe.document;return n?n.documentMode:void 0}e:{var FD="",LD=(n=lg(),xU?/rv:([^\);]+)(\)|;)/.exec(n):MU?/Edge\/([\d\.]+)/.exec(n):rc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ece?/WebKit\/(\S+)/.exec(n):wce?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(LD&&(FD=LD?LD[1]:""),rc){var VD=kU();if(null!=VD&&VD>parseFloat(FD)){cg=String(VD);break e}}cg=FD}var Cce={};var Dce=oe.document&&rc&&(kU()||parseInt(cg,10))||void 0;function Od(n,e){if(kn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xU){e:{try{ND(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Tce[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Od.X.h.call(this)}}fn(Od,kn);var Tce={2:"touch",3:"pen",4:"mouse"};Od.prototype.h=function(){Od.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Nd="closure_listenable_"+(1e6*Math.random()|0),Sce=0;function Ace(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Sce,this.ba=this.ea=!1}function ug(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function UD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function OU(n){const e={};for(const t in n)e[t]=n[t];return e}const NU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<NU.length;s++)t=NU[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function dg(n){this.src=n,this.g={},this.h=0}function jD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=TU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ug(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function HD(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}dg.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=HD(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):((e=new Ace(e,this.src,s,!!r,i)).ea=t,n.push(e)),e};var $D="closure_lm_"+(1e6*Math.random()|0),zD={};function FU(n,e,t,r,i){if(r&&r.once)return VU(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)FU(n,e[s],t,r,i);return null}return t=KD(t),n&&n[Nd]?n.N(e,t,Rd(r)?!!r.capture:!!r,i):LU(n,e,t,!1,r,i)}function LU(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Rd(i)?!!i.capture:!!i,a=GD(n);if(a||(n[$D]=a=new dg(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Mce(){const e=xce;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)vce||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(UU(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function VU(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)VU(n,e[s],t,r,i);return null}return t=KD(t),n&&n[Nd]?n.O(e,t,Rd(r)?!!r.capture:!!r,i):LU(n,e,t,!0,r,i)}function BU(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)BU(n,e[s],t,r,i);else r=Rd(r)?!!r.capture:!!r,t=KD(t),n&&n[Nd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=HD(s=n.g[e],t,r,i))&&(ug(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=GD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=HD(e,t,r,i)),(t=-1<n?e[n]:null)&&qD(t))}function qD(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Nd])jD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(UU(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=GD(e))?(jD(t,n),0==t.h&&(t.src=null,e[$D]=null)):ug(n)}}}function UU(n){return n in zD?zD[n]:zD[n]="on"+n}function xce(n,e){if(n.ba)n=!0;else{e=new Od(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&qD(n),n=t.call(r,e)}return n}function GD(n){return(n=n[$D])instanceof dg?n:null}var WD="__closure_events_fn_"+(1e9*Math.random()>>>0);function KD(n){return"function"==typeof n?n:(n[WD]||(n[WD]=function(e){return n.handleEvent(e)}),n[WD])}function en(){Ys.call(this),this.i=new dg(this),this.P=this,this.I=null}function pn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new kn(e,n);else if(e instanceof kn)e.target=e.target||n;else{var i=e;PU(e=new kn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=hg(o,r,!0,e)&&i}if(i=hg(o=e.g=n,r,!0,e)&&i,i=hg(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=hg(o=e.g=t[s],r,!1,e)&&i}function hg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,l=o.ha||o.src;o.ea&&jD(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}fn(en,Ys),en.prototype[Nd]=!0,en.prototype.removeEventListener=function(n,e,t,r){BU(this,n,e,t,r)},en.prototype.M=function(){if(en.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ug(t[r]);delete n.g[e],n.h--}}this.I=null},en.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},en.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var YD=oe.JSON.stringify;function kce(){var n=$U;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var QD,jU=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Oce,n=>n.reset());class Oce{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Nce(n){oe.setTimeout(()=>{throw n},0)}function HU(n,e){QD||function Pce(){var n=oe.Promise.resolve(void 0);QD=function(){n.then(Fce)}}(),XD||(QD(),XD=!0),$U.add(n,e)}var XD=!1,$U=new class Rce{constructor(){this.h=this.g=null}add(e,t){const r=jU.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Fce(){for(var n;n=kce();){try{n.h.call(n.g)}catch(t){Nce(t)}var e=jU;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}XD=!1}function fg(n,e){en.call(this),this.h=n||1,this.g=e||oe,this.j=xn(this.lb,this),this.l=Date.now()}function ZD(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function JD(n,e,t){if("function"==typeof n)t&&(n=xn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xn(n.handleEvent,n)}return 2147483647<Number(e)?-1:oe.setTimeout(n,e||0)}function zU(n){n.g=JD(()=>{n.g=null,n.i&&(n.i=!1,zU(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}fn(fg,en),(Y=fg.prototype).ca=!1,Y.R=null,Y.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),pn(this,"tick"),this.ca&&(ZD(this),this.start()))}},Y.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.M=function(){fg.X.M.call(this),ZD(this),delete this.g};class Lce extends Ys{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zU(this)}M(){super.M(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pd(n){Ys.call(this),this.h=n,this.g={}}fn(Pd,Ys);var qU=[];function GU(n,e,t,r){Array.isArray(t)||(t&&(qU[0]=t.toString()),t=qU);for(var i=0;i<t.length;i++){var s=FU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function WU(n){UD(n.g,function(e,t){this.g.hasOwnProperty(t)&&qD(e)},n),n.g={}}function pg(){this.g=!0}function ic(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function jce(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return YD(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Pd.prototype.M=function(){Pd.X.M.call(this),WU(this)},Pd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pg.prototype.Aa=function(){this.g=!1},pg.prototype.info=function(){};var da={},KU=null;function mg(){return KU=KU||new en}function YU(n){kn.call(this,da.Pa,n)}function Fd(n){const e=mg();pn(e,new YU(e))}function QU(n,e){kn.call(this,da.STAT_EVENT,n),this.stat=e}function Hn(n){const e=mg();pn(e,new QU(e,n))}function XU(n,e){kn.call(this,da.Qa,n),this.size=e}function Ld(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){n()},e)}da.Pa="serverreachability",fn(YU,kn),da.STAT_EVENT="statevent",fn(QU,kn),da.Qa="timingevent",fn(XU,kn);var gg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ZU={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function eT(){}function e2(){}eT.prototype.h=null;var rT,Vd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function tT(){kn.call(this,"d")}function nT(){kn.call(this,"c")}function _g(){}function Bd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Pd(this),this.O=Hce,this.T=new fg(n=PD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new t2}function t2(){this.i=null,this.g="",this.h=!1}fn(tT,kn),fn(nT,kn),fn(_g,eT),_g.prototype.g=function(){return new XMLHttpRequest},_g.prototype.i=function(){return{}},rT=new _g;var Hce=45e3,iT={},yg={};function sT(n,e,t){n.K=1,n.v=Eg(ps(e)),n.s=t,n.P=!0,n2(n,null)}function n2(n,e){n.F=Date.now(),Ud(n),n.A=ps(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),f2(t.i,"t",r),n.C=0,t=n.l.H,n.h=new t2,n.g=L2(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Lce(xn(n.La,n,n.g),n.N)),GU(n.S,n.g,"readystatechange",n.ib),e=n.H?OU(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Fd(),function Vce(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.U,n.s)}function r2(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function s2(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=$ce(n,t),i==yg){4==e&&(n.o=4,Hn(14),r=!1),ic(n.j,n.m,null,"[Incomplete Response]");break}if(i==iT){n.o=4,Hn(15),ic(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ic(n.j,n.m,i,null),oT(n,i)}r2(n)&&i!=yg&&i!=iT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),pT(e),e.K=!0,Hn(11))):(ic(n.j,n.m,t,"[Invalid Chunked Response]"),ha(n),jd(n))}function $ce(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?yg:(t=Number(e.substring(t,r)),isNaN(t)?iT:(r+=1)+t>e.length?yg:(e=e.substr(r,t),n.C=r+t,e))}function Ud(n){n.V=Date.now()+n.O,o2(n,n.O)}function o2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ld(xn(n.gb,n),e)}function vg(n){n.B&&(oe.clearTimeout(n.B),n.B=null)}function jd(n){0==n.l.G||n.I||O2(n.l,n)}function ha(n){vg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ZD(n.T),WU(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function oT(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||aT(t.h,n)))if(!n.J&&aT(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Ag(t),Tg(t)}fT(t),Hn(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ld(xn(t.cb,t),6e3));if(1>=g2(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else pa(t,11)}else if((n.J||t.g==n)&&Ag(t),!ag(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.T=c[0],c=c[1],2==t.G)if("c"==c[0]){t.I=c[1],t.ka=c[2];const u=c[3];null!=u&&(t.ma=u,t.j.info("VER="+t.ma));const d=c[4];null!=d&&(t.Ca=d,t.j.info("SVER="+t.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.J=r=1.5*h,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(lT(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,ct(r.F,r.D,m))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var o=n;if((r=t).sa=F2(r,r.H?r.ka:null,r.V),o.J){_2(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(vg(a),Ud(a)),r.g=o}else k2(r);0<t.i.length&&Sg(t)}else"stop"!=c[0]&&"close"!=c[0]||pa(t,7);else 3==t.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?pa(t,7):hT(t):"noop"!=c[0]&&t.l&&t.l.wa(c),t.A=0)}Fd()}catch{}}function a2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(sg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function qce(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(sg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function zce(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(sg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Y=Bd.prototype).setTimeout=function(n){this.O=n},Y.ib=function(n){n=n.target;const e=this.L;e&&3==ms(n)?e.l():this.La(n)},Y.La=function(n){try{if(n==this.g)e:{const u=ms(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||PD||this.g&&(this.h.h||this.g.fa()||D2(this.g)))){this.I||4!=u||7==e||Fd(),vg(this);var t=this.g.aa();this.Y=t;t:if(r2(this)){var r=D2(this.g);n="";var i=r.length,s=4==ms(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ha(this),jd(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==t,function Bce(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ag(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Hn(12),ha(this),jd(this);break e}ic(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,oT(this,t)}this.P?(s2(this,u,o),PD&&this.i&&3==u&&(GU(this.S,this.T,"tick",this.hb),this.T.start())):(ic(this.j,this.m,o,null),oT(this,o)),4==u&&ha(this),this.i&&!this.I&&(4==u?O2(this.l,this):(this.i=!1,Ud(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Hn(12)):(this.o=0,Hn(13)),ha(this),jd(this)}}}catch{}},Y.hb=function(){if(this.g){var n=ms(this.g),e=this.g.fa();this.C<e.length&&(vg(this),s2(this,n,e),this.i&&4!=n&&Ud(this))}},Y.cancel=function(){this.I=!0,ha(this)},Y.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Uce(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fd(),Hn(17)),ha(this),this.o=2,jd(this)):o2(this,this.V-n)};var l2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof fa){this.h=void 0!==e?e:n.h,bg(this,n.j),this.s=n.s,this.g=n.g,wg(this,n.m),this.l=n.l,e=n.i;var t=new zd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),c2(this,t),this.o=n.o}else n&&(t=String(n).match(l2))?(this.h=!!e,bg(this,t[1]||"",!0),this.s=Hd(t[2]||""),this.g=Hd(t[3]||"",!0),wg(this,t[4]),this.l=Hd(t[5]||"",!0),c2(this,t[6]||"",!0),this.o=Hd(t[7]||"")):(this.h=!!e,this.i=new zd(null,this.h))}function ps(n){return new fa(n)}function bg(n,e,t){n.j=t?Hd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function wg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function c2(n,e,t){e instanceof zd?(n.i=e,function Zce(n,e){e&&!n.j&&(Qs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(d2(this,r),f2(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=$d(e,Qce)),n.i=new zd(e,n.h))}function ct(n,e,t){n.i.set(e,t)}function Eg(n){return ct(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Hd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $d(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Wce),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Wce(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}fa.prototype.toString=function(){var n=[],e=this.j;e&&n.push($d(e,u2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($d(e,u2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push($d(t,"/"==t.charAt(0)?Yce:Kce,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$d(t,Xce)),n.join("")};var u2=/[#\/\?@]/g,Kce=/[#\?:]/g,Yce=/[#\?]/g,Qce=/[#\?@]/g,Xce=/#/g;function zd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qs(n){n.g||(n.g=new Map,n.h=0,n.i&&function Gce(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function d2(n,e){Qs(n),e=sc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function h2(n,e){return Qs(n),e=sc(n,e),n.g.has(e)}function f2(n,e,t){d2(n,e),0<t.length&&(n.i=null,n.g.set(sc(n,e),RD(t)),n.h+=t.length)}function sc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function p2(n){this.l=n||eue,n=oe.PerformanceNavigationTiming?0<(n=oe.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(oe.g&&oe.g.Ga&&oe.g.Ga()&&oe.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=zd.prototype).add=function(n,e){Qs(this),this.i=null,n=sc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Y.forEach=function(n,e){Qs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Y.oa=function(){Qs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Y.W=function(n){Qs(this);let e=[];if("string"==typeof n)h2(this,n)&&(e=e.concat(this.g.get(sc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Y.set=function(n,e){return Qs(this),this.i=null,h2(this,n=sc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Y.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var eue=10;function m2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function g2(n){return n.h?1:n.g?n.g.size:0}function aT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function lT(n,e){n.g?n.g.add(e):n.h=e}function _2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function y2(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return RD(n.i)}function cT(){}function tue(){this.g=new cT}function nue(n,e,t){const r=t||"";try{a2(n,function(i,s){let o=i;Rd(i)&&(o=YD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Cg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qd(n){this.l=n.ac||null,this.j=n.jb||!1}function Ig(n,e){en.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=uT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}p2.prototype.cancel=function(){if(this.i=y2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},cT.prototype.stringify=function(n){return oe.JSON.stringify(n,void 0)},cT.prototype.parse=function(n){return oe.JSON.parse(n,void 0)},fn(qd,eT),qd.prototype.g=function(){return new Ig(this.l,this.j)},qd.prototype.i=function(n){return function(){return n}}({}),fn(Ig,en);var uT=0;function v2(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Gd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wd(n)}function Wd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Y=Ig.prototype).open=function(n,e){if(this.readyState!=uT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wd(this)},Y.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||oe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gd(this)),this.readyState=uT},Y.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wd(this)),this.g&&(this.readyState=3,Wd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;v2(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Y.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Gd(this):Wd(this),3==this.readyState&&v2(this)}},Y.Va=function(n){this.g&&(this.response=this.responseText=n,Gd(this))},Y.Ua=function(n){this.g&&(this.response=n,Gd(this))},Y.ga=function(){this.g&&Gd(this)},Y.setRequestHeader=function(n,e){this.v.append(n,e)},Y.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ig.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var iue=oe.JSON.parse;function It(n){en.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=b2,this.K=this.L=!1}fn(It,en);var b2="",sue=/^https?$/i,oue=["POST","PUT"];function w2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,E2(n),Dg(n)}function E2(n){n.D||(n.D=!0,pn(n,"complete"),pn(n,"error"))}function C2(n){if(n.h&&typeof xD<"u"&&(!n.C[1]||4!=ms(n)||2!=n.aa()))if(n.v&&4==ms(n))JD(n.Ha,0,n);else if(pn(n,"readystatechange"),4==ms(n)){n.h=!1;try{const a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(l2)[1]||null;if(!i&&oe.self&&oe.self.location){var s=oe.self.location.protocol;i=s.substr(0,s.length-1)}r=!sue.test(i?i.toLowerCase():"")}t=r}if(t)pn(n,"complete"),pn(n,"success");else{n.m=6;try{var o=2<ms(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.aa()+"]",E2(n)}}finally{Dg(n)}}}function Dg(n,e){if(n.g){I2(n);const t=n.g,r=n.C[0]?ig:null;n.g=null,n.C=null,e||pn(n,"ready");try{t.onreadystatechange=r}catch{}}}function I2(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(oe.clearTimeout(n.A),n.A=null)}function ms(n){return n.g?n.g.readyState:0}function D2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case b2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function T2(n){let e="";return UD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function dT(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=T2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ct(n,e,t))}function Kd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function S2(n){this.Ca=0,this.i=[],this.j=new pg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Kd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Kd("baseRetryDelayMs",5e3,n),this.bb=Kd("retryDelaySeedMs",1e4,n),this.$a=Kd("forwardChannelMaxRetries",2,n),this.ta=Kd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new p2(n&&n.concurrentRequestLimit),this.Fa=new tue,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function hT(n){if(A2(n),3==n.G){var e=n.U++,t=ps(n.F);ct(t,"SID",n.I),ct(t,"RID",e),ct(t,"TYPE","terminate"),Yd(n,t),(e=new Bd(n,n.j,e,void 0)).K=2,e.v=Eg(ps(t)),t=!1,oe.navigator&&oe.navigator.sendBeacon&&(t=oe.navigator.sendBeacon(e.v.toString(),"")),!t&&oe.Image&&((new Image).src=e.v,t=!0),t||(e.g=L2(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ud(e)}P2(n)}function Tg(n){n.g&&(pT(n),n.g.cancel(),n.g=null)}function A2(n){Tg(n),n.u&&(oe.clearTimeout(n.u),n.u=null),Ag(n),n.h.cancel(),n.m&&("number"==typeof n.m&&oe.clearTimeout(n.m),n.m=null)}function Sg(n){m2(n.h)||n.m||(n.m=!0,HU(n.Ja,n),n.C=0)}function M2(n,e){var t;t=e?e.m:n.U++;const r=ps(n.F);ct(r,"SID",n.I),ct(r,"RID",t),ct(r,"AID",n.T),Yd(n,r),n.o&&n.s&&dT(r,n.o,n.s),t=new Bd(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=x2(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),lT(n.h,t),sT(t,r,e)}function Yd(n,e){n.ia&&UD(n.ia,function(t,r){ct(e,r,t)}),n.l&&a2({},function(t,r){ct(e,r,t)})}function x2(n,e,t){t=Math.min(n.i.length,t);var r=n.l?xn(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{nue(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function k2(n){n.g||n.u||(n.Z=1,HU(n.Ia,n),n.A=0)}function fT(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ld(xn(n.Ia,n),N2(n,n.A)),n.A++,0))}function pT(n){null!=n.B&&(oe.clearTimeout(n.B),n.B=null)}function R2(n){n.g=new Bd(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ps(n.sa);ct(e,"RID","rpc"),ct(e,"SID",n.I),ct(e,"CI",n.L?"0":"1"),ct(e,"AID",n.T),ct(e,"TYPE","xmlhttp"),Yd(n,e),n.o&&n.s&&dT(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Eg(ps(e)),t.s=null,t.P=!0,n2(t,n)}function Ag(n){null!=n.v&&(oe.clearTimeout(n.v),n.v=null)}function O2(n,e){var t=null;if(n.g==e){Ag(n),pT(n),n.g=null;var r=2}else{if(!aT(n.h,e))return;t=e.D,_2(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;pn(r=mg(),new XU(r,t)),Sg(n)}else k2(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function lue(n,e){return!(g2(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Ld(xn(n.Ja,n,e),N2(n,n.C)),n.C++,0)))}(n,e)||2==r&&fT(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:pa(n,5);break;case 4:pa(n,10);break;case 3:pa(n,6);break;default:pa(n,2)}}function N2(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function pa(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=xn(n.kb,n);t||(t=new fa("//www.google.com/images/cleardot.gif"),oe.location&&"http"==oe.location.protocol||bg(t,"https"),Eg(t)),function rue(n,e){const t=new pg;if(oe.Image){const r=new Image;r.onload=og(Cg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=og(Cg,t,r,"TestLoadImage: error",!1,e),r.onabort=og(Cg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=og(Cg,t,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Hn(2);n.G=0,n.l&&n.l.va(e),P2(n),A2(n)}function P2(n){if(n.G=0,n.la=[],n.l){const e=y2(n.h);(0!=e.length||0!=n.i.length)&&(SU(n.la,e),SU(n.la,n.i),n.h.i.length=0,RD(n.i),n.i.length=0),n.l.ua()}}function F2(n,e,t){var r=t instanceof fa?ps(t):new fa(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),wg(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new fa(null,void 0);r&&bg(s,r),e&&(s.g=e),i&&wg(s,i),t&&(s.l=t),r=s}return e=n.za,(t=n.D)&&e&&ct(r,t,e),ct(r,"VER",n.ma),Yd(n,r),r}function L2(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new It(t&&n.Da&&!n.ra?new qd({jb:!0}):n.ra)).Ka(n.H),e}function V2(){}function Mg(){if(rc&&!(10<=Number(Dce)))throw Error("Environmental error: no available transport.")}function Ir(n,e){en.call(this),this.g=new S2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!ag(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ag(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new oc(this)}function B2(n){tT.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function U2(){nT.call(this),this.status=1}function oc(n){this.g=n}(Y=It.prototype).Ka=function(n){this.L=n},Y.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rT.g(),this.C=function JU(n){return n.h||(n.h=n.i())}(this.u?this.u:rT),this.g.onreadystatechange=xn(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void w2(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=oe.FormData&&n instanceof oe.FormData,!(0<=TU(oue,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{I2(this),0<this.B&&((this.K=function aue(n){return rc&&function Ice(){return function bce(n){var e=Cce;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=AU(String(cg)).split("."),t=AU("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=OD(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||OD(0==i[2].length,0==s[2].length)||OD(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xn(this.qa,this)):this.A=JD(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){w2(this,s)}},Y.qa=function(){typeof xD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))},Y.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,pn(this,"complete"),pn(this,"abort"),Dg(this))},Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dg(this,!0)),It.X.M.call(this)},Y.Ha=function(){this.s||(this.F||this.v||this.l?C2(this):this.fb())},Y.fb=function(){C2(this)},Y.aa=function(){try{return 2<ms(this)?this.g.status:-1}catch{return-1}},Y.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Y.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),iue(e)}},Y.Ea=function(){return this.m},Y.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=S2.prototype).ma=8,Y.G=1,Y.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Bd(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=OU(s),PU(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=x2(this,i,e),ct(t=ps(this.F),"RID",n),ct(t,"CVER",22),this.D&&ct(t,"X-HTTP-Session-Id",this.D),Yd(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(T2(s)))+"&"+e:this.o&&dT(t,this.o,s)),lT(this.h,i),this.Ya&&ct(t,"TYPE","init"),this.O?(ct(t,"$req",e),ct(t,"SID","null"),i.Z=!0,sT(i,t,null)):sT(i,t,e),this.G=2}}else 3==this.G&&(n?M2(this,n):0==this.i.length||m2(this.h)||M2(this))},Y.Ia=function(){if(this.u=null,R2(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ld(xn(this.eb,this),n)}},Y.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Hn(10),Tg(this),R2(this))},Y.cb=function(){null!=this.v&&(this.v=null,Tg(this),fT(this),Hn(19))},Y.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Hn(2)):(this.j.info("Failed to ping google.com"),Hn(1))},(Y=V2.prototype).xa=function(){},Y.wa=function(){},Y.va=function(){},Y.ua=function(){},Y.Ra=function(){},Mg.prototype.g=function(n,e){return new Ir(n,e)},fn(Ir,en),Ir.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Hn(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=F2(n,null,n.V),Sg(n)},Ir.prototype.close=function(){hT(this.g)},Ir.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=YD(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Sg(e)},Ir.prototype.M=function(){this.g.l=null,delete this.j,hT(this.g),delete this.g,Ir.X.M.call(this)},fn(B2,tT),fn(U2,nT),fn(oc,V2),oc.prototype.xa=function(){pn(this.g,"a")},oc.prototype.wa=function(n){pn(this.g,new B2(n))},oc.prototype.va=function(n){pn(this.g,new U2)},oc.prototype.ua=function(){pn(this.g,"b")},Mg.prototype.createWebChannel=Mg.prototype.g,Ir.prototype.send=Ir.prototype.u,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,gg.NO_ERROR=0,gg.TIMEOUT=8,gg.HTTP_ERROR=6,ZU.COMPLETE="complete",e2.EventType=Vd,Vd.OPEN="a",Vd.CLOSE="b",Vd.ERROR="c",Vd.MESSAGE="d",en.prototype.listen=en.prototype.N,It.prototype.listenOnce=It.prototype.O,It.prototype.getLastError=It.prototype.Oa,It.prototype.getLastErrorCode=It.prototype.Ea,It.prototype.getStatus=It.prototype.aa,It.prototype.getResponseJson=It.prototype.Sa,It.prototype.getResponseText=It.prototype.fa,It.prototype.send=It.prototype.da,It.prototype.setWithCredentials=It.prototype.Ka;var cue=fs.createWebChannelTransport=function(){return new Mg},uue=fs.getStatEventTarget=function(){return mg()},mT=fs.ErrorCode=gg,due=fs.EventType=ZU,hue=fs.Event=da,j2=fs.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},fue=fs.FetchXmlHttpFactory=qd,xg=fs.WebChannel=e2,pue=fs.XhrIo=It;const H2="@firebase/firestore";class tn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let ac="9.17.1";const Xs=new Yl("@firebase/firestore");function gT(){return Xs.logLevel}function M(n,...e){if(Xs.logLevel<=Te.DEBUG){const t=e.map(_T);Xs.debug(`Firestore (${ac}): ${n}`,...t)}}function kt(n,...e){if(Xs.logLevel<=Te.ERROR){const t=e.map(_T);Xs.error(`Firestore (${ac}): ${n}`,...t)}}function lc(n,...e){if(Xs.logLevel<=Te.WARN){const t=e.map(_T);Xs.warn(`Firestore (${ac}): ${n}`,...t)}}function _T(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: `+n;throw kt(e),new Error(e)}function W(n,e){n||$()}function L(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends Er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class gue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _ue{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Yt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(W("string"==typeof r.accessToken),new $2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return W(null===e||"string"==typeof e),new tn(e)}}class yue{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(W(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class vue{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new yue(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bue{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(W("string"==typeof t.token),this.A=t.token,new z2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wue(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class q2{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=wue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ae(n,e){return n<e?-1:n>e?1:0}function cc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class vt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new A(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new vt(0,0))}static max(){return new Q(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qd{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Qd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Se extends Qd{construct(e,t,r){return new Se(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Se(t)}static emptyPath(){return new Se([])}}const Eue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Qd{construct(e,t,r){return new Rt(e,t,r)}static isValidIdentifier(e){return Eue.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new A(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new A(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new A(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(t)}static emptyPath(){return new Rt([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(Se.fromString(e))}static fromName(e){return new F(Se.fromString(e).popFirst(5))}static empty(){return new F(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Se.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Se.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new Se(e.slice()))}}function K2(n){return new Dr(n.readTime,n.key,-1)}class Dr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Dr(Q.min(),F.empty(),-1)}static max(){return new Dr(Q.max(),F.empty(),-1)}}function vT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=F.comparator(n.documentKey,e.documentKey),0!==t?t:ae(n.largestBatchId,e.largestBatchId))}const Y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Zs(n){return bT.apply(this,arguments)}function bT(){return bT=g(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==Y2)throw n;M("LocalStore","Unexpectedly lost primary lease")}),bT.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Js(n){return"IndexedDbTransactionError"===n.name}let Tr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class xue{constructor(e,t,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class _a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _a("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}function X2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Z2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jd(n){return null==n}function eh(n){return 0===n&&1/n==-1/0}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Qt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const kue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eo(n){if(W(!!n),"string"==typeof n){let e=0;const t=kue.exec(n);if(W(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function va(n){return"string"==typeof n?Qt.fromBase64String(n):Qt.fromUint8Array(n)}function ET(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ej(n){const e=n.mapValue.fields.__previous_value__;return ET(e)?ej(e):e}function th(n){const e=eo(n.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}const to_mapValue={fields:{__type__:{stringValue:"__max__"}}};function ba(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ET(n)?4:ij(n)?9007199254740991:10:$()}function Si(n,e){if(n===e)return!0;const t=ba(n);if(t!==ba(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return th(n).isEqual(th(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=eo(r.timestampValue),o=eo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,va(n.bytesValue).isEqual(va(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Dt(r.geoPointValue.latitude)===Dt(i.geoPointValue.latitude)&&Dt(r.geoPointValue.longitude)===Dt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Dt(r.integerValue)===Dt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Dt(r.doubleValue),o=Dt(i.doubleValue);return s===o?eh(s)===eh(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return cc(n.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(X2(s)!==X2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Si(s[a],o[a])))return!1;return!0}(n,e);default:return $()}var i}function nh(n,e){return void 0!==(n.values||[]).find(t=>Si(t,e))}function no(n,e){if(n===e)return 0;const t=ba(n),r=ba(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Dt(i.integerValue||i.doubleValue),a=Dt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return tj(n.timestampValue,e.timestampValue);case 4:return tj(th(n),th(e));case 5:return ae(n.stringValue,e.stringValue);case 6:return function(i,s){const o=va(i),a=va(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ae(o[l],a[l]);if(0!==c)return c}return ae(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ae(Dt(i.latitude),Dt(s.latitude));return 0!==o?o:ae(Dt(i.longitude),Dt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=no(o[l],a[l]);if(c)return c}return ae(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===to_mapValue&&s===to_mapValue)return 0;if(i===to_mapValue)return 1;if(s===to_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=ae(a[u],c[u]);if(0!==d)return d;const h=no(o[a[u]],l[c[u]]);if(0!==h)return h}return ae(a.length,c.length)}(n.mapValue,e.mapValue);default:throw $()}}function tj(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ae(n,e);const t=eo(n),r=eo(e),i=ae(t.seconds,r.seconds);return 0!==i?i:ae(t.nanos,r.nanos)}function uc(n){return CT(n)}function CT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=eo(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?va(n.bytesValue).toBase64():"referenceValue"in n?F.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=CT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${CT(r.fields[a])}`;return s+"}"}(n.mapValue):$();var e}function IT(n){return!!n&&"integerValue"in n}function rh(n){return!!n&&"arrayValue"in n}function nj(n){return!!n&&"nullValue"in n}function rj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pg(n){return!!n&&"mapValue"in n}function ih(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ya(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ih(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ih(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ij(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ro{constructor(e,t){this.position=e,this.inclusive=t}}function aj(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?F.comparator(F.fromName(o.referenceValue),t.key):no(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function lj(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Si(n.position[t],e.position[t]))return!1;return!0}class cj{}class Ee extends cj{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Nue(e,t,r):"array-contains"===t?new Lue(e,r):"in"===t?new mj(e,r):"not-in"===t?new Vue(e,r):"array-contains-any"===t?new Bue(e,r):new Ee(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Pue(e,r):new Fue(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(no(t,this.value)):null!==t&&ba(this.value)===ba(t)&&this.matchesComparison(no(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class je extends cj{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new je(e,t)}matches(e){return dc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function dc(n){return"and"===n.op}function TT(n){return function uj(n){for(const e of n.filters)if(e instanceof je)return!1;return!0}(n)&&dc(n)}function ST(n){if(n instanceof Ee)return n.field.canonicalString()+n.op.toString()+uc(n.value);if(TT(n))return n.filters.map(e=>ST(e)).join(",");{const e=n.filters.map(t=>ST(t)).join(",");return`${n.op}(${e})`}}function dj(n,e){return n instanceof Ee?(t=n,(r=e)instanceof Ee&&t.op===r.op&&t.field.isEqual(r.field)&&Si(t.value,r.value)):n instanceof je?function(t,r){return r instanceof je&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&dj(s,r.filters[o]),!0)}(n,e):void $();var t,r}function fj(n){return n instanceof Ee?`${(e=n).field.canonicalString()} ${e.op} ${uc(e.value)}`:n instanceof je?function(e){return e.op.toString()+" {"+e.getFilters().map(fj).join(" ,")+"}"}(n):"Filter";var e}class Nue extends Ee{constructor(e,t,r){super(e,t,r),this.key=F.fromName(r.referenceValue)}matches(e){const t=F.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pue extends Ee{constructor(e,t){super(e,"in",t),this.keys=pj(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Fue extends Ee{constructor(e,t){super(e,"not-in",t),this.keys=pj(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pj(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>F.fromName(r.referenceValue))}class Lue extends Ee{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rh(t)&&nh(t.arrayValue,this.value)}}class mj extends Ee{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nh(this.value.arrayValue,t)}}class Vue extends Ee{constructor(e,t){super(e,"not-in",t)}matches(e){if(nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nh(this.value.arrayValue,t)}}class Bue extends Ee{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nh(this.value.arrayValue,r))}}class hc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Uue(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Tt{constructor(e,t){this.comparator=e,this.root=t||mn.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fg(this.root,e,this.comparator,!0)}}class Fg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??mn.RED,this.left=i??mn.EMPTY,this.right=s??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new mn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return mn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1,mn.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(n,e,t,r,i){return this}insert(n,e,t){return new mn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gj(this.data.getIterator())}getIteratorFrom(e){return new gj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ze(this.comparator);return t.data=e,t}}class gj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class sr{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new sr([])}unionWith(e){let t=new ze(Rt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Pg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ih(t)}setAll(e){let t=Rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ih(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Pg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ya(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new gn(ih(this.value))}}function _j(n){const e=[];return ya(n.fields,(t,r)=>{const i=new Rt([t]);if(Pg(r)){const s=_j(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new sr(e)}class st{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new st(e,0,Q.min(),Q.min(),Q.min(),gn.empty(),0)}static newFoundDocument(e,t,r,i){return new st(e,1,t,Q.min(),r,i,0)}static newNoDocument(e,t){return new st(e,2,t,Q.min(),Q.min(),gn.empty(),0)}static newUnknownDocument(e,t){return new st(e,3,t,Q.min(),Q.min(),gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof st&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jue{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function AT(n,e=null,t=[],r=[],i=null,s=null,o=null){return new jue(n,e,t,r,i,s,o)}function Ea(n){const e=L(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ST(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Jd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uc(r)).join(",")),e.ft=t}return e.ft}function sh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Uue(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dj(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lj(n.startAt,e.startAt)&&lj(n.endAt,e.endAt)}function Lg(n){return F.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class gs{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null}}function pc(n){return new gs(n)}function wj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ca(n){const e=L(n);if(null===e.dt){e.dt=[];const t=function Bg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function MT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new hc(t)),e.dt.push(new hc(Rt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new hc(Rt.keyField(),s))}}}return e.dt}function $n(n){const e=L(n);if(!e._t)if("F"===e.limitType)e._t=AT(e.path,e.collectionGroup,Ca(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ca(e))t.push(new hc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ro(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ro(e.startAt.position,e.startAt.inclusive):null;e._t=AT(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Ug(n,e,t){return new gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function oh(n,e){return sh($n(n),$n(e))&&n.limitType===e.limitType}function Ej(n){return`${Ea($n(n))}|lt:${n.limitType}`}function RT(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>fj(r)).join(", ")}]`),Jd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uc(r)).join(",")),`Target(${t})`}($n(n))}; limitType=${n.limitType})`}function ah(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):F.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ca(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=aj(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Ca(t),r)||t.endAt&&!function(i,s,o){const a=aj(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Ca(t),r)));var t,r}function Ij(n){return(e,t)=>{let r=!1;for(const i of Ca(n)){const s=Hue(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Hue(n,e,t){const r=n.field.isKeyField()?F.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?no(a,l):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}function Dj(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function Tj(n){return{integerValue:""+n}}function Sj(n,e){return function J2(n){return"number"==typeof n&&Number.isInteger(n)&&!eh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Tj(e):Dj(n,e)}class jg{constructor(){this._=void 0}}function $ue(n,e,t){return n instanceof mc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ia?Mj(n,e):n instanceof Da?xj(n,e):function(r,i){const s=Aj(r,i),o=kj(s)+kj(r.gt);return IT(s)&&IT(r.gt)?Tj(o):Dj(r.yt,o)}(n,e)}function zue(n,e,t){return n instanceof Ia?Mj(n,e):n instanceof Da?xj(n,e):t}function Aj(n,e){return n instanceof gc?IT(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class mc extends jg{}class Ia extends jg{constructor(e){super(),this.elements=e}}function Mj(n,e){const t=Rj(e);for(const r of n.elements)t.some(i=>Si(i,r))||t.push(r);return{arrayValue:{values:t}}}class Da extends jg{constructor(e){super(),this.elements=e}}function xj(n,e){let t=Rj(e);for(const r of n.elements)t=t.filter(i=>!Si(i,r));return{arrayValue:{values:t}}}class gc extends jg{constructor(e,t){super(),this.yt=e,this.gt=t}}function kj(n){return Dt(n.integerValue||n.doubleValue)}function Rj(n){return rh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gue{constructor(e,t){this.version=e,this.transformResults=t}}class ut{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ut}static exists(e){return new ut(void 0,e)}static updateTime(e){return new ut(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class $g{}function Oj(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new yc(n.key,ut.none()):new _c(n.key,n.data,ut.none());{const t=n.data,r=gn.empty();let i=new ze(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new _s(n.key,r,new sr(i.toArray()),ut.none())}}function Wue(n,e,t){n instanceof _c?function(r,i,s){const o=r.value.clone(),a=Fj(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof _s?function(r,i,s){if(!Hg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Fj(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Pj(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ch(n,e,t,r){return n instanceof _c?function(i,s,o,a){if(!Hg(i.precondition,s))return o;const l=i.value.clone(),c=Lj(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof _s?function(i,s,o,a){if(!Hg(i.precondition,s))return o;const l=Lj(i.fieldTransforms,a,s),c=s.data;return c.setAll(Pj(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,Hg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Kue(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Aj(r.transform,i||null);null!=s&&(null===t&&(t=gn.empty()),t.set(r.field,s))}return t||null}function Nj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&cc(t,r,(i,s)=>function que(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ia&&r instanceof Ia||t instanceof Da&&r instanceof Da?cc(t.elements,r.elements,Si):t instanceof gc&&r instanceof gc?Si(t.gt,r.gt):t instanceof mc&&r instanceof mc);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class _c extends $g{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _s extends $g{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Pj(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Fj(n,e,t){const r=new Map;W(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zue(o,a,t[i]))}return r}function Lj(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,$ue(s,o,e))}return r}class yc extends $g{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OT extends $g{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yue{constructor(e){this.count=e}}var Ut,Ae;function Vj(n){switch(n){default:return $();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function Bj(n){if(void 0===n)return kt("GRPC error has no .code"),E.UNKNOWN;switch(n){case Ut.OK:return E.OK;case Ut.CANCELLED:return E.CANCELLED;case Ut.UNKNOWN:return E.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return E.INTERNAL;case Ut.UNAVAILABLE:return E.UNAVAILABLE;case Ut.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Ut.NOT_FOUND:return E.NOT_FOUND;case Ut.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Ut.ABORTED:return E.ABORTED;case Ut.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Ut.DATA_LOSS:return E.DATA_LOSS;default:return $()}}(Ae=Ut||(Ut={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";class io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Z2(this.inner)}size(){return this.innerSize}}const Que=new Tt(F.comparator);function or(){return Que}const Uj=new Tt(F.comparator);function uh(...n){let e=Uj;for(const t of n)e=e.insert(t.key,t);return e}function jj(n){let e=Uj;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ai(){return dh()}function Hj(){return dh()}function dh(){return new io(n=>n.toString(),(n,e)=>n.isEqual(e))}const Xue=new Tt(F.comparator),Zue=new ze(F.comparator);function de(...n){let e=Zue;for(const t of n)e=e.add(t);return e}const Jue=new ze(ae);function zg(){return Jue}class hh{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,fh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hh(Q.min(),i,zg(),or(),de())}}class fh{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fh(r,t,de(),de(),de())}}class qg{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class $j{constructor(e,t){this.targetId=e,this.Et=t}}class zj{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class qj{constructor(){this.At=0,this.Rt=Wj(),this.bt=Qt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=de(),t=de(),r=de();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new fh(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=Wj()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class ede{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=or(),this.qt=Gj(),this.Ut=new ze(ae)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const s=i.target;if(Lg(s))if(0===r){const o=new F(s.path);this.Qt(t,o,st.newNoDocument(o,Q.min()))}else W(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Lg(a.target)){const l=new F(a.target.path);null!==this.Lt.get(l)||this.te(o,l)||this.Qt(o,l,st.newNoDocument(l,e))}s.St&&(t.set(o,s.Ct()),s.xt())}});let r=de();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new hh(e,t,this.Ut,this.Lt,r);return this.Lt=or(),this.qt=Gj(),this.Ut=new ze(ae),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new qj,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new ze(ae),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||M("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new qj),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Gj(){return new Tt(F.comparator)}function Wj(){return new Tt(F.comparator)}const tde={asc:"ASCENDING",desc:"DESCENDING"},nde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rde={and:"AND",or:"OR"};class ide{constructor(e,t){this.databaseId=e,this.wt=t}}function vc(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kj(n,e){return n.wt?e.toBase64():e.toUint8Array()}function sde(n,e){return vc(n,e.toTimestamp())}function Ot(n){return W(!!n),Q.fromTimestamp(function(e){const t=eo(e);return new vt(t.seconds,t.nanos)}(n))}function NT(n,e){return(t=n,new Se(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Yj(n){const e=Se.fromString(n);return W(iH(e)),e}function ph(n,e){return NT(n.databaseId,e.path)}function Mi(n,e){const t=Yj(e);if(t.get(1)!==n.databaseId.projectId)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new A(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new F(Xj(t))}function PT(n,e){return NT(n.databaseId,e)}function mh(n){return new Se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Xj(n){return W(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Zj(n,e,t){return{name:ph(n,e),fields:t.value.mapValue.fields}}function eH(n,e){return{documents:[PT(n,e.path)]}}function LT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=PT(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=PT(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return rH(je.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:bc((u=c).field),direction:ude(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(c=e.limit,n.wt||Jd(c)?c:{value:c});var c,a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function tH(n){let e=function Qj(n){const e=Yj(n);return 4===e.length?Se.emptyPath():Xj(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){W(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=nH(u);return d instanceof je&&TT(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new hc(wc((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Jd(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new ro((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new ro(u.values||[],!u.before)}(t.endAt)),function bj(n,e,t,r,i,s,o,a){return new gs(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function nH(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wc(e.unaryFilter.field);return Ee.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=wc(e.unaryFilter.field);return Ee.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=wc(e.unaryFilter.field);return Ee.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=wc(e.unaryFilter.field);return Ee.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?Ee.create(wc((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return je.create(e.compositeFilter.filters.map(t=>nH(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(n):$();var e}function ude(n){return tde[n]}function dde(n){return nde[n]}function hde(n){return rde[n]}function bc(n){return{fieldPath:n.canonicalString()}}function wc(n){return Rt.fromServerFormat(n.fieldPath)}function rH(n){return n instanceof Ee?function(e){if("=="===e.op){if(rj(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NAN"}};if(nj(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rj(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NOT_NAN"}};if(nj(e.value))return{unaryFilter:{field:bc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(e.field),op:dde(e.op),value:e.value}}}(n):n instanceof je?function(e){const t=e.getFilters().map(r=>rH(r));return 1===t.length?t[0]:{compositeFilter:{op:hde(e.op),filters:t}}}(n):$()}function fde(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iH(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class BT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Wue(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ch(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ch(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Hj();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=Oj(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&cc(this.mutations,e.mutations,(t,r)=>Nj(t,r))&&cc(this.baseMutations,e.baseMutations,(t,r)=>Nj(t,r))}}class UT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){W(e.mutations.length===r.length);let i=Xue;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new UT(e,t,r,i)}}class jT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class so{constructor(e,t,r,i,s=Q.min(),o=Q.min(),a=Qt.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new so(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dH{constructor(e){this.ie=e}}function HT(n){const e=tH({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ug(e,e.limit,"L"):e}class Ma{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Dt(e.integerValue));else if("doubleValue"in e){const r=Dt(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),eh(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(va(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?ij(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):$()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),F.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}Ma.Ie=new Ma;class Ude{constructor(){this.Je=new KT}addToCollectionParentIndex(e,t){return this.Je.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(Dr.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class KT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ze(Se.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(Se.comparator)).toArray()}}new Uint8Array(0);class ar{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(41943040,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);class ka{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ka(0)}static vn(){return new ka(-1)}}class Qde{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class PH{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&ch(r.mutation,i,sr.empty(),vt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,t,r=de()){const i=Ai();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=uh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ai();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,de()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=or();const o=dh(),a=dh();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof _s)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),ch(u.mutation,c,u.mutation.getFieldMask(),vt.now())):o.set(c.key,sr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new Qde(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=dh();let i=new Tt((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||sr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Hj();u.forEach(h=>{if(!s.has(h)){const f=Oj(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return F.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function xT(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(Ai());let a=-1,l=s;return o.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?w.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,de())).next(u=>({batchId:a,changes:jj(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new F(t)).next(r=>{let i=uh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=uh();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const l=(c=t,u=a.child(i),new gs(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,st.newInvalidDocument(c)))});let o=uh();return s.forEach((a,l)=>{const c=i.get(a);void 0!==c&&ch(c.mutation,l,sr.empty(),vt.now()),ah(t,l)&&(o=o.insert(a,l))}),o})}}class Xde{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return w.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ot(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:HT(r.bundledQuery),readTime:Ot(r.readTime)}),w.resolve();var r}}class Zde{constructor(){this.overlays=new Tt(F.comparator),this.es=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ai();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.oe(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=Ai(),s=t.length+1,o=new F(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Tt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=Ai(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ai(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return w.resolve(a)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jT(t,r));let s=this.es.get(t);void 0===s&&(s=de(),this.es.set(t,s)),this.es.set(t,s.add(r.key))}}class YT{constructor(){this.ns=new ze(rn.ss),this.rs=new ze(rn.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new rn(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new rn(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new F(new Se([])),r=new rn(t,e),i=new rn(t,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new F(new Se([])),r=new rn(t,e),i=new rn(t,e+1);let s=de();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new rn(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class rn{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return F.comparator(e.key,t.key)||ae(e._s,t._s)}static os(e,t){return ae(e._s,t._s)||F.comparator(e.key,t.key)}}class Jde{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ze(rn.ss)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.ws;this.ws++;const o=new BT(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new rn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new rn(t,0),i=new rn(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ze(ae);return t.forEach(i=>{const s=new rn(i,0),o=new rn(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),w.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new rn(new F(s),0);let a=new ze(ae);return this.gs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l._s)),!0)},o),w.resolve(this.Is(a))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){W(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return w.forEach(t.mutations,i=>{const s=new rn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new rn(t,0),i=this.gs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ehe{constructor(e){this.Es=e,this.docs=new Tt(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():st.newInvalidDocument(t))}getEntries(e,t){let r=or();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():st.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=or();const o=t.path,a=new F(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||vT(K2(u),r)<=0||(i.has(u.key)||ah(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,t,r,i){$()}As(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new the(this)}getSize(e){return w.resolve(this.size)}}class the extends class Wde{constructor(){this.changes=new io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,st.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class nhe{constructor(e){this.persistence=e,this.Rs=new io(t=>Ea(t),sh),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new YT,this.targetCount=0,this.vs=ka.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),w.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ka(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Dn(t),w.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.Ps.containsKey(t))}}class FH{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Tr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new nhe(this),this.indexManager=new Ude,this.remoteDocumentCache=new ehe(r=>this.referenceDelegate.xs(r)),this.yt=new dH(t),this.Ns=new Xde(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zde,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Jde(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){M("MemoryPersistence","Starting transaction:",e);const i=new rhe(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,t){return w.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class rhe extends class Due{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class t_{constructor(e){this.persistence=e,this.Fs=new YT,this.$s=null}static Bs(e){return new t_(e)}get Ls(){if(this.$s)return this.$s;throw $()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),w.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ls,r=>{const i=F.fromPath(r);return this.qs(e,i).next(s=>{s||t.removeEntry(i,Q.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return w.or([()=>w.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class JT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=de(),i=de();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new JT(e,t.fromCache,r,i)}}class VH{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Mi(e,t))}ki(e,t){if(wj(t))return w.resolve(null);let r=$n(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Ug(t,null,"F"),r=$n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Fi(t,a);return this.$i(t,c,o,l.readTime)?this.ki(e,Ug(t,null,"F")):this.Bi(e,c,t,l)}))})))}Oi(e,t,r,i){return wj(t)||i.isEqual(Q.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(t,s);return this.$i(t,o,r,i)?this.Mi(e,t):(gT()<=Te.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),RT(t)),this.Bi(e,o,t,function W2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(1e9===r?new vt(t+1,0):new vt(t,r));return new Dr(i,F.empty(),e)}(i,-1)))})}Fi(e,t){let r=new ze(Ij(e));return t.forEach((i,s)=>{ah(e,s)&&(r=r.add(s))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,t){return gT()<=Te.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",RT(t)),this.Ni.getDocumentsMatchingQuery(e,t,Dr.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class she{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new Tt(ae),this.Ui=new io(s=>Ea(s),sh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PH(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function UH(n,e){return eS.apply(this,arguments)}function eS(){return eS=g(function*(n,e){const t=L(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),eS.apply(this,arguments)}function ohe(n,e){const t=L(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);W(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=de();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function jH(n){const e=L(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function ahe(n,e){const t=L(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Cs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Cs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,_;e.targetMismatches.has(d)?f=f.withResumeToken(Qt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),m=f,_=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Cs.updateTargetData(s,f))});let l=or(),c=de();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function HH(n,e,t){let r=de(),i=de();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=or();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(u=>{l=u.Wi,c=u.zi})),!r.isEqual(Q.min())){const u=t.Cs.getLastRemoteSnapshotVersion(s).next(d=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.qi=i,s))}function lhe(n,e){const t=L(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ic(n,e){const t=L(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Cs.allocateTargetId(r).next(o=>(i=new so(e,o,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Dc(n,e,t){return tS.apply(this,arguments)}function tS(){return tS=g(function*(n,e,t){const r=L(n),i=r.qi.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Js(o))throw o;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),tS.apply(this,arguments)}function r_(n,e,t){const r=L(n);let i=Q.min(),s=de();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=L(a),d=u.Ui.get(c);return void 0!==d?w.resolve(u.qi.get(d)):u.Cs.getTargetData(l,c)}(r,o,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,t?i:Q.min(),t?s:de())).next(a=>(function qH(n,e,t){let r=n.Ki.get(e)||Q.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Ki.set(e,r)}(r,function Cj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Hi:s})))}class oS{constructor(){this.activeTargetIds=zg()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KH{constructor(){this.Lr=new oS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new oS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dhe{Ur(e){}shutdown(){}}class YH{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const hhe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fhe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class phe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,s){const o=this.ho(e,t);M("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(M("RestConnection","Received: ",l),l),l=>{throw lc("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,t,r,i,s,o){return this.ao(e,t,r,i,s)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ac,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,t){return`${this.oo}/v1/${t}:${hhe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((s,o)=>{const a=new pue;a.setWithCredentials(!0),a.listenOnce(due.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case mT.NO_ERROR:const c=a.getResponseJson();M("Connection","XHR received:",JSON.stringify(c)),s(c);break;case mT.TIMEOUT:M("Connection",'RPC "'+e+'" timed out'),o(new A(E.DEADLINE_EXCEEDED,"Request time out"));break;case mT.HTTP_ERROR:const u=a.getStatus();if(M("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(m)>=0?m:E.UNKNOWN}(h.status);o(new A(f,h.message))}else o(new A(E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new A(E.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{M("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(t,"POST",l,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cue(),o=uue(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new fue({})),this.lo(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;const l=i.join("");M("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const h=new fhe({Hr:p=>{d?M("Connection","Not sending because WebChannel is closed:",p):(u||(M("Connection","Opening WebChannel transport."),c.open(),u=!0),M("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,_)=>{p.listen(m,b=>{try{_(b)}catch(C){setTimeout(()=>{throw C},0)}})};return f(c,xg.EventType.OPEN,()=>{d||M("Connection","WebChannel transport opened.")}),f(c,xg.EventType.CLOSE,()=>{d||(d=!0,M("Connection","WebChannel transport closed"),h.io())}),f(c,xg.EventType.ERROR,p=>{d||(d=!0,lc("Connection","WebChannel transport errored:",p),h.io(new A(E.UNAVAILABLE,"The operation could not be completed")))}),f(c,xg.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];W(!!_);const b=_,C=b.error||(null===(m=b[0])||void 0===m?void 0:m.error);if(C){M("Connection","WebChannel received error:",C);const y=C.status;let T=function(V){const ie=Ut[V];if(void 0!==ie)return Bj(ie)}(y),P=C.message;void 0===T&&(T=E.INTERNAL,P="Unknown error status: "+y+" with message "+C.message),d=!0,h.io(new A(T,P)),c.close()}else M("Connection","WebChannel received:",_),h.ro(_)}}),f(o,hue.STAT_EVENT,p=>{p.stat===j2.PROXY?M("Connection","Detected buffering proxy"):p.stat===j2.NOPROXY&&M("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function o_(){return typeof document<"u"?document:null}function Dh(n){return new ide(n,!0)}class lS{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class XH{constructor(e,t,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new lS(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return g(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return g(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(kt(t.toString()),kt("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new A(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(g(function*(){e.state=0,e.start()}))}Qo(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mhe extends XH{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.yt=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function ade(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:$(),i=e.targetChange.targetIds||[],s=function(l,c){return l.wt?(W(void 0===c||"string"==typeof c),Qt.fromBase64String(c||"")):(W(void 0===c||c instanceof Uint8Array),Qt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?E.UNKNOWN:Bj(l.code);return new A(c,l.message||"")}(o);t=new zj(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Mi(n,r.document.name),s=Ot(r.document.updateTime),o=r.document.createTime?Ot(r.document.createTime):Q.min(),a=new gn({mapValue:{fields:r.document.fields}}),l=st.newFoundDocument(i,s,o,a);t=new qg(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Mi(n,r.document),s=r.readTime?Ot(r.readTime):Q.min(),o=st.newNoDocument(i,s);t=new qg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Mi(n,r.document);t=new qg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,s=new Yue(r.count||0);t=new $j(r.targetId,s)}}var l;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return Q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Q.min():s.readTime?Ot(s.readTime):Q.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=mh(this.yt),t.addTarget=function(i,s){let o;const a=s.target;return o=Lg(a)?{documents:eH(i,a)}:{query:LT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Kj(i,s.resumeToken):s.snapshotVersion.compareTo(Q.min())>0&&(o.readTime=vc(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function cde(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=mh(this.yt),t.removeTarget=e,this.Bo(t)}}class ghe extends XH{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(W(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function lde(n,e){return n&&n.length>0?(W(void 0!==e),n.map(t=>function(r,i){let s=Ot(r.updateTime?r.updateTime:i);return s.isEqual(Q.min())&&(s=Ot(i)),new Gue(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ot(e.commitTime);return this.listener.Zo(r,t)}return W(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=mh(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function gh(n,e){let t;if(e instanceof _c)t={update:Zj(n,e.key,e.value)};else if(e instanceof yc)t={delete:ph(n,e.key)};else if(e instanceof _s)t={update:Zj(n,e.key,e.data),updateMask:fde(e.fieldMask)};else{if(!(e instanceof OT))return $();t={verify:ph(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof mc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ia)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Da)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof gc)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:sde(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$()),t;var i}(this.yt,r))};this.Bo(t)}}class _he extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(E.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(E.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class vhe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(kt(t),this.ou=!1):M("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class bhe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(g(function*(){var l;ys(o)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(l=g(function*(c){const u=L(c);u._u.add(4),yield Tc(u),u.gu.set("Unknown"),u._u.delete(4),yield Th(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.gu=new vhe(r,i)}}function Th(n){return uS.apply(this,arguments)}function uS(){return uS=g(function*(n){if(ys(n))for(const e of n.wu)yield e(!0)}),uS.apply(this,arguments)}function Tc(n){return dS.apply(this,arguments)}function dS(){return dS=g(function*(n){for(const e of n.wu)yield e(!1)}),dS.apply(this,arguments)}function a_(n,e){const t=L(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),pS(t)?fS(t):Ac(t).ko()&&hS(t,e))}function Sh(n,e){const t=L(n),r=Ac(t);t.du.delete(e),r.ko()&&ZH(t,e),0===t.du.size&&(r.ko()?r.Fo():ys(t)&&t.gu.set("Unknown"))}function hS(n,e){n.yu.Ot(e.targetId),Ac(n).zo(e)}function ZH(n,e){n.yu.Ot(e),Ac(n).Ho(e)}function fS(n){n.yu=new ede({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Ac(n).start(),n.gu.uu()}function pS(n){return ys(n)&&!Ac(n).No()&&n.du.size>0}function ys(n){return 0===L(n)._u.size}function JH(n){n.yu=void 0}function whe(n){return mS.apply(this,arguments)}function mS(){return mS=g(function*(n){n.du.forEach((e,t)=>{hS(n,e)})}),mS.apply(this,arguments)}function Ehe(n,e){return gS.apply(this,arguments)}function gS(){return gS=g(function*(n,e){JH(n),pS(n)?(n.gu.hu(e),fS(n)):n.gu.set("Unknown")}),gS.apply(this,arguments)}function Che(n,e,t){return _S.apply(this,arguments)}function _S(){return _S=g(function*(n,e,t){if(n.gu.set("Online"),e instanceof zj&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield l_(n,r)}else if(e instanceof qg?n.yu.Kt(e):e instanceof $j?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Q.min()))try{const r=yield jH(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(l);c&&i.du.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Qt.EMPTY_BYTE_STRING,l.snapshotVersion)),ZH(i,a);const c=new so(l.target,a,1,l.sequenceNumber);hS(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield l_(n,r)}var r}),_S.apply(this,arguments)}function l_(n,e,t){return yS.apply(this,arguments)}function yS(){return yS=g(function*(n,e,t){if(!Js(e))throw e;n._u.add(1),yield Tc(n),n.gu.set("Offline"),t||(t=()=>jH(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){M("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Th(n)}))}),yS.apply(this,arguments)}function e$(n,e){return e().catch(t=>l_(n,t,e))}function Sc(n){return vS.apply(this,arguments)}function vS(){return vS=g(function*(n){const e=L(n),t=co(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Ihe(e);)try{const i=yield lhe(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,Dhe(e,i)}catch(i){yield l_(e,i)}t$(e)&&n$(e)}),vS.apply(this,arguments)}function Ihe(n){return ys(n)&&n.fu.length<10}function Dhe(n,e){n.fu.push(e);const t=co(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function t$(n){return ys(n)&&!co(n).No()&&n.fu.length>0}function n$(n){co(n).start()}function The(n){return bS.apply(this,arguments)}function bS(){return bS=g(function*(n){co(n).eu()}),bS.apply(this,arguments)}function She(n){return wS.apply(this,arguments)}function wS(){return wS=g(function*(n){const e=co(n);for(const t of n.fu)e.Xo(t.mutations)}),wS.apply(this,arguments)}function Ahe(n,e,t){return ES.apply(this,arguments)}function ES(){return ES=g(function*(n,e,t){const r=n.fu.shift(),i=UT.from(r,e,t);yield e$(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Sc(n)}),ES.apply(this,arguments)}function Mhe(n,e){return CS.apply(this,arguments)}function CS(){return CS=g(function*(n,e){var t;e&&co(n).Yo&&(yield(t=g(function*(r,i){if(Vj(s=i.code)&&s!==E.ABORTED){const o=r.fu.shift();co(r).Mo(),yield e$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Sc(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),t$(n)&&n$(n)}),CS.apply(this,arguments)}function r$(n,e){return IS.apply(this,arguments)}function IS(){return IS=g(function*(n,e){const t=L(n);t.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=ys(t);t._u.add(3),yield Tc(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Th(t)}),IS.apply(this,arguments)}function TS(){return TS=g(function*(n,e){const t=L(n);e?(t._u.delete(2),yield Th(t)):e||(t._u.add(2),yield Tc(t),t.gu.set("Unknown"))}),TS.apply(this,arguments)}function Ac(n){return n.pu||(n.pu=function(e,t,r){const i=L(e);return i.su(),new mhe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:whe.bind(null,n),Zr:Ehe.bind(null,n),Wo:Che.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.pu.Mo(),pS(n)?fS(n):n.gu.set("Unknown")):(yield n.pu.stop(),JH(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function co(n){return n.Iu||(n.Iu=function(e,t,r){const i=L(e);return i.su(),new ghe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:The.bind(null,n),Zr:Mhe.bind(null,n),tu:She.bind(null,n),Zo:Ahe.bind(null,n)}),n.wu.push(function(){var e=g(function*(t){t?(n.Iu.Mo(),yield Sc(n)):(yield n.Iu.stop(),n.fu.length>0&&(M("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class SS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new SS(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mc(n,e){if(kt("AsyncQueue",`${e}: ${n}`),Js(n))return new A(E.UNAVAILABLE,`${e}: ${n}`);throw n}class xc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||F.comparator(t.key,r.key):(t,r)=>F.comparator(t.key,r.key),this.keyedMap=uh(),this.sortedSet=new Tt(this.comparator)}static emptySet(e){return new xc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class i${constructor(){this.Tu=new Tt(F.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):$():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class kc{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new kc(e,t,xc.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class xhe{constructor(){this.Au=void 0,this.listeners=[]}}class khe{constructor(){this.queries=new io(e=>Ej(e),oh),this.onlineState="Unknown",this.Ru=new Set}}function MS(){return MS=g(function*(n,e){const t=L(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new xhe),i)try{s.Au=yield t.onListen(r)}catch(o){const a=Mc(o,`Initialization of query '${RT(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&RS(t)}),MS.apply(this,arguments)}function kS(){return kS=g(function*(n,e){const t=L(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),kS.apply(this,arguments)}function Rhe(n,e){const t=L(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&RS(t)}function Ohe(n,e,t){const r=L(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function RS(n){n.Ru.forEach(e=>{e.next()})}class OS{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new kc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class a${constructor(e){this.key=e}}class l${constructor(e){this.key=e}}class c${constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=de(),this.mutatedKeys=de(),this.Gu=Ij(e),this.Qu=new xc(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new i$,i=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=ah(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.Gu(f,l)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(c.type,u.type)||this.Gu(c.doc,u.doc)),this.Ju(r);const o=t?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,0!==s.length||l?{snapshot:new kc(this.query,e.Qu,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new i$,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=de(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new l$(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new a$(r))}),t}tc(e){this.qu=e.Hi,this.Ku=de();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return kc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Fhe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Lhe{constructor(e){this.key=e,this.nc=!1}}class Vhe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new io(a=>Ej(a),oh),this.rc=new Map,this.oc=new Set,this.uc=new Tt(F.comparator),this.cc=new Map,this.ac=new YT,this.hc={},this.lc=new Map,this.fc=ka.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Bhe(n,e){return NS.apply(this,arguments)}function NS(){return NS=g(function*(n,e){const t=rA(n);let r,i;const s=t.ic.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield Ic(t.localStore,$n(e));t.isPrimaryClient&&a_(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield PS(t,e,r,"current"===a,o.resumeToken)}return i}),NS.apply(this,arguments)}function PS(n,e,t,r,i){return FS.apply(this,arguments)}function FS(){return FS=g(function*(n,e,t,r,i){n._c=(d,h,f)=>{return(p=g(function*(m,_,b,C){let y=_.view.Wu(b);y.$i&&(y=yield r_(m.localStore,_.query,!1).then(({documents:V})=>_.view.Wu(V,y)));const T=C&&C.targetChanges.get(_.targetId),P=_.view.applyChanges(y,m.isPrimaryClient,T);return GS(m,_.targetId,P.Xu),P.snapshot}),function(m,_,b,C){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield r_(n.localStore,e,!0),o=new c$(e,s.Hi),a=o.Wu(s.documents),l=fh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);GS(n,t,c.Xu);const u=new Fhe(e,t,o);return n.ic.set(e,u),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),c.snapshot}),FS.apply(this,arguments)}function Uhe(n,e){return LS.apply(this,arguments)}function LS(){return LS=g(function*(n,e){const t=L(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(s=>!oh(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Dc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Sh(t.remoteStore,r.targetId),Rc(t,r.targetId)}).catch(Zs))):(Rc(t,r.targetId),yield Dc(t.localStore,r.targetId,!0))}),LS.apply(this,arguments)}function VS(){return VS=g(function*(n,e,t){const r=iA(n);try{const i=yield function(s,o){const a=L(s),l=vt.now(),c=o.reduce((h,f)=>h.add(f.key),de());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=or(),p=de();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((_,b)=>{b.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const _=[];for(const b of o){const C=Kue(b,u.get(b.key).overlayedDocument);null!=C&&_.push(new _s(b.key,C,_j(C.value.mapValue),ut.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(m=>{d=m;const _=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,_)})}).then(()=>({batchId:d.batchId,changes:jj(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new Tt(ae)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield vs(r,i.changes),yield Sc(r.remoteStore)}catch(i){const s=Mc(i,"Failed to persist write");t.reject(s)}}),VS.apply(this,arguments)}function u$(n,e){return BS.apply(this,arguments)}function BS(){return BS=g(function*(n,e){const t=L(n);try{const r=yield ahe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.cc.get(s);o&&(W(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?W(o.nc):i.removedDocuments.size>0&&(W(o.nc),o.nc=!1))}),yield vs(t,r,e)}catch(r){yield Zs(r)}}),BS.apply(this,arguments)}function d$(n,e,t){const r=L(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=L(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.bu(o)&&(l=!0)}),l&&RS(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Hhe(n,e,t){return US.apply(this,arguments)}function US(){return US=g(function*(n,e,t){const r=L(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new Tt(F.comparator);o=o.insert(s,st.newNoDocument(s,Q.min()));const a=de().add(s),l=new hh(Q.min(),new Map,new ze(ae),o,a);yield u$(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),WS(r)}else yield Dc(r.localStore,e,!1).then(()=>Rc(r,e,t)).catch(Zs)}),US.apply(this,arguments)}function $he(n,e){return jS.apply(this,arguments)}function jS(){return jS=g(function*(n,e){const t=L(n),r=e.batch.batchId;try{const i=yield ohe(t.localStore,e);qS(t,r,null),zS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vs(t,i)}catch(i){yield Zs(i)}}),jS.apply(this,arguments)}function zhe(n,e,t){return HS.apply(this,arguments)}function HS(){return HS=g(function*(n,e,t){const r=L(n);try{const i=yield function(s,o){const a=L(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(W(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);qS(r,e,t),zS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vs(r,i)}catch(i){yield Zs(i)}}),HS.apply(this,arguments)}function zS(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function qS(n,e,t){const r=L(n);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Rc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||h$(n,r)})}function h$(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Sh(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),WS(n))}function GS(n,e,t){for(const r of t)r instanceof a$?(n.ac.addReference(r.key,e),Ghe(n,r)):r instanceof l$?(M("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||h$(n,r.key)):$()}function Ghe(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(M("SyncEngine","New document in limbo: "+t),n.oc.add(r),WS(n))}function WS(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new F(Se.fromString(e)),r=n.fc.next();n.cc.set(r,new Lhe(t)),n.uc=n.uc.insert(t,r),a_(n.remoteStore,new so($n(pc(t.path)),r,2,Tr.at))}}function vs(n,e,t){return KS.apply(this,arguments)}function KS(){return KS=g(function*(n,e,t){const r=L(n),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=JT.Ci(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=g(function*(l,c){const u=L(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Si,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Di,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Js(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.qi.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.qi=u.qi.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),KS.apply(this,arguments)}function Whe(n,e){return YS.apply(this,arguments)}function YS(){return YS=g(function*(n,e){const t=L(n);if(!t.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield UH(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(o=>{o.forEach(a=>{a.reject(new A(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vs(t,r.ji)}var i}),YS.apply(this,arguments)}function Khe(n,e){const t=L(n),r=t.cc.get(e);if(r&&r.nc)return de().add(r.key);{let i=de();const s=t.rc.get(e);if(!s)return i;for(const o of s){const a=t.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function rA(n){const e=L(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=u$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Khe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hhe.bind(null,e),e.sc.Wo=Rhe.bind(null,e.eventManager),e.sc.wc=Ohe.bind(null,e.eventManager),e}function iA(n){const e=L(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$he.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zhe.bind(null,e),e}class rfe{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.yt=Dh(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function BH(n,e,t,r){return new she(n,e,t,r)}(this.persistence,new VH,e.initialUser,this.yt)}yc(e){return new FH(t_.Bs,this.yt)}gc(e){return new KH}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sA{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>d$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Whe.bind(null,r.syncEngine),yield function DS(n,e){return TS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new khe}createDatastore(e){const t=Dh(e.databaseInfo.databaseId),r=new phe(e.databaseInfo);return new _he(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>d$(this.syncEngine,a,0),o=YH.C()?new YH:new dhe,new bhe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new Vhe(r,i,s,o,a,l);return c&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=L(t);M("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Tc(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oA(n,e,t){if(!t)throw new A(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function m$(n){if(!F.isDocumentKey(n))throw new A(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function c_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$()}function Ie(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new A(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=c_(n);throw new A(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const y$=new Map;class v${constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new A(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new A(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function ofe(n,e,t,r){if(!0===e&&!0===r)throw new A(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new A(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v$(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new mue;switch(t.type){case"gapi":return new vue(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new A(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=y$.get(e);t&&(M("ComponentProvider","Removing Datastore"),y$.delete(e),t.terminate())}(this),Promise.resolve()}}class Nt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}}class _n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _n(this.firestore,e,this._query)}}class ki extends _n{constructor(e,t,r){super(e,t,pc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new F(e))}withConverter(e){return new ki(this.firestore,e,this._path)}}function b$(n,e,...t){if(n=yt(n),1===arguments.length&&(e=q2.R()),oA("doc","path",e),n instanceof Ah){const r=Se.fromString(e,...t);return m$(r),new Nt(n,null,new F(r))}{if(!(n instanceof Nt||n instanceof ki))throw new A(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Se.fromString(e,...t));return m$(r),new Nt(n.firestore,n instanceof ki?n.converter:null,new F(r))}}class u_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):kt("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ffe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=q2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Mc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function C$(n,e){return aA.apply(this,arguments)}function aA(){return aA=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield UH(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),aA.apply(this,arguments)}function I$(n,e){return lA.apply(this,arguments)}function lA(){return lA=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cA(n);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>r$(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>r$(e.remoteStore,s)),n.onlineComponents=e}),lA.apply(this,arguments)}function cA(n){return uA.apply(this,arguments)}function uA(){return uA=g(function*(n){return n.offlineComponents||(M("FirestoreClient","Using default OfflineComponentProvider"),yield C$(n,new rfe)),n.offlineComponents}),uA.apply(this,arguments)}function d_(n){return dA.apply(this,arguments)}function dA(){return dA=g(function*(n){return n.onlineComponents||(M("FirestoreClient","Using default OnlineComponentProvider"),yield I$(n,new sA)),n.onlineComponents}),dA.apply(this,arguments)}function Oc(n){return pA.apply(this,arguments)}function pA(){return pA=g(function*(n){const e=yield d_(n),t=e.eventManager;return t.onListen=Bhe.bind(null,e.syncEngine),t.onUnlisten=Uhe.bind(null,e.syncEngine),t}),pA.apply(this,arguments)}class wfe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new lS(this,"async_queue_retry"),this.Wc=()=>{const t=o_();t&&M("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=o_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=o_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Yt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Js(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,kt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=SS.createAndSchedule(this,e,t,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&$()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function mA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ot extends Ah{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new wfe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||M$(this),this._firestoreClient.terminate()}}function Cfe(n,e){const r="string"==typeof n?n:e||"(default)",i=Jo("object"==typeof n?n:Im(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=LL("firestore");s&&function afe(n,e,t,r={}){var i;const s=(n=Ie(n,Ah))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&lc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=tn.MOCK_USER;else{o=BL(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new A(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new tn(l)}n._authCredentials=new gue(new $2(o,a))}}(i,...s)}return i}function jt(n){return n._firestoreClient||M$(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function M$(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xue(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new ffe(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(Qt.fromBase64String(e))}catch(t){throw new A(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oa(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new A(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gA{constructor(e){this._methodName=e}}class _A{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new A(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new A(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}const Ife=/^__.*__$/;class Dfe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new _c(e,this.data,t,this.fieldTransforms)}}class R${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function O$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class f_{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new f_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return m_(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(O$(this.sa)&&Ife.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Tfe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Dh(e)}da(e,t,r,i=!1){return new f_({sa:e,methodName:t,fa:r,path:Rt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Pc(n){const e=n._freezeSettings(),t=Dh(n._databaseId);return new Tfe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yA(n,e,t,r,i,s={}){const o=n.da(s.merge||s.mergeFields?2:0,e,t,i);bA("Data must be an object, but it was:",o,r);const a=V$(r,o);let l,c;if(s.merge)l=new sr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=wA(e,d,t);if(!o.contains(h))throw new A(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);U$(u,h)||u.push(h)}l=new sr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Dfe(new gn(a),l,c)}class Mh extends gA{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function Na(n,e){if(B$(n=yt(n)))return bA("Unsupported field value:",e,n),V$(n,e);if(n instanceof gA)return function(t,r){if(!O$(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Na(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=yt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Sj(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=vt.fromDate(t);return{timestampValue:vc(r.yt,i)}}if(t instanceof vt){const i=new vt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vc(r.yt,i)}}if(t instanceof _A)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oa)return{bytesValue:Kj(r.yt,t._byteString)};if(t instanceof Nt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:NT(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${c_(t)}`)}(n,e)}function V$(n,e){const t={};return Z2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(n,(r,i)=>{const s=Na(i,e.ra(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function B$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof _A||n instanceof Oa||n instanceof Nt||n instanceof gA)}function bA(n,e,t){if(!B$(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=c_(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function wA(n,e,t){if((e=yt(e))instanceof Nc)return e._internalPath;if("string"==typeof e)return p_(n,e);throw m_("Field path arguments must be of type string or ",n,!1,void 0,t)}const xfe=new RegExp("[~\\*/\\[\\]]");function p_(n,e,t){if(e.search(xfe)>=0)throw m_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nc(...e.split("."))._internalPath}catch{throw m_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function m_(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new A(E.INVALID_ARGUMENT,a+n+l)}function U$(n,e){return n.some(t=>t.isEqual(e))}class EA{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(g_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kfe extends EA{data(){return super.data()}}function g_(n,e){return"string"==typeof e?p_(n,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}class Pa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lc extends EA{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new b_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(g_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class b_ extends Lc{data(e={}){return super.data(e)}}class Vc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Pa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new b_(this._firestore,this._userDataWriter,r.key,r,new Pa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new A(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new b_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Pa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new b_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Pa(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Nfe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nfe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class uo extends class Ofe{convertValue(e,t="none"){switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){const r={};return ya(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new _A(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ej(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(th(e));default:return null}}convertTimestamp(e){const t=eo(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Se.fromString(e);W(iH(r));const i=new _a(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(t)||kt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function Pfe(n,e,t){n=Ie(n,Nt);const r=Ie(n.firestore,ot),i=function IA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return kh(r,[yA(Pc(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ut.none())])}function Ffe(n,e,t,...r){n=Ie(n,Nt);const i=Ie(n.firestore,ot),s=Pc(i);let o;return o="string"==typeof(e=yt(e))||e instanceof Nc?function F$(n,e,t,r,i,s){const o=n.da(1,e,t),a=[wA(e,r,t)],l=[i];if(s.length%2!=0)throw new A(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(wA(e,s[h])),l.push(s[h+1]);const c=[],u=gn.empty();for(let h=a.length-1;h>=0;--h)if(!U$(c,a[h])){const f=a[h];let p=l[h];p=yt(p);const m=o.ca(f);if(p instanceof Mh)c.push(f);else{const _=Na(p,m);null!=_&&(c.push(f),u.set(f,_))}}const d=new sr(c);return new R$(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function P$(n,e,t,r){const i=n.da(1,e,t);bA("Data must be an object, but it was:",i,r);const s=[],o=gn.empty();ya(r,(l,c)=>{const u=p_(e,l,t);c=yt(c);const d=i.ca(u);if(c instanceof Mh)s.push(u);else{const h=Na(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new sr(s);return new R$(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),kh(i,[o.toMutation(n._key,ut.exists(!0))])}function kh(n,e){return function(t,r){const i=new Yt;return t.asyncQueue.enqueueAndForget(g(function*(){return function jhe(n,e,t){return VS.apply(this,arguments)}(yield function fA(n){return d_(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(jt(n),e)}!function(n,e=!0){ac="9.17.1",An(new cn("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new ot(new _ue(t.getProvider("auth-internal")),new bue(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new A(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),it(H2,"3.8.3",n),it(H2,"3.8.3","esm2017")}();var jfe={includeMetadataChanges:!1};function TA(n,e){return void 0===e&&(e=jfe),new Le(function(t){var r=function Lfe(n,...e){var t,r,i;n=yt(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||mA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(mA(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof Nt)c=Ie(n.firestore,ot),u=pc(n._key.path),l={next:d=>{e[o]&&e[o](function DA(n,e,t){const r=t.docs.get(e._key),i=new uo(n);return new Lc(n,i,e._key,r,new Pa(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Ie(n,_n);c=Ie(d.firestore,ot),u=d._query;const h=new uo(c);l={next:f=>{e[o]&&e[o](new Vc(c,h,d,f))},error:e[o+1],complete:e[o+2]},function j$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new A(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new u_(p),_=new OS(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function AS(n,e){return MS.apply(this,arguments)}(yield Oc(d),_)})),()=>{m.bc(),d.asyncQueue.enqueueAndForget(g(function*(){return function xS(n,e){return kS.apply(this,arguments)}(yield Oc(d),_)}))}}(jt(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function $fe(n,e){return void 0===e&&(e={}),function Hfe(n){return TA(n,{includeMetadataChanges:!0})}(n).pipe(ee(function(t){return function Y$(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(t,e)}))}class E_{constructor(e){return e}}const J$="firestore",MA=new R("angularfire2.firestore-instances");function Xfe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new E_(r)}}const Zfe={provide:class Yfe{constructor(){return Nm(J$)}},deps:[[new lt,MA]]},Jfe={provide:E_,useFactory:function Qfe(n,e){const t=Om(J$,n,e);return t&&new E_(t)},deps:[[new lt,MA],aa]};let epe=(()=>{class n{constructor(){it("angularfire",md.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({providers:[Jfe,Zfe]}),n})();function tpe(n,...e){return{ngModule:epe,providers:[{provide:MA,useFactory:Xfe(n),multi:!0,deps:[me,At,Pm,Fm,[new lt,AD],[new lt,$m],...e]}]}}const npe=Mn($fe,!0),xA=Mn(b$,!0),rpe=Mn(Cfe,!0),ipe=Mn(Pfe,!0),spe=Mn(Ffe,!0);let Rh=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=ace(this.auth)}login(t,r){return qe(dce(this.auth,t,r))}signUp(t,r){return qe(cce(this.auth,t,r))}updateProfileData(t){return q(this.auth.currentUser).pipe(wi(i=>{if(!i)throw new Error("Not authenticated");return hce(i,t)}))}logout(){return qe(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(I(kd))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C_=(()=>{class n{constructor(t,r){this.firestore=t,this.authService=r}get currentUserProfile$(){return this.authService.currentUser$.pipe(Un(t=>{if(!t?.uid)return q(null);const r=xA(this.firestore,"users",t?.uid);return npe(r)}))}addUser(t){const r=xA(this.firestore,"users",t?.uid);return qe(ipe(r,t))}updateUser(t){const r=xA(this.firestore,"users",t.uid);return qe(spe(r,{...t}))}}return n.\u0275fac=function(t){return new(t||n)(I(E_),I(Rh))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ope(n,e){if(1&n&&(k(0,"h1"),x(1),O()),2&n){const t=e.ngIf;G(1),_i("Welcome to our app, ",t.displayName,"!")}}function ape(n,e){if(1&n&&(k(0,"ul")(1,"li"),x(2),O(),k(3,"li"),x(4),O(),k(5,"li"),x(6),O(),k(7,"li"),x(8),O(),k(9,"li"),x(10),O()()),2&n){const t=e.ngIf;G(2),_i("Name: ",t.firstName,""),G(2),_i("LastName: ",t.lastName,""),G(2),_i("email: ",t.email,""),G(2),_i("Address: ",t.address,""),G(2),_i("Phone num: ",t.phone,"")}}let lpe=(()=>{class n{constructor(t){this.userService=t,this.user$=this.userService.currentUserProfile$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(v(C_))},n.\u0275cmp=nt({type:n,selectors:[["app-home"]],decls:6,vars:6,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(pe(0,ope,2,1,"h1",0),Fu(1,"async"),k(2,"h3"),x(3," This is Your FireStore Data"),O(),pe(4,ape,11,5,"ul",0),Fu(5,"async")),2&t&&(H("ngIf",Lu(1,2,r.user$)),G(4),H("ngIf",Lu(5,4,r.user$)))},dependencies:[bi,Pp]}),n})(),cpe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["app-landing"]],decls:4,vars:0,consts:[[1,"center"]],template:function(t,r){1&t&&(k(0,"h1",0),x(1,"Welcome to Angular Sign Up Application"),O(),k(2,"h3",0),x(3,"This app utilizes various technologies and tools, including Angular, Angular Material UI, SCSS, and Firestore."),O())}}),n})();function ez(...n){const e=Vx(n),{args:t,keys:r}=yF(n),i=new Le(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;vn(t[u]).subscribe(Xe(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?vF(r,a):a),s.complete())}))}});return e?i.pipe(Fw(e)):i}let tz=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(v(hi),v(He))},n.\u0275dir=K({type:n}),n})(),Fa=(()=>{class n extends tz{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=on(n)))(r||n)}}(),n.\u0275dir=K({type:n,features:[ye]}),n})();const Ri=new R("NgValueAccessor"),dpe={provide:Ri,useExisting:Ze(()=>Bc),multi:!0},fpe=new R("CompositionEventMode");let Bc=(()=>{class n extends tz{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hpe(){const n=vi()?vi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(v(hi),v(He),v(fpe,8))},n.\u0275dir=K({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Ye("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[$e([dpe]),ye]}),n})();function ho(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function rz(n){return null!=n&&"number"==typeof n.length}const Rn=new R("NgValidators"),fo=new R("NgAsyncValidators"),mpe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bs{static min(e){return function iz(n){return e=>{if(ho(e.value)||ho(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function sz(n){return e=>{if(ho(e.value)||ho(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function oz(n){return ho(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function az(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function lz(n){return ho(n.value)||mpe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function cz(n){return e=>ho(e.value)||!rz(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function uz(n){return e=>rz(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function dz(n){if(!n)return I_;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ho(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return _z(e)}static composeAsync(e){return yz(e)}}function I_(n){return null}function hz(n){return null!=n}function fz(n){return Su(n)?qe(n):n}function pz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function mz(n,e){return e.map(t=>t(n))}function gz(n){return n.map(e=>function gpe(n){return!n.validate}(e)?e:t=>e.validate(t))}function _z(n){if(!n)return null;const e=n.filter(hz);return 0==e.length?null:function(t){return pz(mz(t,e))}}function kA(n){return null!=n?_z(gz(n)):null}function yz(n){if(!n)return null;const e=n.filter(hz);return 0==e.length?null:function(t){return ez(mz(t,e).map(fz)).pipe(ee(pz))}}function RA(n){return null!=n?yz(gz(n)):null}function vz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function bz(n){return n._rawValidators}function wz(n){return n._rawAsyncValidators}function OA(n){return n?Array.isArray(n)?n:[n]:[]}function D_(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ez(n,e){const t=OA(e);return OA(n).forEach(i=>{D_(t,i)||t.push(i)}),t}function Cz(n,e){return OA(e).filter(t=>!D_(n,t))}class Iz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=RA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class qn extends Iz{get formDirective(){return null}get path(){return null}}class ws extends Iz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let T_=(()=>{class n extends Dz{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(v(ws,2))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Jn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ye]}),n})(),S_=(()=>{class n extends Dz{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(v(qn,10))},n.\u0275dir=K({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Jn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ye]}),n})();const Oh="VALID",M_="INVALID",Uc="PENDING",Nh="DISABLED";function LA(n){return(x_(n)?n.validators:n)||null}function Sz(n){return Array.isArray(n)?kA(n):n||null}function VA(n,e){return(x_(e)?e.asyncValidators:n)||null}function Az(n){return Array.isArray(n)?RA(n):n||null}function x_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Mz(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[t])throw new D(1001,"")}function xz(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new D(1002,"")})}class k_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Sz(this._rawValidators),this._composedAsyncValidatorFn=Az(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Oh}get invalid(){return this.status===M_}get pending(){return this.status==Uc}get disabled(){return this.status===Nh}get enabled(){return this.status!==Nh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Sz(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Az(e)}addValidators(e){this.setValidators(Ez(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ez(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Cz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Cz(e,this._rawAsyncValidators))}hasValidator(e){return D_(this._rawValidators,e)}hasAsyncValidator(e){return D_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Uc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Oh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oh||this.status===Uc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nh:Oh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Uc,this._hasOwnPendingAsyncValidator=!0;const t=fz(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?Nh:this.errors?M_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uc)?Uc:this._anyControlsHaveStatus(M_)?M_:Oh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){x_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Ph extends k_{constructor(e,t,r){super(LA(t),VA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){xz(this,0,e),Object.keys(e).forEach(r=>{Mz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class kz extends Ph{}function Fh(n,e){BA(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Ipe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Rz(n,e)})}(n,e),function Tpe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Dpe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Rz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Cpe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function O_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),P_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function N_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function BA(n,e){const t=bz(n);null!==e.validator?n.setValidators(vz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=wz(n);null!==e.asyncValidator?n.setAsyncValidators(vz(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();N_(e._rawValidators,i),N_(e._rawAsyncValidators,i)}function P_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=bz(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=wz(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return N_(e._rawValidators,r),N_(e._rawAsyncValidators,r),t}function Rz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Oz(n,e){BA(n,e)}function Pz(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const kpe={provide:qn,useExisting:Ze(()=>F_)},Lh=(()=>Promise.resolve())();let F_=(()=>{class n extends qn{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Be,this.form=new Ph({},kA(t),RA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Lh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Fh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Lh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Lh.then(()=>{const r=this._findContainer(t.path),i=new Ph({});Oz(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Lh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Lh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Pz(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(v(Rn,10),v(fo,10))},n.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Ye("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([kpe]),ye]}),n})();function Fz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Lz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Vh=class extends k_{constructor(e=null,t,r){super(LA(t),VA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),x_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Lz(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Fz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Fz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Lz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let L_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Ppe={provide:Ri,useExisting:Ze(()=>HA),multi:!0};let HA=(()=>{class n extends Fa{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=on(n)))(r||n)}}(),n.\u0275dir=K({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&Ye("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[$e([Ppe]),ye]}),n})(),Hz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({}),n})();const $A=new R("NgModelWithFormControlWarning"),Upe={provide:qn,useExisting:Ze(()=>La)};let La=(()=>{class n extends qn{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Be,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(P_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Fh(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){O_(t.control||null,t,!1),function xpe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Pz(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(O_(r||null,t),(n=>n instanceof Vh)(i)&&(Fh(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Oz(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Spe(n,e){return P_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){BA(this.form,this),this._oldForm&&P_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(v(Rn,10),v(fo,10))},n.\u0275dir=K({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Ye("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([Upe]),ye,Xn]}),n})();const $pe={provide:ws,useExisting:Ze(()=>Bh)};let Bh=(()=>{class n extends ws{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Be,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function jA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Bc?t=s:function Mpe(n){return Object.getPrototypeOf(n.constructor)===Fa}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function UA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function R_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(v(qn,13),v(Rn,10),v(fo,10),v(Ri,10),v($A,8))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$e([$pe]),ye,Xn]}),n})(),ime=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[Hz]}),n})(),YA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$A,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[ime]}),n})();class iq extends k_{constructor(e,t,r){super(LA(t),VA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){xz(this,0,e),e.forEach((r,i)=>{Mz(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function sq(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let sme=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return sq(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ph(i,s)}record(t,r=null){const i=this._reduceControls(t);return new kz(i,r)}control(t,r,i){let s={};return this.useNonNullable?(sq(r)?s=r:(s.validators=r,s.asyncValidators=i),new Vh(t,{...s,nonNullable:!0})):new Vh(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new iq(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Vh||t instanceof k_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:YA}),n})(),QA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:function(){return rt(sme).nonNullable},providedIn:YA}),n})();function XA(n){return n instanceof Fr}function ZA(n){return"function"==typeof n}function oq(n){return"string"==typeof n}let ome=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,r){1&t&&we(0,"div",0),2&t&&H("innerHTML",r.content,TR)},encapsulation:2}),n})();class ame{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class lme{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class cme{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let aq=(()=>{class n{constructor(t,r,i){this.resolver=t,this.injector=r,this.appRef=i}createComponent(t,r={}){return new cme({component:t,vcr:r.vcr,injector:r.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,r={}){return new ame({vcr:r.vcr,appRef:this.appRef,tpl:t,context:r.context})}createView(t,r={}){if(XA(t))return this.createTemplate(t,r);if(ZA(t))return this.createComponent(t,r);if(oq(t))return new lme(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(I(No),I(At),I(Bo))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ume=(()=>{class n{constructor(t,r,i){this.defaultTpl=t,this.vcr=r,this.viewService=i}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),oq(this.view)?(this.viewRef=this.viewService.createComponent(ome,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(v(Fr),v(wr),v(aq))},n.\u0275dir=K({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[Xn]}),n})();const{isArray:dme}=Array;const mme=["*"],gme=function(n,e){return{"border-color":n,"border-right-color":e}};function _me(n,e){if(1&n&&(k(0,"div"),x(1,"\n        "),we(2,"hot-toast-error",2),x(3,"\n      "),O()),2&n){const t=xe(3);G(2),H("theme",t.theme)}}function yme(n,e){if(1&n&&(k(0,"div"),x(1,"\n        "),we(2,"hot-toast-checkmark",2),x(3,"\n      "),O()),2&n){const t=xe(3);G(2),H("theme",t.theme)}}function vme(n,e){if(1&n&&(k(0,"div"),x(1,"\n        "),we(2,"hot-toast-warning",2),x(3,"\n      "),O()),2&n){const t=xe(3);G(2),H("theme",t.theme)}}function bme(n,e){if(1&n&&(k(0,"div"),x(1,"\n        "),we(2,"hot-toast-info",2),x(3,"\n      "),O()),2&n){const t=xe(3);G(2),H("theme",t.theme)}}function wme(n,e){if(1&n&&(k(0,"div",4),x(1,"\n    "),k(2,"div",5),x(3,"\n      "),pe(4,_me,4,1,"div",6),x(5,"\n      "),pe(6,yme,4,1,"div",6),x(7,"\n      "),pe(8,vme,4,1,"div",6),x(9,"\n      "),pe(10,bme,4,1,"div",6),x(11,"\n    "),O(),x(12,"\n  "),O()),2&n){const t=xe(2);G(2),H("ngSwitch",t.type),G(2),H("ngSwitchCase","error"),G(2),H("ngSwitchCase","success"),G(2),H("ngSwitchCase","warning"),G(2),H("ngSwitchCase","info")}}function Eme(n,e){if(1&n&&(k(0,"div",1),x(1,"\n  "),we(2,"hot-toast-loader",2),x(3,"\n  "),pe(4,wme,13,5,"div",3),x(5,"\n"),O()),2&n){const t=xe();G(2),H("theme",t.theme),G(2),H("ngIf","loading"!==t.type)}}const Cme=["hotToastBarBase"];function Ime(n,e){if(1&n&&(Ls(0),x(1,"\n          "),k(2,"hot-toast-animated-icon",10),x(3),O(),x(4,"\n        "),Vs()),2&n){const t=xe(2);G(2),H("iconTheme",t.toast.iconTheme),G(1),Mu(t.toast.icon)}}function Dme(n,e){if(1&n&&(x(0,"\n          "),k(1,"div"),x(2,"\n            "),op(3,11),x(4,"\n          "),O(),x(5,"\n        ")),2&n){const t=xe(2);G(3),H("dynamicView",t.toast.icon)}}function Tme(n,e){if(1&n&&(Ls(0),x(1,"\n        "),pe(2,Ime,5,2,"ng-container",4),x(3,"\n        "),pe(4,Dme,6,1,"ng-template",null,9,pp),x(6,"\n      "),Vs()),2&n){const t=Rl(5),r=xe();G(2),H("ngIf",r.isIconString)("ngIfElse",t)}}function Sme(n,e){if(1&n&&(x(0,"\n        "),we(1,"hot-toast-indicator",12),x(2,"\n      ")),2&n){const t=xe();G(1),H("theme",t.toast.iconTheme)("type",t.toast.type)}}function Ame(n,e){1&n&&op(0)}function Mme(n,e){if(1&n){const t=Ol();k(0,"button",13),Ye("click",function(){return mr(t),gr(xe().close())}),O()}2&n&&H("ngStyle",xe().toast.closeStyle)}function xme(n,e){if(1&n){const t=Ol();k(0,"hot-toast",3),Ye("height",function(i){const o=mr(t).$implicit;return gr(xe().updateHeight(i,o))})("beforeClosed",function(){const s=mr(t).$implicit;return gr(xe().beforeClosed(s))})("afterClosed",function(i){return mr(t),gr(xe().afterClosed(i))}),O()}if(2&n){const t=e.$implicit,r=e.index,i=xe();H("toast",t)("offset",i.calculateOffset(t.id,t.position))("toastRef",i.toastRefs[r])}}const lq={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class uq{constructor(e){this.toast=e,this._onClosed=new Ce}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:r,updateToast:i,afterClosed:s}=e.addToast(this);return this.dispose=t,this.updateMessage=r,this.updateToast=i,this.afterClosed=function fme(...n){return 1===(n=function hme(n){return 1===n.length&&dme(n[0])?n[0]:n}(n)).length?vn(n[0]):new Le(function pme(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(vn(n[r]).subscribe(Xe(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))}(this._onClosed.asObservable(),s),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let Nme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:mme,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,r){1&t&&(Bs(),k(0,"div",0),x(1,"\n  "),Dn(2),x(3,"\n"),O(),x(4,"\n")),2&t&&Us("color",null==r.iconTheme?null:r.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),Pme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,r){1&t&&(we(0,"div",0),x(1,"\n")),2&t&&H("ngStyle",yN(1,gme,null==r.theme?null:r.theme.primary,null==r.theme?null:r.theme.secondary))},dependencies:[Cw],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),Fme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,r){1&t&&(we(0,"div",0),x(1,"\n")),2&t&&Us("--error-primary",null==r.theme?null:r.theme.primary)("--error-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),Lme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,r){1&t&&(we(0,"div",0),x(1,"\n")),2&t&&Us("--check-primary",null==r.theme?null:r.theme.primary)("--check-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),Vme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,r){1&t&&(we(0,"div",0),x(1,"\n")),2&t&&Us("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),Bme=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,r){1&t&&(we(0,"div",0),x(1,"\n")),2&t&&Us("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),Ume=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,r){1&t&&(pe(0,Eme,6,2,"div",0),x(1,"\n")),2&t&&H("ngIf","blank"!==r.type)},dependencies:[Pme,Fme,Lme,Vme,Bme,bi,qu,Ew],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),dq=(()=>{class n{constructor(t,r,i){this.injector=t,this.renderer=r,this.ngZone=i,this.offset=0,this.height=new Be,this.beforeClosed=new Be,this.afterClosed=new Be,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){XA(this.toast.message)&&(this.context={$implicit:this.toastRef}),ZA(this.toast.message)&&(this.toastComponentInjector=At.create({providers:[{provide:uq,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),r=t?{top:0}:{bottom:0},i=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...r,...i}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),r=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${r}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:r}}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[r,i]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,r,i)}}return n.\u0275fac=function(t){return new(t||n)(v(At),v(hi),v(me))},n.\u0275cmp=nt({type:n,selectors:[["hot-toast"]],viewQuery:function(t,r){if(1&t&&js(Cme,5),2&t){let i;pt(i=mt())&&(r.toastBarBase=i.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,r){if(1&t&&(k(0,"div",0),x(1,"\n  "),k(2,"div",1,2),x(4,"\n    "),k(5,"div",3),x(6,"\n      "),pe(7,Tme,7,2,"ng-container",4),x(8,"\n\n      "),pe(9,Sme,3,2,"ng-template",null,5,pp),x(11,"\n    "),O(),x(12,"\n\n    "),k(13,"div",6),x(14,"\n      "),k(15,"div"),x(16,"\n        "),pe(17,Ame,1,0,"ng-container",7),x(18,"\n      "),O(),x(19,"\n    "),O(),x(20,"\n\n    "),pe(21,Mme,1,1,"button",8),x(22,"\n  "),O(),x(23,"\n"),O(),x(24,"\n")),2&t){const i=Rl(10);H("ngStyle",r.containerPositionStyle)("ngClass","hot-toast-theme-"+r.toast.theme),G(2),Us("--hot-toast-animation-state",r.isManualClose?"running":"paused"),H("ngStyle",r.toastBarBaseStyles)("ngClass",r.toast.className),Lt("aria-live",r.toast.ariaLive)("role",r.toast.role),G(5),H("ngIf",void 0!==r.toast.icon)("ngIfElse",i),G(10),H("dynamicView",r.toast.message)("dynamicViewContext",r.context)("dynamicViewInjector",r.toastComponentInjector),G(4),H("ngIf",r.toast.dismissible)}},dependencies:[Nme,Ume,Cw,bw,bi,ume],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),jme=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new Ce,this.onClosed$=this._onClosed.asObservable()}trackById(t,r){return r.id}calculateOffset(t,r){const i=this.toasts.filter(a=>a.visible&&a.position===r),s=i.findIndex(a=>a.id===t);return-1!==s?i.slice(...this.defaultConfig.reverseOrder?[s+1]:[0,s]).reduce((a,l)=>a+(l.height||0)+8,0):0}updateHeight(t,r){r.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const r=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(r.id)},updateMessage:i=>{r.message=i,this.cdr.detectChanges()},updateToast:i=>{this.updateToasts(r,i),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(r)}}closeToast(t){if(t){const r=this.hotToastComponentList.find(i=>i.toast.id===t);r&&r.close()}else this.hotToastComponentList.forEach(r=>r.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(i=>i.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(i=>i.id!==t.id),this.toastRefs=this.toastRefs.filter(i=>i.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(r=>r.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(an(r=>r.id===t.id))}updateToasts(t,r){this.toasts=this.toasts.map(i=>({...i,...i.id===t.id&&{...t,...r}}))}}return n.\u0275fac=function(t){return new(t||n)(v(Uo))},n.\u0275cmp=nt({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,r){if(1&t&&js(dq,5),2&t){let i;pt(i=mt())&&(r.hotToastComponentList=i)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,r){1&t&&(k(0,"div",0),x(1,"\n  "),k(2,"div",1),x(3,"\n    "),pe(4,xme,1,3,"hot-toast",2),x(5,"\n  "),O(),x(6,"\n"),O(),x(7,"\n")),2&t&&(G(4),H("ngForOf",r.toasts)("ngForTrackBy",r.trackById))},dependencies:[dq,HP],encapsulation:2,changeDetection:0}),n})();class hq{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class zme{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let nM,JA=(()=>{class n{constructor(t,r,i){this._viewService=t,this.platformId=r,this._isInitialized=!1,this._defaultConfig=new hq,this._defaultPersistConfig=new zme,i&&(this._defaultConfig={...this._defaultConfig,...i})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,r){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...r})}error(t,r){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...r})}success(t,r){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...r})}loading(t,r){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...r})}warning(t,r){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}info(t,r){return this.createToast(t||this._defaultConfig.warning.content,"info",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}observe(t){return r=>{let i,s=0;const o=t.loading??this._defaultConfig.loading?.content,a=t.success??this._defaultConfig.success?.content,l=t.error??this._defaultConfig.error?.content;return Lw(()=>(o&&(i=this.createLoadingToast(o),s=Date.now()),r.pipe(_t({...a&&{next:c=>{i=this.createOrUpdateToast(t,c,i,"success",0===s?s:Date.now()-s)}},...l&&{error:c=>{i=this.createOrUpdateToast(t,c,i,"error",0===s?s:Date.now()-s)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){(function kX(n){return"server"===n})(this.platformId)||(this._componentRef=this._viewService.createComponent(jme).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,r,i,s,o){let a=null,l={};if(({content:a,options:l}=this.getContentAndOptions(s,t[s]||(this._defaultConfig[s]?this._defaultConfig[s].content:""))),a=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(a,r),i){i.updateMessage(a);const c={type:s,duration:o+lq[s],...l,...l.duration&&{duration:o+l.duration}};i.updateToast(c)}else this.createToast(a,s,l);return i}createToast(t,r,i,s){this._isInitialized||(this._isInitialized=!0,this.init());const o=Date.now(),a=i?.id??o.toString();if(!this.isDuplicate(a)&&(!i.persist?.enabled||i.persist?.enabled&&this.handleStorageValue(a,i))){const l={ariaLive:i?.ariaLive??"polite",createdAt:o,duration:i?.duration??lq[r],id:a,message:t,role:i?.role??"status",type:r,visible:!0,observableMessages:s??void 0,...i};return new uq(l).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,r){let i=1;const s={...this._defaultPersistConfig,...r.persist},o="local"===s.storage?localStorage:sessionStorage,a=s.key.replace(/\${id}/g,t);let l=o.getItem(a);return l?(l=parseInt(l,10),i=l>0?l-1:l):i=s.count,o.setItem(a,i.toString()),i}getContentAndOptions(t,r){let i,s={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof r||XA(r)||ZA(r))i=r;else{let o;({content:i,...o}=r),s={...s,...o}}return{content:i,options:s}}createLoadingToast(t){let r=null,i={};return({content:r,options:i}=this.getContentAndOptions("loading",t)),this.loading(r,i)}}return n.\u0275fac=function(t){return new(t||n)(I(aq),I(Ul),I(hq,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mq(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function gq(n,e=pd){return ht((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(Xe(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function lge(n,e){return n===e}function po(n){return ht((e,t)=>{vn(n).subscribe(Xe(t,()=>t.complete(),af)),!t.closed&&e.subscribe(t)})}function Oi(n){return null!=n&&"false"!=`${n}`}function _q(n){return Array.isArray(n)?n:[n]}function Ht(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Es(n){return n instanceof He?n.nativeElement:n}try{nM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nM=!1}let jc,Sr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function xX(n){return n===WP}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(I(Ul))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({}),n})();const yq=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function vq(){if(jc)return jc;if("object"!=typeof document||!document)return jc=new Set(yq),jc;let n=document.createElement("input");return jc=new Set(yq.filter(e=>(n.setAttribute("type",e),n.type===e))),jc}let Uh,Ba,iM,si;function jh(n){return function dge(){if(null==Uh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Uh=!0}))}finally{Uh=Uh||!1}return Uh}()?n:!!n.capture}function hge(){if(null==Ba){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ba=!1,Ba;if("scrollBehavior"in document.documentElement.style)Ba=!0;else{const n=Element.prototype.scrollTo;Ba=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ba}function Ua(n){return n.composedPath?n.composedPath()[0]:n.target}function sM(){return typeof si.__karma__<"u"&&!!si.__karma__||typeof si.jasmine<"u"&&!!si.jasmine||typeof si.jest<"u"&&!!si.jest||typeof si.Mocha<"u"&&!!si.Mocha}si=typeof global<"u"?global:typeof window<"u"?window:{};class yge extends class _ge{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ce,this._typeaheadSubscription=dt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ce,this.change=new Ce,e instanceof Ll&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(_t(t=>this._pressedLetters.push(t)),gq(e),an(()=>this._pressedLetters.length>0),ee(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const s=(this._activeItemIndex+i)%r.length,o=r[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||mq(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Ll?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function oM(n){return 0===n.offsetX&&0===n.offsetY}function aM(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Ige=new R("cdk-input-modality-detector-options"),Dge={ignoreKeys:[18,17,224,91,16]},Hc=jh({passive:!0,capture:!0});let Tge=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Br(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ua(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(oM(o)?"keyboard":"mouse"),this._mostRecentTarget=Ua(o))},this._onTouchstart=o=>{aM(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ua(o))},this._options={...Dge,...s},this.modalityDetected=this._modality.pipe(function oge(n){return an((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(function age(n,e=Ms){return n=n??lge,ht((t,r)=>{let i,s=!0;t.subscribe(Xe(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Hc),i.addEventListener("mousedown",this._onMousedown,Hc),i.addEventListener("touchstart",this._onTouchstart,Hc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hc),document.removeEventListener("mousedown",this._onMousedown,Hc),document.removeEventListener("touchstart",this._onTouchstart,Hc))}}return n.\u0275fac=function(t){return new(t||n)(I(Sr),I(me),I(ve),I(Ige,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Age=new R("cdk-focus-monitor-default-options"),B_=jh({passive:!0,capture:!0});let lM=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ce,this._rootNodeFocusAndBlurListener=a=>{const l=Ua(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=Es(t);if(!this._platform.isBrowser||1!==i.nodeType)return q(null);const s=function pge(n){if(function fge(){if(null==iM){const n=typeof document<"u"?document.head:null;iM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return iM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Ce,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=Es(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Es(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Ua(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,B_),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,B_)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(po(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,B_),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,B_),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(I(me),I(Sr),I(Tge),I(ve,8),I(Age,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Iq="cdk-high-contrast-black-on-white",Dq="cdk-high-contrast-white-on-black",cM="cdk-high-contrast-active";let Mge=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(cM),t.remove(Iq),t.remove(Dq),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(cM),t.add(Iq)):2===r&&(t.add(cM),t.add(Dq))}}}return n.\u0275fac=function(t){return new(t||n)(I(Sr),I(ve))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xge=new R("cdk-dir-doc",{providedIn:"root",factory:function kge(){return rt(ve)}});let uM=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Be,t){const i=t.documentElement?t.documentElement.dir:null,s=(t.body?t.body.dir:null)||i;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(I(xge,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({}),n})();const Tq=new qi("13.0.0"),Sq=new qi("13.0.0"),Oge=new R("mat-sanity-checks",{providedIn:"root",factory:function Rge(){return!0}});let Ar=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!function z9(){return gP=!0,mP}()||sM())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Sq.full!==Tq.full&&console.warn("The Angular Material version ("+Sq.full+") does not match the Angular CDK version ("+Tq.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(I(Mge),I(Oge,8),I(ve))},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[[Hh],Hh]}),n})();function Aq(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Oi(e)}}}function U_(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Mq(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Oi(e)}}}function Nge(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Ce,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let xq=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Fge{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kq={enterDuration:225,exitDuration:150},dM=jh({passive:!0}),Rq=["mousedown","touchstart"],Oq=["mouseup","mouseleave","touchend","touchcancel"];class Vge{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Es(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...kq,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function Uge(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function Bge(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new Fge(this,u,r);return d.state=0,this._activeRipples.add(d),r.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!r.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i={...kq,...e.config.animation};r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Es(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Rq))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Oq),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=oM(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!aM(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,dM)})})}_removeTriggerEvents(){this._triggerElement&&(Rq.forEach(e=>{this._triggerElement.removeEventListener(e,this,dM)}),this._pointerUpEventsRegistered&&Oq.forEach(e=>{this._triggerElement.removeEventListener(e,this,dM)}))}}const jge=new R("mat-ripple-global-options");let hM=(()=>{class n{constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Vge(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(v(He),v(me),v(Sr),v(jge,8),v(ju,8))},n.\u0275dir=K({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Jn("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Nq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[[Ar,rM],Ar]}),n})();const Hge=["mat-button",""],$ge=["*"],qge=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Gge=U_(Aq(Mq(class{constructor(n){this._elementRef=n}})));let j_=(()=>{class n extends Gge{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of qge)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(v(He),v(lM),v(ju,8))},n.\u0275cmp=nt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&js(hM,5),2&t){let i;pt(i=mt())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(Lt("disabled",r.disabled||null),Jn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ye],attrs:Hge,ngContentSelectors:$ge,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(Bs(),k(0,"span",0),Dn(1),O(),we(2,"span",1)(3,"span",2)),2&t&&(G(2),Jn("mat-button-ripple-round",r.isRoundButton||r.isIconButton),H("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[hM],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Wge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[[Nq,Ar],Ar]}),n})(),Pq=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kge=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Es(t);return new Le(i=>{const o=this._observeElement(r).subscribe(i);return()=>{o.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Ce,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(I(Pq))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yge=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new Be,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Oi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function cge(n,e=0){return function uge(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(gq(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(v(Kge),v(He),v(me))},n.\u0275dir=K({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Qge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({providers:[Pq]}),n})();const Xge=["addListener","removeListener"],Zge=["addEventListener","removeEventListener"],Jge=["on","off"];function H_(n,e,t,r){if(Me(t)&&(r=t,t=void 0),r)return H_(n,e,t).pipe(Fw(r));const[i,s]=function n_e(n){return Me(n.addEventListener)&&Me(n.removeEventListener)}(n)?Zge.map(o=>a=>n[o](e,a,t)):function e_e(n){return Me(n.addListener)&&Me(n.removeListener)}(n)?Xge.map(Fq(n,e)):function t_e(n){return Me(n.on)&&Me(n.off)}(n)?Jge.map(Fq(n,e)):[];if(!i&&ky(n))return St(o=>H_(o,e,t))(vn(n));if(!i)throw new TypeError("Invalid event target");return new Le(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function Fq(n,e){return t=>r=>n[t](e,r)}class Lq{}const Cs="*";function fM(n,e){return{type:7,name:n,definitions:e,options:{}}}function $_(n,e=null){return{type:4,styles:e,timings:n}}function Vq(n,e=null){return{type:2,steps:n,options:e}}function Is(n){return{type:6,styles:n,offset:null}}function pM(n,e,t){return{type:0,name:n,styles:e,options:t}}function z_(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Bq(n){Promise.resolve().then(n)}class zh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Bq(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Uq{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?Bq(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const i_e=["connectionContainer"],s_e=["inputContainer"],o_e=["label"];function a_e(n,e){1&n&&(Ls(0),k(1,"div",14),we(2,"div",15)(3,"div",16)(4,"div",17),O(),k(5,"div",18),we(6,"div",15)(7,"div",16)(8,"div",17),O(),Vs())}function l_e(n,e){1&n&&(k(0,"div",19),Dn(1,1),O())}function c_e(n,e){if(1&n&&(Ls(0),Dn(1,2),k(2,"span"),x(3),O(),Vs()),2&n){const t=xe(2);G(3),Mu(t._control.placeholder)}}function u_e(n,e){1&n&&Dn(0,3,["*ngSwitchCase","true"])}function d_e(n,e){1&n&&(k(0,"span",23),x(1," *"),O())}function h_e(n,e){if(1&n){const t=Ol();k(0,"label",20,21),Ye("cdkObserveContent",function(){return mr(t),gr(xe().updateOutlineGap())}),pe(2,c_e,4,1,"ng-container",12),pe(3,u_e,1,0,"ng-content",12),pe(4,d_e,2,0,"span",22),O()}if(2&n){const t=xe();Jn("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),H("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Lt("for",t._control.id)("aria-owns",t._control.id),G(2),H("ngSwitchCase",!1),G(1),H("ngSwitchCase",!0),G(1),H("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function f_e(n,e){1&n&&(k(0,"div",24),Dn(1,4),O())}function p_e(n,e){if(1&n&&(k(0,"div",25),we(1,"span",26),O()),2&n){const t=xe();G(1),Jn("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function m_e(n,e){1&n&&(k(0,"div"),Dn(1,5),O()),2&n&&H("@transitionMessages",xe()._subscriptAnimationState)}function g_e(n,e){if(1&n&&(k(0,"div",30),x(1),O()),2&n){const t=xe(2);H("id",t._hintLabelId),G(1),Mu(t.hintLabel)}}function __e(n,e){if(1&n&&(k(0,"div",27),pe(1,g_e,2,2,"div",28),Dn(2,6),we(3,"div",29),Dn(4,7),O()),2&n){const t=xe();H("@transitionMessages",t._subscriptAnimationState),G(1),H("ngIf",t.hintLabel)}}const y_e=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],v_e=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let b_e=0;const jq=new R("MatError");let Hq=(()=>{class n{constructor(t,r){this.id="mat-error-"+b_e++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(Mo("aria-live"),v(He))},n.\u0275dir=K({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&Lt("id",r.id)},inputs:{id:"id"},features:[$e([{provide:jq,useExisting:n}])]}),n})();const w_e={transitionMessages:fM("transitionMessages",[pM("enter",Is({opacity:1,transform:"translateY(0%)"})),z_("void => enter",[Is({opacity:0,transform:"translateY(-5px)"}),$_("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let gM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n}),n})();const E_e=new R("MatHint");let $q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["mat-label"]]}),n})(),C_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["mat-placeholder"]]}),n})();const I_e=new R("MatPrefix"),D_e=new R("MatSuffix");let zq=0;const S_e=U_(class{constructor(n){this._elementRef=n}},"primary"),A_e=new R("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Gq=new R("MatFormField");let _M=(()=>{class n extends S_e{constructor(t,r,i,s,o,a,l){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ce,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+zq++,this._labelId="mat-form-field-label-"+zq++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Oi(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe($o(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(po(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(po(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Xa(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe($o(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe($o(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(po(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,H_(this._label.nativeElement,"transitionend").pipe(tr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const s=this._connectionContainerRef.nativeElement,o=s.querySelectorAll(".mat-form-field-outline-start"),a=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const l=s.getBoundingClientRect();if(0===l.width&&0===l.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const c=this._getStartEnd(l),u=t.children,d=this._getStartEnd(u[0].getBoundingClientRect());let h=0;for(let f=0;f<u.length;f++)h+=u[f].offsetWidth;r=Math.abs(d-c)-5,i=h>0?.75*h+10:0}for(let l=0;l<o.length;l++)o[l].style.width=`${r}px`;for(let l=0;l<a.length;l++)a[l].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(v(He),v(Uo),v(uM,8),v(A_e,8),v(Sr),v(me),v(ju,8))},n.\u0275cmp=nt({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(Tn(i,gM,5),Tn(i,gM,7),Tn(i,$q,5),Tn(i,$q,7),Tn(i,C_e,5),Tn(i,jq,5),Tn(i,E_e,5),Tn(i,I_e,5),Tn(i,D_e,5)),2&t){let s;pt(s=mt())&&(r._controlNonStatic=s.first),pt(s=mt())&&(r._controlStatic=s.first),pt(s=mt())&&(r._labelChildNonStatic=s.first),pt(s=mt())&&(r._labelChildStatic=s.first),pt(s=mt())&&(r._placeholderChild=s.first),pt(s=mt())&&(r._errorChildren=s),pt(s=mt())&&(r._hintChildren=s),pt(s=mt())&&(r._prefixChildren=s),pt(s=mt())&&(r._suffixChildren=s)}},viewQuery:function(t,r){if(1&t&&(js(i_e,7),js(s_e,5),js(o_e,5)),2&t){let i;pt(i=mt())&&(r._connectionContainerRef=i.first),pt(i=mt())&&(r._inputContainerRef=i.first),pt(i=mt())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&Jn("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[$e([{provide:Gq,useExisting:n}]),ye],ngContentSelectors:v_e,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(Bs(y_e),k(0,"div",0)(1,"div",1,2),Ye("click",function(s){return r._control.onContainerClick&&r._control.onContainerClick(s)}),pe(3,a_e,9,0,"ng-container",3),pe(4,l_e,2,0,"div",4),k(5,"div",5,6),Dn(7),k(8,"span",7),pe(9,h_e,5,16,"label",8),O()(),pe(10,f_e,2,0,"div",9),O(),pe(11,p_e,2,4,"div",10),k(12,"div",11),pe(13,m_e,2,1,"div",12),pe(14,__e,5,2,"div",13),O()()),2&t&&(G(3),H("ngIf","outline"==r.appearance),G(1),H("ngIf",r._prefixChildren.length),G(5),H("ngIf",r._hasFloatingLabel()),G(1),H("ngIf",r._suffixChildren.length),G(1),H("ngIf","outline"!=r.appearance),G(1),H("ngSwitch",r._getDisplayedMessages()),G(1),H("ngSwitchCase","error"),G(1),H("ngSwitchCase","hint"))},dependencies:[bi,qu,Yge,Ew],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[w_e.transitionMessages]},changeDetection:0}),n})(),yM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[[Tw,Ar,Qge],Ar]}),n})();const Wq=jh({passive:!0});let M_e=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return qr;const r=Es(t),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new Ce,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||r.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&r.classList.contains(o)&&(r.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(r.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,Wq),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",a,Wq)}}),s}stopMonitoring(t){const r=Es(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(I(Sr),I(me))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[[rM]]}),n})();const x_e=new R("MAT_INPUT_VALUE_ACCESSOR"),k_e=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let R_e=0;const O_e=Nge(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let vM=(()=>{class n extends O_e{constructor(t,r,i,s,o,a,l,c,u,d){super(a,s,o,i),this._elementRef=t,this._platform=r,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+R_e++,this.focused=!1,this.stateChanges=new Ce,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>vq().has(p));const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Oi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(bs.required)??!1}set required(t){this._required=Oi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&vq().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Oi(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(t!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){k_e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(v(He),v(Sr),v(ws,10),v(F_,8),v(La,8),v(xq),v(x_e,10),v(M_e),v(me),v(Gq,8))},n.\u0275dir=K({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&Ye("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(Mb("disabled",r.disabled)("required",r.required),Lt("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),Jn("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[$e([{provide:gM,useExisting:n}]),ye,Xn]}),n})(),N_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({providers:[xq],imports:[[Kq,yM,Ar],Kq,yM]}),n})();function P_e(n,e){1&n&&(k(0,"mat-error"),x(1," Please enter a valid email address "),O())}function F_e(n,e){1&n&&(k(0,"mat-error"),x(1," Password is required "),O())}let L_e=(()=>{class n{constructor(t,r,i,s){this.fb=t,this.router=r,this.authService=i,this.toast=s,this.loginForm=this.fb.group({email:["",[bs.required,bs.email]],password:["",bs.required]})}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){const{email:t,password:r}=this.loginForm.value;!this.loginForm.valid||!t||!r||this.authService.login(t,r).pipe(this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:({message:i})=>`There was an error: ${i} `})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(v(QA),v(xt),v(Rh),v(JA))},n.\u0275cmp=nt({type:n,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Email address","formControlName","email"],[4,"ngIf"],["matInput","","placeholder","Password","formControlName","password"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"],["routerLink","/sign-up",1,"sign-up-link"]],template:function(t,r){1&t&&(k(0,"div",0)(1,"h1"),x(2,"Login Form"),O(),k(3,"form",1),Ye("ngSubmit",function(){return r.submit()}),k(4,"mat-form-field"),we(5,"input",2),pe(6,P_e,2,0,"mat-error",3),O(),k(7,"mat-form-field"),we(8,"input",4),pe(9,F_e,2,0,"mat-error",3),O(),k(10,"div",5)(11,"button",6),x(12,"Login"),O()(),k(13,"span",5),x(14,"New to our platform? "),k(15,"a",7),x(16," Sign up!"),O()()()()),2&t&&(G(3),H("formGroup",r.loginForm),G(3),H("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),G(3),H("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required))},dependencies:[bi,dm,j_,Hq,_M,vM,L_,Bc,T_,S_,La,Bh],styles:[".sign-up-link[_ngcontent-%COMP%]{font-size:1.2rem;margin-left:8px}"]}),n})();function V_e(n,e){1&n&&(k(0,"mat-error"),x(1," Name is required "),O())}function B_e(n,e){1&n&&(k(0,"mat-error"),x(1," Email address is required "),O())}function U_e(n,e){1&n&&(k(0,"mat-error"),x(1," Please enter a valid email address "),O())}function j_e(n,e){1&n&&(k(0,"mat-error"),x(1," Password is required "),O())}function H_e(n,e){1&n&&(k(0,"mat-error"),x(1," Confirm Password is required "),O())}function $_e(n,e){1&n&&(k(0,"mat-error"),x(1," Passwords should match "),O())}let q_e=(()=>{class n{constructor(t,r,i,s,o){this.authService=t,this.router=r,this.toast=i,this.fb=s,this.usersService=o,this.signUpForm=this.fb.group({name:["",bs.required],email:["",[bs.required,bs.email]],password:["",bs.required],confirmPassword:["",bs.required]},{validators:n=>{const e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e&&t&&e!==t?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get name(){return this.signUpForm.get("name")}submit(){const{name:t,email:r,password:i}=this.signUpForm.value;!this.signUpForm.valid||!t||!i||!r||this.authService.signUp(r,i).pipe(Un(({user:{uid:s}})=>this.usersService.addUser({uid:s,email:r,displayName:t})),this.toast.observe({success:"Congrats! You are all signed up",loading:"Signing up...",error:({message:s})=>`${s}`})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(v(Rh),v(xt),v(JA),v(QA),v(C_))},n.\u0275cmp=nt({type:n,selectors:[["app-sign-up"]],decls:21,vars:7,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Email address","formControlName","email"],["matInput","","type","password","placeholder","Password","formControlName","password"],["matInput","","type","password","placeholder","Confirm Password","formControlName","confirmPassword"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"]],template:function(t,r){1&t&&(k(0,"div",0)(1,"h1"),x(2,"Sign Up a New User!"),O(),k(3,"form",1),Ye("ngSubmit",function(){return r.submit()}),k(4,"mat-form-field"),we(5,"input",2),pe(6,V_e,2,0,"mat-error",3),O(),k(7,"mat-form-field"),we(8,"input",4),pe(9,B_e,2,0,"mat-error",3),pe(10,U_e,2,0,"mat-error",3),O(),k(11,"mat-form-field"),we(12,"input",5),pe(13,j_e,2,0,"mat-error",3),O(),k(14,"mat-form-field"),we(15,"input",6),pe(16,H_e,2,0,"mat-error",3),O(),pe(17,$_e,2,0,"mat-error",3),k(18,"div",7)(19,"button",8),x(20,"Sign Up!"),O()()()()),2&t&&(G(3),H("formGroup",r.signUpForm),G(3),H("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),G(3),H("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),G(1),H("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),G(3),H("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),G(3),H("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),G(1),H("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch))},dependencies:[bi,j_,Hq,_M,vM,L_,Bc,T_,S_,La,Bh]}),n})();const G_e=_f,K_e=Symbol("__destroy"),Yq=Symbol("__decoratorApplied");function Qq(n){return"string"==typeof n?Symbol(`__destroy__${n}`):K_e}function Xq(n,e){n[e]||(n[e]=new Ce)}function Zq(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function Jq(n){n instanceof dt&&n.unsubscribe()}function eG(n,e){return function(){if(n&&n.call(this),Zq(this,Qq()),e.arrayName&&function Q_e(n){Array.isArray(n)&&n.forEach(Jq)}(this[e.arrayName]),e.checkProperties)for(const t in this)e.blackList?.includes(t)||Jq(this[t])}}Symbol("CheckerHasBeenSet");const iG="firebasestorage.googleapis.com",sG="storageBucket";class bt extends Er{constructor(e,t,r=0){super(wM(e),`Firebase Storage: ${t} (${wM(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var tt=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(tt||(tt={})),tt))();function wM(n){return"storage/"+n}function EM(){return new bt(tt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function CM(n){return new bt(tt.INVALID_ARGUMENT,n)}function cG(){return new bt(tt.APP_DELETED,"The Firebase app was deleted.")}function qh(n,e){return new bt(tt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Gh(n){throw new bt(tt.INTERNAL_ERROR,"Internal error: "+n)}class Gn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Gn.makeFromUrl(e,t)}catch{return new Gn(e,"")}if(""===r.path)return r;throw function mye(n){return new bt(tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(T){T.path_=decodeURIComponent(T.path)}const d=t.replace(/[.]/g,"\\."),y=[{regex:a,indices:{bucket:1,path:3},postModify:function s(T){"/"===T.path.charAt(T.path.length-1)&&(T.path_=T.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===iG?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<y.length;T++){const P=y[T],V=P.regex.exec(e);if(V){let Qe=V[P.indices.path];Qe||(Qe=""),r=new Gn(V[P.indices.bucket],Qe),P.postModify(r);break}}if(null==r)throw function pye(n){return new bt(tt.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class wye{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function q_(n){return"string"==typeof n||n instanceof String}function uG(n){return IM()&&n instanceof Blob}function IM(){return typeof Blob<"u"&&!function UL(){var n;const e=null===(n=gm())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function DM(n,e,t,r){if(r<e)throw CM(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw CM(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ds(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function dG(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var mo=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(mo||(mo={})),mo))();class Sye{constructor(e,t,r,i,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function Iye(n){return void 0!==n}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=EM();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(i.canceled?this.appDelete_?cG():function aG(){return new bt(tt.CANCELED,"User canceled the upload/download.")}():function oG(){return new bt(tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new G_(!1,null,!0)):this.backoffId_=function Eye(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,n(f,l())},_)}function h(){s&&clearTimeout(s)}function f(_,...b){if(c)return void h();if(_)return h(),void u.call(null,_,...b);if(l()||o)return h(),void u.call(null,_,...b);let y;r<64&&(r*=2),1===a?(a=2,y=0):y=1e3*(r+Math.random()),d(y)}let p=!1;function m(_){p||(p=!0,h(),!c&&(null!==i?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},t),m}((r,i)=>{if(i)return void r(!1,new G_(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===mo.NO_ERROR,l=s.getStatus();if(!a||function hG(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===mo.ABORT;return void r(!1,new G_(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);r(!0,new G_(c,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Cye(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class G_{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Nye(...n){const e=function Oye(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(IM())return new Blob(n);throw new bt(tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}class TM{constructor(e,t){this.data=e,this.contentType=t||null}}function pG(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function mG(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw qh(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw qh(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Fye(n){if(typeof atob>"u")throw function vye(n){return new bt(tt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:qh(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class gG{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw qh("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function Uye(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Ts{constructor(e,t){let r=0,i="";uG(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(uG(this.data_)){const i=function Pye(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Ts(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ts(r,!0)}}static getBlob(...e){if(IM()){const t=e.map(r=>r instanceof Ts?r.data_:r);return new Ts(Nye.apply(null,t))}{const t=e.map(o=>q_(o)?function fG(n,e){switch(n){case"raw":return new TM(pG(e));case"base64":case"base64url":return new TM(mG(n,e));case"data_url":return new TM(function Vye(n){const e=new gG(n);return e.base64?mG("base64",e.rest):function Lye(n){let e;try{e=decodeURIComponent(n)}catch{throw qh("data_url","Malformed data URL.")}return pG(e)}(e.rest)}(e),function Bye(n){return new gG(n).contentType}(e))}throw EM()}("raw",o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ts(i,!0)}}uploadData(){return this.data_}}function SM(n){let e;try{e=JSON.parse(n)}catch{return null}return function Tye(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function _G(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function $ye(n,e){return e}class Wn{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||$ye}}let W_=null;function Wh(){if(W_)return W_;const n=[];n.push(new Wn("bucket")),n.push(new Wn("generation")),n.push(new Wn("metageneration")),n.push(new Wn("name","fullPath",!0));const t=new Wn("name");t.xform=function e(s,o){return function zye(n){return!q_(n)||n.length<2?n:_G(n)}(o)},n.push(t);const i=new Wn("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new Wn("timeCreated")),n.push(new Wn("updated")),n.push(new Wn("md5Hash",null,!0)),n.push(new Wn("cacheControl",null,!0)),n.push(new Wn("contentDisposition",null,!0)),n.push(new Wn("contentEncoding",null,!0)),n.push(new Wn("contentLanguage",null,!0)),n.push(new Wn("contentType",null,!0)),n.push(new Wn("metadata","customMetadata",!0)),W_=n,W_}function yG(n,e,t){const r=SM(e);return null===r?null:function Gye(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function qye(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Gn(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}class Ni{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Pi(n){if(!n)throw EM()}function $c(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function hye(){return new bt(tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function dye(){return new bt(tt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function uye(n){return new bt(tt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function fye(n){return new bt(tt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function IG(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let y="";for(let T=0;T<2;T++)y+=Math.random().toString().slice(2);return y}();o["Content-Type"]="multipart/related; boundary="+l;const c=function CG(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function nve(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),u=function AM(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}(c,t),f=Ts.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===f)throw function lG(){return new bt(tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const p={name:c.fullPath},m=Ds(s,n.host,n._protocol),b=n.maxUploadRetryTime,C=new Ni(m,"POST",function K_(n,e){return function t(r,i){const s=yG(n,i,e);return Pi(null!==s),s}}(n,t),b);return C.urlParams=p,C.headers=o,C.body=f.uploadData(),C.errorHandler=$c(e),C}class lve extends class ave{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Gh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ai(){return new lve}class ja{constructor(e,t){this._service=e,this._location=t instanceof Gn?t:Gn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ja(e,t)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _G(this._location.path)}get storage(){return this._service}get parent(){const e=function jye(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Gn(this._location.bucket,e);return new ja(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function bye(n){return new bt(tt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function wve(n){n._throwIfRoot("getDownloadURL");const e=function Jye(n,e,t){const i=Ds(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new Ni(i,"GET",function Xye(n,e){return function t(r,i){const s=yG(n,i,e);return Pi(null!==s),function Wye(n,e,t,r){const i=SM(e);if(null===i||!q_(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=n.fullPath;return Ds("/b/"+o(n.bucket)+"/o/"+o(d),t,r)+dG({alt:"media",token:c})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return a.errorHandler=function Kh(n){const e=$c(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function cye(n){return new bt(tt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}(e),a}(n.storage,n._location,Wh());return n.storage.makeRequestWithTokens(e,ai).then(t=>{if(null===t)throw function yye(){return new bt(tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function kG(n,e){if(n instanceof RM){const t=n;if(null==t._bucket)throw function gye(){return new bt(tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sG+"' property when initializing the app?")}();const r=new ja(t,t._bucket);return null!=e?kG(r,e):r}return void 0!==e?function xG(n,e){const t=function Hye(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Gn(n._location.bucket,t);return new ja(n.storage,r)}(n,e):n}function RG(n,e){const t=e?.[sG];return null==t?null:Gn.makeFromBucketSpec(t,n)}class RM{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=iG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Gn.makeFromBucketSpec(i,this._host):RG(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Gn.makeFromBucketSpec(this._url,e):RG(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ja(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new wye(cG());{const o=function Rye(n,e,t,r,i,s,o=!0){const a=dG(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function xye(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function Aye(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function Mye(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function kye(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,r),new Sye(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return g(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const OG="@firebase/storage",PG="storage";function Sve(n,e,t){return function SG(n,e,t){n._throwIfRoot("uploadBytes");const r=IG(n.storage,n._location,Wh(),new Ts(e,!0),t);return n.storage.makeRequestWithTokens(r,ai).then(i=>({metadata:i,ref:n}))}(n=yt(n),e,t)}function Ave(n){return wve(n=yt(n))}function Mve(n,e){return function Dve(n,e){if(e&&function Cve(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof RM)return function Ive(n,e){return new ja(n,e)}(n,e);throw CM("To use ref(service, url), the first argument must be a Storage instance.")}return kG(n,e)}(n=yt(n),e)}function xve(n=Im(),e){const r=Jo(n=yt(n),PG).getImmediate({identifier:e}),i=LL("storage");return i&&function kve(n,e,t,r={}){!function Tve(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:BL(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function Rve(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new RM(t,r,i,e,ea)}!function Ove(){An(new cn(PG,Rve,"PUBLIC").setMultipleInstances(!0)),it(OG,"0.11.1",""),it(OG,"0.11.1","esm2017")}();class Q_{constructor(e){return e}}const FG="storage",OM=new R("angularfire2.storage-instances");function Fve(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Q_(r)}}const Lve={provide:class Nve{constructor(){return Nm(FG)}},deps:[[new lt,OM]]},Vve={provide:Q_,useFactory:function Pve(n,e){const t=Om(FG,n,e);return t&&new Q_(t)},deps:[[new lt,OM],aa]};let Bve=(()=>{class n{constructor(){it("angularfire",md.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({providers:[Vve,Lve]}),n})();function Uve(n,...e){return{ngModule:Bve,providers:[{provide:OM,useFactory:Fve(n),multi:!0,deps:[me,At,Pm,Fm,[new lt,AD],[new lt,$m],...e]}]}}const jve=Mn(Ave,!0),Hve=Mn(xve,!0),$ve=Mn(Mve,!0),zve=Mn(Sve,!0);let qve=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,r){const i=$ve(this.storage,r);return qe(zve(i,t)).pipe(Un(o=>jve(o.ref)))}}return n.\u0275fac=function(t){return new(t||n)(I(Q_))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Gve{}class go{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof go?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new go;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof go?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Wve{encodeKey(e){return LG(e)}encodeValue(e){return LG(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Yve=/%(\d[a-f0-9])/gi,Qve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function LG(n){return encodeURIComponent(n).replace(Yve,(e,t)=>Qve[t]??e)}function X_(n){return`${n}`}class _o{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Wve,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Kve(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(X_):[X_(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new _o({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(X_(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(X_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Xve{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function VG(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function BG(n){return typeof Blob<"u"&&n instanceof Blob}function UG(n){return typeof FormData<"u"&&n instanceof FormData}class Yh{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Zve(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new go),this.context||(this.context=new Xve),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new _o,this.urlWithParams=t}serializeBody(){return null===this.body?null:VG(this.body)||BG(this.body)||UG(this.body)||function Jve(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _o?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||UG(this.body)?null:BG(this.body)?this.body.type||null:VG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _o?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Yh(t,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var yn=(()=>((yn=yn||{})[yn.Sent=0]="Sent",yn[yn.UploadProgress=1]="UploadProgress",yn[yn.ResponseHeader=2]="ResponseHeader",yn[yn.DownloadProgress=3]="DownloadProgress",yn[yn.Response=4]="Response",yn[yn.User=5]="User",yn))();class NM extends class ebe{constructor(e,t=200,r="OK"){this.headers=e.headers||new go,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=yn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new NM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function PM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let HG=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Yh)s=t;else{let l,c;l=i.headers instanceof go?i.headers:new go(i.headers),i.params&&(c=i.params instanceof _o?i.params:new _o({fromObject:i.params})),s=new Yh(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=q(s).pipe(wi(l=>this.handler.handle(l)));if(t instanceof Yh||"events"===i.observe)return o;const a=o.pipe(an(l=>l instanceof NM));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ee(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ee(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ee(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ee(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new _o).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,PM(i,r))}post(t,r,i={}){return this.request("POST",t,PM(i,r))}put(t,r,i={}){return this.request("PUT",t,PM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(I(Gve))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const nbe=["*"];let Z_;function Qh(n){return function rbe(){if(void 0===Z_&&(Z_=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Z_=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Z_}()?.createHTML(n)||n}function $G(n){return Error(`Unable to find icon with the name "${n}"`)}function zG(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function qG(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ha{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let J_=(()=>{class n{constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Ha(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){const o=this._sanitizer.sanitize(Fe.HTML,i);if(!o)throw qG(i);const a=Qh(o);return this._addSvgIconConfig(t,r,new Ha("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Ha(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const s=this._sanitizer.sanitize(Fe.HTML,r);if(!s)throw qG(r);const o=Qh(s);return this._addSvgIconSetConfig(t,new Ha("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Fe.RESOURCE_URL,t);if(!r)throw zG(t);const i=this._cachedIconsByUrl.get(r);return i?q(ey(i)):this._loadSvgIconFromConfig(new Ha(t,null)).pipe(_t(s=>this._cachedIconsByUrl.set(r,s)),ee(s=>ey(s)))}getNamedSvgIcon(t,r=""){const i=GG(r,t);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):jl($G(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?q(ey(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ee(r=>ey(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?q(i):ez(r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(es(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Fe.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),q(null)})))).pipe(ee(()=>{const o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw $G(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(_t(r=>t.svgText=r),ee(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?q(null):this._fetchIcon(t).pipe(_t(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const s=t.querySelector(`[id="${r}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,i);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),i);const a=this._svgElementFromString(Qh("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Qh("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){const{name:o,value:a}=i[s];"id"!==o&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw function ibe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const o=this._sanitizer.sanitize(Fe.RESOURCE_URL,r);if(!o)throw zG(r);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(ee(c=>Qh(c)),qp(()=>this._inProgressUrlFetches.delete(o)),Ux());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(GG(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,t);if(s)return obe(s)?new Ha(s.url,null,s.options):new Ha(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(I(HG,8),I(Pw),I(ve,8),I(Gi))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ey(n){return n.cloneNode(!0)}function GG(n,e){return n+":"+e}function obe(n){return!(!n.url||!n.options)}const abe=U_(class{constructor(n){this._elementRef=n}}),lbe=new R("mat-icon-location",{providedIn:"root",factory:function cbe(){const n=rt(ve),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),WG=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ube=WG.map(n=>`[${n}]`).join(", "),dbe=/^url\(['"]?#(.*?)['"]?\)$/;let KG=(()=>{class n extends abe{constructor(t,r,i,s,o){super(t),this._iconRegistry=r,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=dt.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Oi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let s=0;s<r.length;s++)r[s].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(ube),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)WG.forEach(o=>{const a=r[s],l=a.getAttribute(o),c=l?l.match(dbe):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(tr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(v(He),v(J_),Mo("aria-hidden"),v(lbe),v(Gi))},n.\u0275cmp=nt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(Lt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),Jn("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ye],ngContentSelectors:nbe,decls:1,vars:0,template:function(t,r){1&t&&(Bs(),Dn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),hbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[[Ar],Ar]}),n})();function fbe(n,e){if(1&n){const t=Ol();k(0,"div",1)(1,"h1"),x(2,"User Profile"),O(),k(3,"div",2),we(4,"img",3),k(5,"button",4),Ye("click",function(){return mr(t),gr(Rl(9).click())}),k(6,"mat-icon"),x(7,"edit"),O()()(),k(8,"input",5,6),Ye("change",function(i){const o=mr(t).ngIf;return gr(xe().uploadImage(i,o))}),O(),k(10,"form",7),Ye("ngSubmit",function(){return mr(t),gr(xe().saveProfile())}),k(11,"div",8)(12,"mat-form-field"),we(13,"input",9),O(),k(14,"mat-form-field"),we(15,"input",10),O()(),k(16,"div",8)(17,"mat-form-field"),we(18,"input",11),O(),k(19,"mat-form-field"),we(20,"input",12),O()(),k(21,"mat-form-field"),we(22,"input",13),O(),k(23,"button",14),x(24," Save "),O()()()}if(2&n){const t=e.ngIf,r=xe();let i;G(4),H("src",null!==(i=t.photoURL)&&void 0!==i?i:"assets/images/images-placeholder.png",bu),G(6),H("formGroup",r.profileForm)}}let $a=class{constructor(e,t,r,i,s){this.authService=e,this.imageUploadService=t,this.toast=r,this.fb=i,this.usersService=s,this.user$=this.usersService.currentUserProfile$,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],phone:[""],address:[""]})}ngOnInit(){this.usersService.currentUserProfile$.pipe(function iye(n,e){return t=>{const r=Qq(e);return"string"==typeof e?function rye(n,e,t){const r=n[e];Xq(n,t),n[e]=function(){r.apply(this,arguments),Zq(this,t),n[e]=r}}(n,e,r):Xq(n,r),t.pipe(po(n[r]))}}(this),_t(console.log)).subscribe(e=>{this.profileForm.patchValue({...e})})}uploadImage(e,t){this.imageUploadService.uploadImage(e.target.files[0],`images/profiles/${t.uid}`).pipe(this.toast.observe({loading:"Uploading profile image...",success:"Image uploaded successfully",error:"There was an error in uploading the image"}),wi(r=>this.usersService.updateUser({uid:t.uid,photoURL:r}))).subscribe()}saveProfile(){const{uid:e,...t}=this.profileForm.value;!e||this.usersService.updateUser({uid:e,...t}).pipe(this.toast.observe({loading:"Saving profile data...",success:"Profile updated successfully",error:"There was an error in updating the profile"})).subscribe()}};$a.\u0275fac=function(e){return new(e||$a)(v(Rh),v(qve),v(JA),v(QA),v(C_))},$a.\u0275cmp=nt({type:$a,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[1,"profile-image"],["width","120","height","120","alt","User Picture",3,"src"],["mat-mini-fab","",3,"click"],["type","file","hidden","",3,"change"],["inputField",""],[1,"margin-top",3,"formGroup","ngSubmit"],[1,"row"],["type","text","matInput","","formControlName","firstName","placeholder","First Name"],["type","text","matInput","","formControlName","lastName","placeholder","Last Name"],["type","text","matInput","","formControlName","displayName","placeholder","Display Name"],["type","number","matInput","","formControlName","phone","placeholder","Phone"],["type","text","matInput","","formControlName","address","placeholder","Address"],["type","submit","mat-raised-button","","color","primary",1,"margin-top"]],template:function(e,t){1&e&&(pe(0,fbe,25,2,"div",0),Fu(1,"async")),2&e&&H("ngIf",Lu(1,1,t.user$))},dependencies:[bi,KG,j_,_M,vM,L_,Bc,HA,T_,S_,La,Bh,Pp],styles:[".profile-image[_ngcontent-%COMP%]{position:relative;width:120px;margin:auto}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center}.profile-image[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:0}.form-container[_ngcontent-%COMP%]{max-width:400px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}"]}),$a=Dx([function J_e(n={}){return e=>{!function W_e(n){return!!n[G_e]}(e)?function X_e(n,e){n.prototype.ngOnDestroy=eG(n.prototype.ngOnDestroy,e)}(e,n):function Z_e(n,e){const t=n.\u0275pipe;t.onDestroy=eG(t.onDestroy,e)}(e,n),function Y_e(n){n.prototype[Yq]=!0}(e)}}()],$a);const FM=ee(n=>!!n);let pbe=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,s)=>{const o=i.data.authGuardPipe||(()=>FM);return lce(this.auth).pipe(tr(1),o(i,s),ee(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(t){return new(t||n)(I(xt),I(kd))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const ty=n=>({canActivate:[pbe],data:{authGuardPipe:n}}),YG=()=>(n=>My(FM,ee(e=>e||n)))(["login"]),QG=()=>(n=>My(FM,ee(e=>e&&n||!0)))(["home"]),ybe=[{path:"",pathMatch:"full",component:cpe},{path:"login",component:L_e,...ty(QG)},{path:"sign-up",component:q_e,...ty(QG)},{path:"home",component:lpe,...ty(YG)},{path:"profile",component:$a,...ty(YG)}];let vbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[kL.forRoot(ybe),kL]}),n})();const bbe=["*",[["mat-toolbar-row"]]],wbe=["*","mat-toolbar-row"],Ebe=U_(class{constructor(n){this._elementRef=n}});let LM,Cbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Ibe=(()=>{class n extends Ebe{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(v(He),v(Sr),v(ve))},n.\u0275cmp=nt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&Tn(i,Cbe,5),2&t){let s;pt(s=mt())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Jn("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[ye],ngContentSelectors:wbe,decls:2,vars:0,template:function(t,r){1&t&&(Bs(bbe),Dn(0),Dn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Dbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[[Ar],Ar]}),n})(),Tbe=1;const ny={};function XG(n){return n in ny&&(delete ny[n],!0)}const Sbe={setImmediate(n){const e=Tbe++;return ny[e]=!0,LM||(LM=Promise.resolve()),LM.then(()=>XG(e)&&n()),e},clearImmediate(n){XG(n)}},{setImmediate:Abe,clearImmediate:Mbe}=Sbe,ry={setImmediate(...n){const{delegate:e}=ry;return(e?.setImmediate||Abe)(...n)},clearImmediate(n){const{delegate:e}=ry;return(e?.clearImmediate||Mbe)(n)},delegate:void 0},VM=new class kbe extends Rm{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class xbe extends km{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=ry.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(ry.clearImmediate(t),e._scheduled=void 0)}});function ZG(n,e){return e?t=>$p(e.pipe(tr(1),function Rbe(){return ht((n,e)=>{n.subscribe(Xe(e,af))})}()),t.pipe(ZG(n))):St((t,r)=>n(t,r).pipe(tr(1),TF(t)))}function JG(n=0,e,t=pse){let r=-1;return null!=e&&(Lx(e)?t=e:r=e),new Le(i=>{let s=function Obe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function e3(n,e=pd){const t=JG(n,e);return ZG(()=>t)}class BM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Nbe extends BM{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class t3 extends BM{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Pbe extends BM{constructor(e){super(),this.element=e instanceof He?e.nativeElement:e}}class Lbe extends class Fbe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Nbe?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof t3?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Pbe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Vbe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({}),n})();const Xh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Xh;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new dt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Xh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Xh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Ube extends Rm{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Bbe extends km{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Xh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Xh.cancelAnimationFrame(t),e._scheduled=void 0)}});function n3(n,e=pd){return function Hbe(n){return ht((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(Xe(t,c=>{r=!0,i=c,s||vn(n(c)).subscribe(s=Xe(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>JG(n,e))}let zbe=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ce,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Le(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(n3(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):q()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(an(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Es(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>H_(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(I(me),I(Sr),I(ve,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r3=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ce,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(n3(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(I(Sr),I(me),I(ve,8))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({}),n})(),s3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({imports:[[Hh,rM,UM],Hh,UM]}),n})();const o3=hge();class Gbe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ht(-this._previousScrollPosition.left),e.style.top=Ht(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),o3&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),o3&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Wbe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class a3{enable(){}disable(){}attach(){}}function jM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function l3(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Kbe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();jM(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ybe=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new a3,this.close=o=>new Wbe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Gbe(this._viewportRuler,this._document),this.reposition=o=>new Kbe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(I(zbe),I(r3),I(me),I(ve))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class c3{constructor(e){if(this.scrollStrategy=new a3,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Qbe{constructor(e,t,r,i,s){this.offsetX=r,this.offsetY=i,this.panelClass=s,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class Xbe{}let Zbe=(()=>{let n=class{constructor(t,r){this.connectionPair=t,this.scrollableViewProperties=r}};return n=Dx([yW(1,lt()),vW("design:paramtypes",[Qbe,Xbe])],n),n})(),u3=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(I(ve))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jbe=(()=>{class n extends u3{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){i[s]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(I(ve))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ewe=(()=>{class n extends u3{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=Ua(i)},this._clickListener=i=>{const s=Ua(i),o="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let l=a.length-1;l>-1;l--){const c=a[l];if(!(c._outsidePointerEvents.observers.length<1)&&c.hasAttached()){if(c.overlayElement.contains(s)||c.overlayElement.contains(o))break;c._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(I(ve),I(Sr))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d3=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||sM()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),sM()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(I(ve),I(Sr))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class twe{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ce,this._attachments=new Ce,this._detachments=new Ce,this._locationChanges=dt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new Ce,this._outsidePointerEvents=new Ce,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(tr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ht(this._config.width),e.height=Ht(this._config.height),e.minWidth=Ht(this._config.minWidth),e.minHeight=Ht(this._config.minHeight),e.maxWidth=Ht(this._config.maxWidth),e.maxHeight=Ht(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=_q(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(po(Xa(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const h3="cdk-overlay-connected-position-bounding-box",nwe=/([A-Za-z%]+)$/;class rwe{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ce,this._resizeSubscription=dt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(h3),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,o),l=this._getOverlayPoint(a,t,o),c=this._getOverlayFit(l,t,r,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,l,r)?i.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:a,position:o,overlayRect:t})}if(i.length){let o=null,a=-1;for(const l of i){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&za(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(h3),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;r="start"==t.originX?s:o}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=p3(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),m=this._subtractOverflows(s.height,h,f),_=p*m;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=f3(this._overlayRef.getConfig().minHeight),a=f3(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=p3(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Zbe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Ht(r.height),i.top=Ht(r.top),i.bottom=Ht(r.bottom),i.width=Ht(r.width),i.left=Ht(r.left),i.right=Ht(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Ht(s)),o&&(i.maxWidth=Ht(o))}this._lastBoundingBoxSize=r,za(this._boundingBox.style,i)}_resetBoundingBoxStyles(){za(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){za(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();za(r,this._getExactOverlayY(t,e,u)),za(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Ht(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Ht(o.maxWidth):s&&(r.maxWidth="")),za(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Ht(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Ht(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:l3(e,r),isOriginOutsideView:jM(e,r),isOverlayClipped:l3(t,r),isOverlayOutsideView:jM(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&_q(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof He)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function za(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function f3(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(nwe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function p3(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const m3="cdk-global-overlay-wrapper";class iwe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(m3),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(m3),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let swe=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new iwe}flexibleConnectedTo(t){return new rwe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(I(r3),I(ve),I(Sr),I(d3))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),owe=0,iy=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new c3(t);return o.direction=o.direction||this._directionality.value,new twe(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+owe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Bo)),new Lbe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(I(Ybe),I(d3),I(No),I(swe),I(Jbe),I(At),I(me),I(ve),I(uM),I(Dp),I(ewe))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const cwe={provide:new R("cdk-connected-overlay-scroll-strategy"),deps:[iy],useFactory:function lwe(n){return()=>n.scrollStrategies.reposition()}};let uwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({providers:[iy,cwe],imports:[[Hh,Vbe,s3],s3]}),n})();const dwe=["mat-menu-item",""];function hwe(n,e){1&n&&(function fk(){se.lFrame.currentNamespace="svg"}(),k(0,"svg",2),we(1,"polygon",3),O())}const g3=["*"];function fwe(n,e){if(1&n){const t=Ol();k(0,"div",0),Ye("keydown",function(i){return mr(t),gr(xe()._handleKeydown(i))})("click",function(){return mr(t),gr(xe().closed.emit("click"))})("@transformMenu.start",function(i){return mr(t),gr(xe()._onAnimationStart(i))})("@transformMenu.done",function(i){return mr(t),gr(xe()._onAnimationDone(i))}),k(1,"div",1),Dn(2),O()()}if(2&n){const t=xe();H("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Lt("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const sy={transformMenu:fM("transformMenu",[pM("void",Is({opacity:0,transform:"scale(0.8)"})),z_("void => enter",$_("120ms cubic-bezier(0, 0, 0.2, 1)",Is({opacity:1,transform:"scale(1)"}))),z_("* => void",$_("100ms 25ms linear",Is({opacity:0})))]),fadeInItems:fM("fadeInItems",[pM("showing",Is({opacity:1})),z_("void => *",[Is({opacity:0}),$_("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},pwe=new R("MatMenuContent"),HM=new R("MAT_MENU_PANEL"),mwe=Mq(Aq(class{}));let oy=(()=>{class n extends mwe{constructor(t,r,i,s,o){super(),this._elementRef=t,this._focusMonitor=i,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this._hovered=new Ce,this._focused=new Ce,this._highlighted=!1,this._triggersSubmenu=!1,s&&s.addItem&&s.addItem(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(v(He),v(ve),v(lM),v(HM,8),v(Uo))},n.\u0275cmp=nt({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,r){1&t&&Ye("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(Lt("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),Jn("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[ye],attrs:dwe,ngContentSelectors:g3,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(Bs(),Dn(0),we(1,"div",0),pe(2,hwe,2,0,"svg",1)),2&t&&(G(1),H("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),G(1),H("ngIf",r._triggersSubmenu))},dependencies:[hM,bi],encapsulation:2,changeDetection:0}),n})();const _3=new R("mat-menu-default-options",{providedIn:"root",factory:function gwe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let _we=0,Zh=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Ll,this._tabSubscription=dt.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Ce,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Be,this.close=this.closed,this.panelId="mat-menu-panel-"+_we++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Oi(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Oi(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new yge(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe($o(this._directDescendantItems),Un(t=>Xa(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe($o(this._directDescendantItems),Un(r=>Xa(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:mq(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===r||40===r)&&i.setFocusOrigin("keyboard"),i.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(tr(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const r=this._keyManager;if(r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&this._directDescendantItems.length){let i=this._directDescendantItems.first._getHostElement().parentElement;for(;i;){if("menu"===i.getAttribute("role")){i.focus();break}i=i.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===t,i["mat-menu-after"]="after"===t,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe($o(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(v(He),v(me),v(_3))},n.\u0275dir=K({type:n,contentQueries:function(t,r,i){if(1&t&&(Tn(i,pwe,5),Tn(i,oy,5),Tn(i,oy,4)),2&t){let s;pt(s=mt())&&(r.lazyContent=s.first),pt(s=mt())&&(r._allItems=s),pt(s=mt())&&(r.items=s)}},viewQuery:function(t,r){if(1&t&&js(Fr,5),2&t){let i;pt(i=mt())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),ywe=(()=>{class n extends Zh{constructor(t,r,i){super(t,r,i),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(v(He),v(me),v(_3))},n.\u0275cmp=nt({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&Lt("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[$e([{provide:HM,useExisting:n}]),ye],ngContentSelectors:g3,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&(Bs(),pe(0,fwe,3,6,"ng-template"))},dependencies:[bw],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[sy.transformMenu,sy.fadeInItems]},changeDetection:0}),n})();const y3=new R("mat-menu-scroll-strategy"),bwe={provide:y3,deps:[iy],useFactory:function vwe(n){return()=>n.scrollStrategies.reposition()}},b3=jh({passive:!0});let wwe=(()=>{class n{constructor(t,r,i,s,o,a,l,c){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=dt.EMPTY,this._hoverSubscription=dt.EMPTY,this._menuCloseSubscription=dt.EMPTY,this._handleTouchStart=u=>{aM(u)||(this._openedBy="touch")},this._openedBy=void 0,this._ariaHaspopup=!0,this.restoreFocus=!0,this.menuOpened=new Be,this.onMenuOpen=this.menuOpened,this.menuClosed=new Be,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof Zh?o:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,b3),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _ariaExpanded(){return this.menuOpen||null}get _ariaControl(){return this.menuOpen?this.menu.panelId:null}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,b3),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),r=t.getConfig();this._setPosition(r.positionStrategy),r.hasBackdrop=this.menu.hasBackdrop??!this.triggersSubmenu(),t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Zh&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Zh?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(an(i=>"void"===i.toState),tr(1),po(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r.lazyContent&&r.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,r=this.menu.parentMenu;for(;r;)t++,r=r.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new c3({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(r=>{this.menu.setPositionClasses("start"===r.connectionPair.overlayX?"after":"before","top"===r.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[r,i]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,o]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[a,l]=[s,o],[c,u]=[r,i],d=0;this.triggersSubmenu()?(u=r="before"===this.menu.xPosition?"start":"end",i=c="end"===r?"start":"end",d="bottom"===s?8:-8):this.menu.overlapTrigger||(a="top"===s?"bottom":"top",l="top"===o?"bottom":"top"),t.withPositions([{originX:r,originY:a,overlayX:c,overlayY:s,offsetY:d},{originX:i,originY:a,overlayX:u,overlayY:s,offsetY:d},{originX:r,originY:l,overlayX:c,overlayY:o,offsetY:-d},{originX:i,originY:l,overlayX:u,overlayY:o,offsetY:-d}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return Xa(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:q(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(an(o=>o!==this._menuItemInstance),an(()=>this._menuOpen)):q(),r)}_handleMousedown(t){oM(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(an(t=>t===this._menuItemInstance&&!t.disabled),e3(0,VM)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Zh&&this.menu._isAnimating?this.menu._animationDone.pipe(tr(1),e3(0,VM),po(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new t3(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(v(iy),v(He),v(wr),v(y3),v(HM,8),v(oy,10),v(uM,8),v(lM))},n.\u0275dir=K({type:n,hostVars:3,hostBindings:function(t,r){1&t&&Ye("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)})("click",function(s){return r._handleClick(s)}),2&t&&Lt("aria-expanded",r._ariaExpanded)("aria-controls",r._ariaControl)("aria-haspopup",r._ariaHaspopup)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),Ewe=(()=>{class n extends wwe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=on(n)))(r||n)}}(),n.\u0275dir=K({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[ye]}),n})(),Cwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({providers:[bwe],imports:[[Tw,Ar,Nq,uwe],UM,Ar]}),n})();function Iwe(n,e){if(1&n&&(Ls(0),k(1,"button",8),we(2,"img",9),x(3),k(4,"mat-icon"),x(5,"expand_more"),O()(),Vs()),2&n){const t=e.ngIf;xe();const r=Rl(9);let i;G(1),H("mat-menu-trigger-for",r),G(1),H("src",null!==(i=t.photoURL)&&void 0!==i?i:"assets/images/images-placeholder.png",bu),G(1),_i(" ",t.displayName," ")}}function Dwe(n,e){1&n&&(k(0,"button",10)(1,"mat-icon"),x(2,"login"),O(),x(3," Login "),O())}let Twe=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.usersService=i,this.user$=this.usersService.currentUserProfile$}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(v(Rh),v(xt),v(C_))},n.\u0275cmp=nt({type:n,selectors:[["app-root"]],decls:16,vars:4,consts:[["color","primary"],[4,"ngIf","ngIfElse"],["loginButton",""],[1,"content"],["userMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","profile"],["mat-menu-item","","routerLink","home"],["mat-button","",3,"mat-menu-trigger-for"],["width","30","height","30",1,"profile-image-toolbar",3,"src"],["mat-button","","routerLink","login"]],template:function(t,r){if(1&t&&(k(0,"mat-toolbar",0),x(1," Sign up Flow with Firebase "),pe(2,Iwe,6,3,"ng-container",1),Fu(3,"async"),pe(4,Dwe,4,0,"ng-template",null,2,pp),O(),k(6,"div",3),we(7,"router-outlet"),O(),k(8,"mat-menu",null,4)(10,"button",5),Ye("click",function(){return r.logout()}),x(11,"Logout"),O(),k(12,"button",6),x(13,"Profile"),O(),k(14,"button",7),x(15,"Home"),O()()),2&t){const i=Rl(5);G(2),H("ngIf",Lu(3,2,r.user$))("ngIfElse",i)}},dependencies:[bi,eE,um,Ibe,KG,j_,ywe,oy,Ewe,Pp],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between}.content[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px}"]}),n})();function w3(n){return new D(3e3,!1)}function aEe(){return typeof window<"u"&&typeof window.document<"u"}function $M(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function yo(n){switch(n.length){case 0:return new zh;case 1:return n[0];default:return new Uq(n)}}function E3(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,m)=>{let _=m,b=p;if("offset"!==m)switch(_=e.normalizePropertyName(_,o),b){case"!":b=i.get(m);break;case Cs:b=s.get(m);break;default:b=e.normalizeStyleValue(m,_,b,o)}f.set(_,b)}),h||a.push(f),c=f,l=d}),o.length)throw function Ywe(n){return new D(3502,!1)}();return a}function zM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&qM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&qM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&qM(t,"destroy",n)))}}function qM(n,e,t){const s=GM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function GM(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Mr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function C3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let WM=(n,e)=>!1,I3=(n,e,t)=>[],D3=null;function KM(n){const e=n.parentNode||n.host;return e===D3?null:e}($M()||typeof Element<"u")&&(aEe()?(D3=(()=>document.documentElement)(),WM=(n,e)=>{for(;e;){if(e===n)return!0;e=KM(e)}return!1}):WM=(n,e)=>n.contains(e),I3=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let qa=null,T3=!1;const S3=WM,A3=I3;let M3=(()=>{class n{validateStyleProperty(t){return function cEe(n){qa||(qa=function uEe(){return typeof document<"u"?document.body:null}()||{},T3=!!qa.style&&"WebkitAppearance"in qa.style);let e=!0;return qa.style&&!function lEe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in qa.style,!e&&T3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in qa.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return S3(t,r)}getParentElement(t){return KM(t)}query(t,r,i){return A3(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new zh(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})(),YM=(()=>{class n{}return n.NOOP=new M3,n})();const QM="ng-enter",ay="ng-leave",ly="ng-trigger",cy=".ng-trigger",k3="ng-animating",XM=".ng-animating";function Ss(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ZM(parseFloat(e[1]),e[2])}function ZM(n,e){return"s"===e?1e3*n:n}function uy(n,e,t){return n.hasOwnProperty("duration")?n:function fEe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(w3()),{duration:0,delay:0,easing:""};i=ZM(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=ZM(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function Swe(){return new D(3100,!1)}()),a=!0),s<0&&(e.push(function Awe(){return new D(3101,!1)}()),a=!0),a&&e.splice(l,0,w3())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Jh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function R3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function vo(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function N3(n,e,t){return t?e+":"+t+";":""}function P3(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=N3(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=N3(0,_Ee(t),n.style[t]));n.setAttribute("style",e)}function Fi(n,e,t){n.style&&(e.forEach((r,i)=>{const s=ex(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),$M()&&P3(n))}function Ga(n,e){n.style&&(e.forEach((t,r)=>{const i=ex(r);n.style[i]=""}),$M()&&P3(n))}function ef(n){return Array.isArray(n)?1==n.length?n[0]:Vq(n):n}const JM=new RegExp("{{\\s*(.+?)\\s*}}","g");function F3(n){let e=[];if("string"==typeof n){let t;for(;t=JM.exec(n);)e.push(t[1]);JM.lastIndex=0}return e}function tf(n,e,t){const r=n.toString(),i=r.replace(JM,(s,o)=>{let a=e[o];return null==a&&(t.push(function xwe(n){return new D(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function dy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const gEe=/-+([a-z0-9])/g;function ex(n){return n.replace(gEe,(...e)=>e[1].toUpperCase())}function _Ee(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function kwe(n){return new D(3004,!1)}()}}function L3(n,e){return window.getComputedStyle(n)[e]}function CEe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function IEe(n,e,t){if(":"==n[0]){const l=function DEe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function qwe(n){return new D(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function zwe(n){return new D(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(V3(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(V3(o,i))}(r,t,e)):t.push(n),t}const my=new Set(["true","1"]),gy=new Set(["false","0"]);function V3(n,e){const t=my.has(n)||gy.has(n),r=my.has(e)||gy.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?my.has(n):gy.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?my.has(e):gy.has(e)),o&&a}}const TEe=new RegExp("s*:selfs*,?","g");function tx(n,e,t,r){return new SEe(n).build(e,t,r)}class SEe{constructor(e){this._driver=e}build(e,t,r){const i=new xEe(t);return this._resetContextStyleTimingState(i),xr(this,ef(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Owe(){return new D(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function Nwe(){return new D(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{F3(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(dy(s.values()),t.errors.push(function Pwe(n,e){return new D(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=xr(this,ef(e.animation),t);return{type:1,matchers:CEe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Wa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>xr(this,r,t)),options:Wa(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=xr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Wa(e.options)}}visitAnimate(e,t){const r=function REe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return nx(uy(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=nx(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=uy(t,e);return nx(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Is({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=Is(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Cs?r.push(a):t.errors.push(new D(3002,!1)):r.push(R3(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(function Lwe(n,e,t,r,i){return new D(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&function mEe(n,e,t){const r=e.params||{},i=F3(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Mwe(n){return new D(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Vwe(){return new D(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const C=this._makeStyleAst(b,t);let y=null!=C.offset?C.offset:function kEe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(C.styles),T=0;return null!=y&&(s++,T=C.offset=y),l=l||T<0||T>1,a=a||T<c,c=T,o.push(T),C});l&&t.errors.push(function Bwe(){return new D(3012,!1)}()),a&&t.errors.push(function Uwe(){return new D(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function jwe(){return new D(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,_=m.duration;return u.forEach((b,C)=>{const y=h>0?C==f?1:h*C:o[C],T=y*_;t.currentTime=p+m.delay+T,m.duration=T,this._validateStyleAst(b,t),b.offset=y,r.styles.push(b)}),r}visitReference(e,t){return{type:8,animation:xr(this,ef(e.animation),t),options:Wa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Wa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Wa(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function AEe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(TEe,"")),n=n.replace(/@\*/g,cy).replace(/@\w+/g,t=>cy+"-"+t.slice(1)).replace(/:animating/g,XM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Mr(t.collectedStyles,t.currentQuerySelector,new Map);const a=xr(this,ef(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Wa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Hwe(){return new D(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:uy(e.timings,t.errors,!0);return{type:12,animation:xr(this,ef(e.animation),t),timings:r,options:null}}}class xEe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wa(n){return n?(n=Jh(n)).params&&(n.params=function MEe(n){return n?Jh(n):null}(n.params)):n={},n}function nx(n,e,t){return{duration:n,delay:e,easing:t}}function rx(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class _y{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const PEe=new RegExp(":enter","g"),LEe=new RegExp(":leave","g");function ix(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new VEe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class VEe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new _y;const d=new sx(e,t,c,i,s,u,[]);d.options=l;const h=l.delay?Ss(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),xr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const _=f[m];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[rx(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Ss(tf(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Ss(r.duration):null,a=null!=r.delay?Ss(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),xr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yy);const o=Ss(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>xr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ss(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),xr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return uy(t.params?tf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Ss(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=yy);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),xr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;xr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const yy={};class sx{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new vy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ss(r.duration)),null!=r.delay&&(i.delay=Ss(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=tf(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new sx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=yy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new BEe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(PEe,"."+this._enterClassName)).replace(LEe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function $we(n){return new D(3014,!1)}()),a}}class vy{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new vy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Cs),this._currentKeyframe.set(t,Cs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function UEe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Cs)}else vo(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=tf(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Cs),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=vo(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Cs&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?dy(e.values()):[],o=t.size?dy(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return rx(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class BEe extends vy{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=vo(e[0]);l.set("offset",0),s.push(l);const c=vo(e[0]);c.set("offset",j3(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=vo(e[d]);const f=h.get("offset");h.set("offset",j3((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return rx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function j3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ox{}const jEe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class HEe extends ox{normalizePropertyName(e,t){return ex(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(jEe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Rwe(n,e){return new D(3005,!1)}())}return o+s}}function H3(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const ax={};class $3{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function $Ee(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||ax,p=this.buildStyles(r,a&&a.params||ax,d),m=l&&l.params||ax,_=this.buildStyles(i,m,d),b=new Set,C=new Map,y=new Map,T="void"===i,P={params:zEe(m,h),delay:this.ast.options?.delay},V=u?[]:ix(e,t,this.ast.animation,s,o,p,_,P,c,d);let ie=0;if(V.forEach(Pt=>{ie=Math.max(Pt.duration+Pt.delay,ie)}),d.length)return H3(t,this._triggerName,r,i,T,p,_,[],[],C,y,ie,d);V.forEach(Pt=>{const Kn=Pt.element,Gc=Mr(C,Kn,new Set);Pt.preStyleProps.forEach(li=>Gc.add(li));const As=Mr(y,Kn,new Set);Pt.postStyleProps.forEach(li=>As.add(li)),Kn!==t&&b.add(Kn)});const Qe=dy(b.values());return H3(t,this._triggerName,r,i,T,p,_,V,Qe,C,y,ie)}}function zEe(n,e){const t=Jh(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class qEe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Jh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=tf(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(l,o)})}),r}}class WEe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new qEe(i.style,i.options&&i.options.params||{},r))}),z3(this.states,"true","1"),z3(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new $3(e,i,this.states))}),this.fallbackTransition=function KEe(n,e,t){return new $3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function z3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const YEe=new _y;class QEe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=tx(this._driver,t,r,[]);if(r.length)throw function Qwe(n){return new D(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=E3(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=ix(this._driver,t,s,QM,ay,new Map,new Map,r,YEe,i),o.forEach(u=>{const d=Mr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Xwe(){return new D(3300,!1)}()),o=[]),i.length)throw function Zwe(n){return new D(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Cs))})});const c=yo(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Jwe(n){return new D(3301,!1)}();return t}listen(e,t,r,i){const s=GM(t,"","","");return zM(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const q3="ng-animate-queued",lx="ng-animate-disabled",tCe=[],G3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nCe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hr="__ng_removed";class cx{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function oCe(n){return n??null}(r?e.value:e),r){const s=Jh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const nf="void",ux=new cx(nf);class rCe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,$r(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function eEe(n,e){return new D(3302,!1)}();if(null==r||0==r.length)throw function tEe(n){return new D(3303,!1)}();if(!function aCe(n){return"start"==n||"done"==n}(r))throw function nEe(n,e){return new D(3400,!1)}();const s=Mr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Mr(this._engine.statesByElement,e,new Map);return a.has(t)||($r(e,ly),$r(e,ly+"-"+t),a.set(t,ux)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function rEe(n){return new D(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new dx(this.id,t,e);let a=this._engine.statesByElement.get(e);a||($r(e,ly),$r(e,ly+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new cx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=ux),c.value!==nf&&l.value===c.value){if(!function uCe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],_=s.matchStyles(l.value,l.params,m),b=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ga(e,_),Fi(e,b)})}return}const h=Mr(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||($r(e,q3),o.onStart(()=>{qc(e,q3)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const _=this._engine.playersByElement.get(e);if(_){let b=_.indexOf(o);b>=0&&_.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,cy,!0);r.forEach(i=>{if(i[Hr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,nf,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&yo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||ux,u=new cx(nf),d=new dx(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Hr];(!s||s===G3)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){$r(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=GM(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,zM(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class iCe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new rCe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(by(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!by(t))return;const s=t[Hr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),$r(e,lx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qc(e,lx))}removeNode(e,t,r,i){if(by(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Hr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return by(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,cy,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,XM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return yo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Hr];if(t&&t.setForRemoval){if(e[Hr]=G3,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(lx)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)$r(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?yo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function iEe(n){return new D(3402,!1)}()}_flushAnimations(e,t){const r=new _y,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(z=>{u.add(z);const X=this.driver.query(z,".ng-animate-queued",!0);for(let ne=0;ne<X.length;ne++)u.add(X[ne])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Y3(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((z,X)=>{const ne=QM+m++;p.set(X,ne),z.forEach(ke=>$r(ke,ne))});const _=[],b=new Set,C=new Set;for(let z=0;z<this.collectedLeaveElements.length;z++){const X=this.collectedLeaveElements[z],ne=X[Hr];ne&&ne.setForRemoval&&(_.push(X),b.add(X),ne.hasAnimation?this.driver.query(X,".ng-star-inserted",!0).forEach(ke=>b.add(ke)):C.add(X))}const y=new Map,T=Y3(h,Array.from(b));T.forEach((z,X)=>{const ne=ay+m++;y.set(X,ne),z.forEach(ke=>$r(ke,ne))}),e.push(()=>{f.forEach((z,X)=>{const ne=p.get(X);z.forEach(ke=>qc(ke,ne))}),T.forEach((z,X)=>{const ne=y.get(X);z.forEach(ke=>qc(ke,ne))}),_.forEach(z=>{this.processLeaveNode(z)})});const P=[],V=[];for(let z=this._namespaceList.length-1;z>=0;z--)this._namespaceList[z].drainQueuedTransitions(t).forEach(ne=>{const ke=ne.player,sn=ne.element;if(P.push(ke),this.collectedEnterElements.length){const On=sn[Hr];if(On&&On.setForMove){if(On.previousTriggersValues&&On.previousTriggersValues.has(ne.triggerName)){const Ka=On.previousTriggersValues.get(ne.triggerName),zr=this.statesByElement.get(ne.element);if(zr&&zr.has(ne.triggerName)){const Cy=zr.get(ne.triggerName);Cy.value=Ka,zr.set(ne.triggerName,Cy)}}return void ke.destroy()}}const Li=!d||!this.driver.containsElement(d,sn),kr=y.get(sn),bo=p.get(sn),wt=this._buildInstruction(ne,r,bo,kr,Li);if(wt.errors&&wt.errors.length)return void V.push(wt);if(Li)return ke.onStart(()=>Ga(sn,wt.fromStyles)),ke.onDestroy(()=>Fi(sn,wt.toStyles)),void i.push(ke);if(ne.isFallbackTransition)return ke.onStart(()=>Ga(sn,wt.fromStyles)),ke.onDestroy(()=>Fi(sn,wt.toStyles)),void i.push(ke);const sW=[];wt.timelines.forEach(On=>{On.stretchStartingKeyframe=!0,this.disabledNodes.has(On.element)||sW.push(On)}),wt.timelines=sW,r.append(sn,wt.timelines),o.push({instruction:wt,player:ke,element:sn}),wt.queriedElements.forEach(On=>Mr(a,On,[]).push(ke)),wt.preStyleProps.forEach((On,Ka)=>{if(On.size){let zr=l.get(Ka);zr||l.set(Ka,zr=new Set),On.forEach((Cy,px)=>zr.add(px))}}),wt.postStyleProps.forEach((On,Ka)=>{let zr=c.get(Ka);zr||c.set(Ka,zr=new Set),On.forEach((Cy,px)=>zr.add(px))})});if(V.length){const z=[];V.forEach(X=>{z.push(function sEe(n,e){return new D(3505,!1)}())}),P.forEach(X=>X.destroy()),this.reportError(z)}const ie=new Map,Qe=new Map;o.forEach(z=>{const X=z.element;r.has(X)&&(Qe.set(X,X),this._beforeAnimationBuild(z.player.namespaceId,z.instruction,ie))}),i.forEach(z=>{const X=z.element;this._getPreviousPlayers(X,!1,z.namespaceId,z.triggerName,null).forEach(ke=>{Mr(ie,X,[]).push(ke),ke.destroy()})});const Pt=_.filter(z=>X3(z,l,c)),Kn=new Map;K3(Kn,this.driver,C,c,Cs).forEach(z=>{X3(z,l,c)&&Pt.push(z)});const As=new Map;f.forEach((z,X)=>{K3(As,this.driver,new Set(z),l,"!")}),Pt.forEach(z=>{const X=Kn.get(z),ne=As.get(z);Kn.set(z,new Map([...Array.from(X?.entries()??[]),...Array.from(ne?.entries()??[])]))});const li=[],Wc=[],Kc={};o.forEach(z=>{const{element:X,player:ne,instruction:ke}=z;if(r.has(X)){if(u.has(X))return ne.onDestroy(()=>Fi(X,ke.toStyles)),ne.disabled=!0,ne.overrideTotalTime(ke.totalTime),void i.push(ne);let sn=Kc;if(Qe.size>1){let kr=X;const bo=[];for(;kr=kr.parentNode;){const wt=Qe.get(kr);if(wt){sn=wt;break}bo.push(kr)}bo.forEach(wt=>Qe.set(wt,sn))}const Li=this._buildAnimation(ne.namespaceId,ke,ie,s,As,Kn);if(ne.setRealPlayer(Li),sn===Kc)li.push(ne);else{const kr=this.playersByElement.get(sn);kr&&kr.length&&(ne.parentPlayer=yo(kr)),i.push(ne)}}else Ga(X,ke.fromStyles),ne.onDestroy(()=>Fi(X,ke.toStyles)),Wc.push(ne),u.has(X)&&i.push(ne)}),Wc.forEach(z=>{const X=s.get(z.element);if(X&&X.length){const ne=yo(X);z.setRealPlayer(ne)}}),i.forEach(z=>{z.parentPlayer?z.syncPlayerEvents(z.parentPlayer):z.destroy()});for(let z=0;z<_.length;z++){const X=_[z],ne=X[Hr];if(qc(X,ay),ne&&ne.hasAnimation)continue;let ke=[];if(a.size){let Li=a.get(X);Li&&Li.length&&ke.push(...Li);let kr=this.driver.query(X,XM,!0);for(let bo=0;bo<kr.length;bo++){let wt=a.get(kr[bo]);wt&&wt.length&&ke.push(...wt)}}const sn=ke.filter(Li=>!Li.destroyed);sn.length?lCe(this,X,sn):this.processLeaveNode(X)}return _.length=0,li.forEach(z=>{this.players.push(z),z.onDone(()=>{z.destroy();const X=this.players.indexOf(z);this.players.splice(X,1)}),z.play()}),li}elementContainsData(e,t){let r=!1;const i=t[Hr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==nf;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Mr(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ga(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const _=m[Hr];if(_&&_.removedBeforeQueried)return new zh(p.duration,p.delay);const b=m!==l,C=function cCe(n){const e=[];return Q3(n,e),e}((r.get(m)||tCe).map(ie=>ie.getRealPlayer())).filter(ie=>!!ie.element&&ie.element===m),y=s.get(m),T=o.get(m),P=E3(0,this._normalizer,0,p.keyframes,y,T),V=this._buildPlayer(p,P,C);if(p.subTimeline&&i&&d.add(m),b){const ie=new dx(e,a,m);ie.setRealPlayer(V),c.push(ie)}return V});c.forEach(p=>{Mr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function sCe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>$r(p,k3));const f=yo(h);return f.onDestroy(()=>{u.forEach(p=>qc(p,k3)),Fi(l,t.toStyles)}),d.forEach(p=>{Mr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new zh(e.duration,e.delay)}}class dx{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new zh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>zM(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Mr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function by(n){return n&&1===n.nodeType}function W3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function K3(n,e,t,r,i){const s=[];t.forEach(l=>s.push(W3(l)));const o=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Hr]=nCe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>W3(l,s[a++])),o}function Y3(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function $r(n,e){n.classList?.add(e)}function qc(n,e){n.classList?.remove(e)}function lCe(n,e,t){yo(t).onDone(()=>n.processLeaveNode(e))}function Q3(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Uq?Q3(r.players,e):e.push(r)}}function X3(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class wy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new iCe(e,t,r),this._timelineEngine=new QEe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=tx(this._driver,s,l,[]);if(l.length)throw function Kwe(n,e){return new D(3404,!1)}();a=function GEe(n,e,t){return new WEe(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=C3(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=C3(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let hCe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Fi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fi(this._element,this._initialStyles),this._endStyles&&(Fi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ga(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ga(this._element,this._endStyles),this._endStyles=null),Fi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function hx(n){let e=null;return n.forEach((t,r)=>{(function fCe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Z3{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:L3(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class pCe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return S3(e,t)}getParentElement(e){return KM(e)}query(e,t,r){return A3(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(f=>f instanceof Z3);(function yEe(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function pEe(n){return n.length?n[0]instanceof Map?n:n.map(e=>R3(e)):[]}(t).map(f=>vo(f));d=function vEe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,L3(n,a)))}}return e}(e,d,c);const h=function dCe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=hx(e[0]),e.length>1&&(r=hx(e[e.length-1]))):e instanceof Map&&(t=hx(e)),t||r?new hCe(n,t,r):null}(e,d);return new Z3(e,d,l,h)}}let mCe=(()=>{class n extends Lq{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Wr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Vq(t):t;return J3(this._renderer,null,r,"register",[i]),new gCe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(I(Eu),I(ve))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class gCe extends class r_e{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new _Ce(this._id,e,t||{},this._renderer)}}class _Ce{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return J3(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function J3(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const eW="@.disabled";let yCe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new tW("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new vCe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(I(Eu),I(wy),I(me))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();class tW{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==eW?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class vCe extends tW{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==eW?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function bCe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function wCe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let ECe=(()=>{class n extends wy{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(I(ve),I(YM),I(ox),I(Bo))},n.\u0275prov=B({token:n,factory:n.\u0275fac}),n})();const nW=[{provide:Lq,useClass:mCe},{provide:ox,useFactory:function CCe(){return new HEe}},{provide:wy,useClass:ECe},{provide:Eu,useFactory:function ICe(n,e,t){return new yCe(n,e,t)},deps:[jp,wy,me]}],fx=[{provide:YM,useFactory:()=>new pCe},{provide:ju,useValue:"BrowserAnimations"},...nW],rW=[{provide:YM,useClass:M3},{provide:ju,useValue:"NoopAnimations"},...nW];let DCe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?rW:fx}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n}),n.\u0275inj=Re({providers:fx,imports:[fF]}),n})();const iW_firebase={projectId:"angular-sign-up-b2991",appId:"1:565244714313:web:c8cff1ddb6309976e84e98",storageBucket:"angular-sign-up-b2991.appspot.com",apiKey:"AIzaSyCOySCvwpUAX7hQKse_aBkRSthuYNy5GJI",authDomain:"angular-sign-up-b2991.firebaseapp.com",messagingSenderId:"565244714313"};let TCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Pe({type:n,bootstrap:[Twe]}),n.\u0275inj=Re({imports:[fF,vbe,DCe,Dbe,hbe,Wge,yM,N_e,Cwe,YA,Dse(()=>Tse(iW_firebase)),oce(()=>uce()),tpe(()=>rpe()),Uve(()=>Hve())]}),n})();(function q9(){if(gP)throw new Error("Cannot enable prod mode after platform setup.");mP=!1})(),bZ().bootstrapModule(TCe).catch(n=>console.error(n))}},Me=>{Me(Me.s=146)}]);